(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{sJ2M:function(c,e,t){"use strict";t.r(e),t.d(e,"AdminModule",function(){return Oe});var n=t("ofXK"),i=t("oOf3"),a=t("1kSV"),o=t("3Pt+"),r=t("tyNb"),s=t("quSY"),d=t("AytR"),l=t("0IaG"),b=t("fXoL"),u=t("IRLN"),h=t("EnSQ"),g=t("OC8m"),m=t("F4W7");const f=["localGovernmentId"];function p(c,e){1&c&&b.Zb(0)}function v(c,e){1&c&&(b.dc(0,"div"),b.Pc(1," This field is required. "),b.cc())}function x(c,e){if(1&c&&(b.dc(0,"div"),b.Pc(1),b.cc()),2&c){b.rc(2);const c=b.Fc(4);b.Kb(1),b.Rc(" Full name must be minimum ",c.errors.minlength.requiredLength," characters. ")}}function P(c,e){if(1&c&&(b.dc(0,"div"),b.Pc(1),b.cc()),2&c){b.rc(2);const c=b.Fc(4);b.Kb(1),b.Rc(" Full name must be maximum ",c.errors.maxlength.requiredLength," characters. ")}}function y(c,e){if(1&c&&(b.dc(0,"div",25),b.Nc(1,v,2,0,"div",26),b.Nc(2,x,2,1,"div",26),b.Nc(3,P,2,1,"div",26),b.cc()),2&c){b.rc();const c=b.Fc(4);b.Kb(1),b.xc("ngIf",c.errors.required),b.Kb(1),b.xc("ngIf",c.errors.minlength),b.Kb(1),b.xc("ngIf",c.errors.maxlength)}}function I(c,e){1&c&&(b.dc(0,"div"),b.Pc(1," This field is required. "),b.cc())}function S(c,e){1&c&&(b.dc(0,"div"),b.Pc(1," Please enter a valid email. "),b.cc())}function N(c,e){if(1&c&&(b.dc(0,"div"),b.Pc(1),b.cc()),2&c){b.rc(2);const c=b.Fc(10);b.Kb(1),b.Rc(" Email must be minimum ",c.errors.minlength.requiredLength," characters. ")}}function K(c,e){if(1&c&&(b.dc(0,"div"),b.Pc(1),b.cc()),2&c){b.rc(2);const c=b.Fc(10);b.Kb(1),b.Rc(" Email must be maximum ",c.errors.maxlength.requiredLength," characters. ")}}function k(c,e){if(1&c&&(b.dc(0,"div",25),b.Nc(1,I,2,0,"div",26),b.Nc(2,S,2,0,"div",26),b.Nc(3,N,2,1,"div",26),b.Nc(4,K,2,1,"div",26),b.cc()),2&c){b.rc();const c=b.Fc(10);b.Kb(1),b.xc("ngIf",c.errors.required),b.Kb(1),b.xc("ngIf",c.errors.pattern),b.Kb(1),b.xc("ngIf",c.errors.minlength),b.Kb(1),b.xc("ngIf",c.errors.maxlength)}}function w(c,e){if(1&c&&(b.dc(0,"option",27),b.Pc(1),b.sc(2,"uppercase"),b.cc()),2&c){const c=e.$implicit;b.xc("value",c._id),b.Kb(1),b.Qc(b.tc(2,2,c.name))}}function L(c,e){1&c&&(b.dc(0,"div"),b.Pc(1," Select a Role. "),b.cc())}function C(c,e){if(1&c&&(b.dc(0,"div",25),b.Nc(1,L,2,0,"div",26),b.cc()),2&c){b.rc();const c=b.Fc(16);b.Kb(1),b.xc("ngIf",c.errors.required)}}function F(c,e){if(1&c&&(b.dc(0,"option",27),b.Pc(1),b.sc(2,"uppercase"),b.cc()),2&c){const c=e.$implicit;b.xc("value",c._id),b.Kb(1),b.Qc(b.tc(2,2,c.name+" ("+c.code+")"))}}function T(c,e){1&c&&(b.dc(0,"div"),b.Pc(1," Select a local government. "),b.cc())}function R(c,e){if(1&c&&(b.dc(0,"div",25),b.Nc(1,T,2,0,"div",26),b.cc()),2&c){b.rc();const c=b.Fc(25);b.Kb(1),b.xc("ngIf",c.errors.required)}}function O(c,e){if(1&c){const c=b.ec();b.dc(0,"div",9),b.dc(1,"label",10),b.Pc(2,"Full Name"),b.cc(),b.dc(3,"input",11,12),b.nc("ngModelChange",function(e){return b.Hc(c),b.rc().formName=e}),b.cc(),b.Nc(5,y,4,3,"div",13),b.cc(),b.dc(6,"div",9),b.dc(7,"label",14),b.Pc(8,"Email"),b.cc(),b.dc(9,"input",15,16),b.nc("ngModelChange",function(e){return b.Hc(c),b.rc().formEmail=e}),b.cc(),b.Nc(11,k,5,4,"div",13),b.cc(),b.dc(12,"div",9),b.dc(13,"label",17),b.Pc(14,"Role"),b.cc(),b.dc(15,"select",18,19),b.nc("ngModelChange",function(e){return b.Hc(c),b.rc().formRoleId=e})("change",function(){return b.Hc(c),b.rc().filterZones()}),b.dc(17,"option",20),b.Pc(18,"Select a Role"),b.cc(),b.Nc(19,w,3,4,"option",21),b.cc(),b.Nc(20,C,2,1,"div",13),b.cc(),b.dc(21,"div",9),b.dc(22,"label",22),b.Pc(23,"Local Government"),b.cc(),b.dc(24,"select",23,24),b.nc("ngModelChange",function(e){return b.Hc(c),b.rc().formLga=e}),b.dc(26,"option",20),b.Pc(27,"Select a Local Government"),b.cc(),b.Nc(28,F,3,4,"option",21),b.cc(),b.Nc(29,R,2,1,"div",13),b.cc()}if(2&c){const c=b.Fc(4),e=b.Fc(10),t=b.Fc(16),n=b.Fc(25),i=b.rc();b.Kb(1),b.Pb("text-danger",c.touched&&c.invalid),b.Kb(2),b.Pb("error-control",c.touched&&c.invalid),b.xc("ngModel",i.formName),b.Kb(2),b.xc("ngIf",c.touched&&c.invalid),b.Kb(2),b.Pb("text-danger",e.touched&&e.invalid),b.Kb(2),b.Pb("error-control",e.touched&&e.invalid),b.xc("ngModel",i.formEmail)("pattern",i.emailPattern),b.Kb(2),b.xc("ngIf",e.touched&&e.invalid),b.Kb(2),b.Pb("text-danger",t.touched&&t.invalid),b.Kb(2),b.Pb("error-control",t.touched&&t.invalid),b.xc("ngModel",i.formRoleId)("disabled",i.data),b.Kb(4),b.xc("ngForOf",i.rolesList),b.Kb(1),b.xc("ngIf",t.touched&&t.invalid),b.Kb(2),b.Pb("text-danger",n.touched&&n.invalid),b.Kb(2),b.Pb("error-control",n.touched&&n.invalid),b.xc("ngModel",i.formLga)("disabled",i.data),b.Kb(4),b.xc("ngForOf",i.zones),b.Kb(1),b.xc("ngIf",n.touched&&n.invalid)}}function M(c,e){1&c&&(b.dc(0,"app-loader"),b.Pc(1,"Please wait..."),b.cc())}let E=(()=>{class c{constructor(c,e,t,n,i){this.loader=c,this.dataService=e,this.dialogRef=t,this.notifications=n,this.data=i,this.action="Add New User",this.token=sessionStorage.getItem("token"),this.rolesList=JSON.parse(sessionStorage.getItem("roleList")).filter(c=>"super-admin"!=c.name),this.zones=[],this.initiaitorZones=[],this.reviewerZone=[],this.emailPattern=d.a.emailPattern,this.zonesSubscription=new s.a,this.regSubscription=new s.a,this.formName="",this.formEmail="",this.formRoleId="",this.formLga=""}ngOnInit(){this.getLocalGovernments(),this.data&&(this.action="Edit User",this.formName=this.data.name,this.formEmail=this.data.email,this.formRoleId=this.data.role,this.formLga=this.data.localGovernment._id)}ngOnDestroy(){this.loader.hideLoader(),this.zonesSubscription.unsubscribe(),this.regSubscription.unsubscribe()}filterZones(){if(!this.data){this.localGovernmentId.reset("");const c=this.rolesList.find(c=>"reviewer"==c.name);this.zones=c._id===this.formRoleId?[...this.reviewerZone]:[...this.initiaitorZones]}}getLocalGovernments(){this.loader.showLoader(),this.zonesSubscription=this.dataService.get(d.a.zones,this.token).subscribe(c=>{if(this.loader.hideLoader(),!this.data)return this.initiaitorZones=c.filter(c=>"00"!=c.code&&"01"!=c.code),void(this.reviewerZone=c.filter(c=>"01"==c.code));this.zones=[...c]})}submit(c){this.notifications.prompt(this.data?"Save changes ?":"Create user?").then(e=>{if(e.isConfirmed){this.loader.showLoader();const e=d.a.users;this.data?this.updateExisting(this.data._id,e):this.saveNewUser(c.value,e)}})}saveNewUser(c,e){this.regSubscription=this.dataService.post(e,c,this.token).subscribe(c=>{this.notifications.successToast("User created successfully."),this.loader.hideLoader(),this.dialogRef.close(!0)})}updateExisting(c,e){this.regSubscription=this.dataService.update(e,c,{name:this.formName,email:this.formEmail,roleId:this.formRoleId,localGovernmentId:this.formLga},this.token).subscribe(c=>{this.notifications.successToast("User successfully updated."),this.loader.hideLoader(),this.dialogRef.close(!0)})}}return c.\u0275fac=function(e){return new(e||c)(b.Xb(u.a),b.Xb(h.a),b.Xb(l.g),b.Xb(g.a),b.Xb(l.a))},c.\u0275cmp=b.Rb({type:c,selectors:[["app-add-user"]],viewQuery:function(c,e){if(1&c&&b.Tc(f,1),2&c){let c;b.Ec(c=b.oc())&&(e.localGovernmentId=c.first)}},decls:15,vars:10,consts:[[3,"ngSubmit"],["f","ngForm"],["mat-dialog-title","",2,"font-size","150%"],[4,"ngIf","ngIfThen","ngIfElse"],["align","end"],["type","submit",1,"btn-primary","btn-sm","btn",3,"disabled"],["type","button","matDialogClose","",1,"btn-outline-primary","btn-sm","btn","ml-2",3,"disabled"],["show",""],["load",""],[1,"form-group"],["for","name"],["type","text","id","name","name","name","minlength","5","maxlength","50","required","",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["name","ngModel"],["class","text-danger mt-1",4,"ngIf"],["for","email"],["type","email","id","email","name","email","minlength","5","maxlength","50","required","",1,"form-control","form-control-sm",3,"ngModel","pattern","ngModelChange"],["email","ngModel"],["for","roleId"],["id","roleId","name","roleId","required","",1,"form-control","form-control-sm",2,"border-radius","2px",3,"ngModel","disabled","ngModelChange","change"],["roleId","ngModel"],["selected","","hidden","","value",""],[3,"value",4,"ngFor","ngForOf"],["for","localGovernmentId"],["id","localGovernmentId","name","localGovernmentId","required","",1,"form-control","form-control-sm",2,"border-radius","2px",3,"ngModel","disabled","ngModelChange"],["localGovernmentId","ngModel"],[1,"text-danger","mt-1"],[4,"ngIf"],[3,"value"]],template:function(c,e){if(1&c){const c=b.ec();b.dc(0,"form",0,1),b.nc("ngSubmit",function(){b.Hc(c);const t=b.Fc(1);return e.submit(t)}),b.dc(2,"p",2),b.Pc(3),b.cc(),b.dc(4,"mat-dialog-content"),b.Nc(5,p,1,0,"ng-container",3),b.cc(),b.dc(6,"mat-dialog-actions",4),b.dc(7,"button",5),b.Pc(8," Save "),b.cc(),b.dc(9,"button",6),b.Pc(10," Cancel "),b.cc(),b.cc(),b.Nc(11,O,30,29,"ng-template",null,7,b.Oc),b.Nc(13,M,2,0,"ng-template",null,8,b.Oc),b.cc()}if(2&c){const c=b.Fc(1),t=b.Fc(12),n=b.Fc(14);b.Kb(3),b.Qc(e.action),b.Kb(2),b.xc("ngIf",e.loader.loaderVisible)("ngIfThen",n)("ngIfElse",t),b.Kb(2),b.Pb("magnifyText",!e.loader.loaderVisible||c.valid),b.xc("disabled",e.loader.loaderVisible||c.invalid),b.Kb(2),b.Pb("magnifyText",!e.loader.loaderVisible),b.xc("disabled",e.loader.loaderVisible)}},directives:[o.z,o.p,o.q,l.h,l.e,n.n,l.c,l.d,o.c,o.k,o.j,o.v,o.o,o.r,o.t,o.w,o.s,o.y,n.m,m.a],pipes:[n.x],styles:[""]}),c})();var z=t("5dVO"),X=t("mURs"),A=t("fC9P");function q(c,e){1&c&&b.Zb(0)}function V(c,e){1&c&&(b.dc(0,"thead"),b.dc(1,"tr"),b.dc(2,"td"),b.dc(3,"app-loader"),b.Pc(4,"Fetching data..."),b.cc(),b.cc(),b.cc(),b.cc())}function j(c,e){1&c&&b.Zb(0)}function D(c,e){if(1&c&&b.Nc(0,j,1,0,"ng-container",17),2&c){const c=b.rc(),e=b.Fc(37),t=b.Fc(35);b.xc("ngIf",c.users.length>0)("ngIfThen",e)("ngIfElse",t)}}function Z(c,e){1&c&&(b.dc(0,"thead"),b.dc(1,"tr"),b.dc(2,"td"),b.Pc(3,"No record(s) to display"),b.cc(),b.cc(),b.cc())}function $(c,e){if(1&c){const c=b.ec();b.dc(0,"tbody"),b.dc(1,"tr"),b.dc(2,"td"),b.Pc(3),b.cc(),b.dc(4,"td"),b.Pc(5),b.cc(),b.dc(6,"td"),b.Pc(7),b.cc(),b.dc(8,"td"),b.Pc(9),b.cc(),b.dc(10,"td"),b.Pc(11),b.sc(12,"date"),b.cc(),b.dc(13,"td"),b.dc(14,"button",30),b.nc("click",function(){b.Hc(c);const t=e.$implicit;return b.rc(2).addUser(t)}),b.Pc(15,"Edit"),b.cc(),b.Pc(16," \xa0 \xa0 "),b.dc(17,"div",31,32),b.dc(19,"button",33),b.nc("focus",function(){return b.Hc(c),b.Fc(18).open()}),b.Pc(20,"More"),b.cc(),b.dc(21,"div",34),b.dc(22,"button",35),b.nc("click",function(){b.Hc(c);const t=e.$implicit;return b.rc(2).resetPassword(t)}),b.Pc(23,"Reset Password"),b.cc(),b.dc(24,"button",36),b.Pc(25,"Change Role"),b.cc(),b.cc(),b.cc(),b.cc(),b.cc(),b.cc()}if(2&c){const c=e.index,t=e.$implicit;b.Kb(3),b.Qc(c+1),b.Kb(2),b.Qc(t.name),b.Kb(2),b.Qc(t.email),b.Kb(2),b.Qc(t.localGovernment.name),b.Kb(2),b.Qc(b.uc(12,5,t.dateCreated,"medium"))}}const H=function(c){return{itemsPerPage:10,currentPage:c}};function Y(c,e){if(1&c&&(b.dc(0,"thead"),b.dc(1,"tr"),b.dc(2,"th",24),b.Pc(3,"S/N"),b.cc(),b.dc(4,"th",25),b.Pc(5,"Full Name"),b.cc(),b.dc(6,"th",26),b.Pc(7,"Email"),b.cc(),b.dc(8,"th",27),b.Pc(9,"Zone"),b.cc(),b.dc(10,"th",28),b.Pc(11,"Date Created"),b.cc(),b.dc(12,"th"),b.Pc(13,"Actions"),b.cc(),b.cc(),b.cc(),b.Nc(14,$,26,8,"tbody",29),b.sc(15,"paginate"),b.sc(16,"filter")),2&c){const c=b.rc();b.Kb(2),b.xc("appSort",c.users),b.Kb(2),b.xc("appSort",c.users),b.Kb(2),b.xc("appSort",c.users),b.Kb(2),b.xc("appSort",c.users),b.Kb(2),b.xc("appSort",c.users),b.Kb(4),b.xc("ngForOf",b.uc(15,6,b.uc(16,9,c.users,c.searchText),b.Bc(12,H,c.p)))}}let G=(()=>{class c{constructor(c,e,t,n){this.loader=c,this.dataService=e,this.dialog=t,this.notifications=n,this.searchText="",this.users=[],this.p=1,this.active="initiators",this.display="Initiators List",this.rolesList=[...JSON.parse(sessionStorage.getItem("roleList"))],this.subscription=new s.a}ngOnInit(){this.tabClick("initiators")}ngOnDestroy(){this.loader.hideLoader(),this.subscription.unsubscribe()}tabClick(c){let e;switch(this.active=c,c){case"initiators":e=this.getRole("initiator"),this.display="Initiators List";break;case"admins":e=this.getRole("admin"),this.display="Admin List";break;default:e=this.getRole("reviewer"),this.display="Reviewer List"}this.getUsers(e._id)}getRole(c){return this.rolesList.find(e=>e.name===c)}getUsers(c){this.loader.showLoader();const e=`${d.a.users}/by-role`,t=sessionStorage.getItem("token");this.subscription=this.dataService.get(e,t,c).subscribe(c=>{this.users=[...c],this.loader.hideLoader()})}addUser(c){window.scroll(0,0),this.dialog.open(E,{width:"32rem",disableClose:!0,data:c||null}).afterClosed().subscribe(c=>{c&&this.tabClick(this.active)})}resetPassword(c){this.notifications.prompt(`Are you sure you want to reset ${c.name.toUpperCase()}'s password ?`).then(e=>{if(e.isConfirmed){this.loader.showLoader();const e=`${d.a.users}/reset-password`,t=sessionStorage.getItem("token");this.subscription=this.dataService.update(e,c._id,{},t).subscribe(e=>{this.notifications.alert(`${c.name.toUpperCase()}'s password has been reset.<br/>New password: password`).then(c=>{c.isConfirmed&&this.tabClick(this.active)})})}})}}return c.\u0275fac=function(e){return new(e||c)(b.Xb(z.a),b.Xb(h.a),b.Xb(l.b),b.Xb(g.a))},c.\u0275cmp=b.Rb({type:c,selectors:[["app-users"]],decls:38,vars:17,consts:[[1,"page-breadcrumb"],[1,"breadcrumb",2,"font-size","150%"],[1,"breadcrumb-item"],[1,"text-primary"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-12",2,"text-align","center"],["role","group",1,"btn-group","mb-4"],["type","button",1,"magnifyText","btn","btn-primary",3,"disabled","click"],[1,"row"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body",2,"overflow-x","auto"],[1,"card-title"],[1,"btn","btn-success","mb-4",3,"disabled","click"],["type","search","name","search","placeholder","Search",1,"form-control","col-sm-12","col-md-3","float-right","mb-3",3,"ngModel","ngModelChange"],[1,"table-responsive",2,"overflow-y","hidden!important"],[1,"table"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"col-12","mx-auto","mt-3"],["maxSize","9","directionLinks","true","autoHide","true","responsive","true","previousLabel","Previous","nextLabel","Next","screenReaderPaginationLabel","Pagination","screenReaderPageLabel","page","screenReaderCurrentLabel","You're on page",1,"float-right",3,"pageChange"],["load",""],["show",""],["noData",""],["tableData",""],["scope","col","data-order","desc","data-name","sn",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","name",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","email",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","localGovernment.name",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","dateCreated",1,"sort",3,"appSort"],[4,"ngFor","ngForOf"],["type","button",1,"btn","magnifyText","btn-primary","btn-sm",2,"color","white!important",3,"click"],["ngbDropdown","","container","body",1,"d-inline-block"],["moreActionsDrop","ngbDropdown"],["id","moredropDown","ngbDropdownAnchor","",1,"magnifyText","btn","btn-sm","btn-outline-primary",3,"focus"],["ngbDropdownMenu","","aria-labelledby","moredropDown"],["ngbDropdownItem","",1,"my-2",2,"font-size","105%!important",3,"click"],["ngbDropdownItem","",1,"my-2",2,"font-size","105%!important"]],template:function(c,e){if(1&c&&(b.dc(0,"nav",0),b.dc(1,"ol",1),b.dc(2,"li",2),b.dc(3,"a",3),b.Pc(4,"Users"),b.cc(),b.cc(),b.dc(5,"li",4),b.Pc(6),b.cc(),b.cc(),b.cc(),b.dc(7,"div",5),b.dc(8,"div",6),b.dc(9,"button",7),b.nc("click",function(){return e.tabClick("initiators")}),b.Pc(10," Initiators "),b.cc(),b.dc(11,"button",7),b.nc("click",function(){return e.tabClick("admins")}),b.Pc(12," Admins "),b.cc(),b.dc(13,"button",7),b.nc("click",function(){return e.tabClick("reviewers")}),b.Pc(14," Reviewers "),b.cc(),b.cc(),b.cc(),b.dc(15,"div",8),b.dc(16,"div",9),b.dc(17,"div",10),b.dc(18,"div",11),b.dc(19,"h6",12),b.Pc(20,"USERS MASTER LIST"),b.cc(),b.dc(21,"button",13),b.nc("click",function(){return e.addUser()}),b.dc(22,"span"),b.Pc(23,"Add User"),b.cc(),b.cc(),b.dc(24,"input",14),b.nc("ngModelChange",function(c){return e.searchText=c}),b.cc(),b.dc(25,"div",15),b.dc(26,"table",16),b.Nc(27,q,1,0,"ng-container",17),b.cc(),b.dc(28,"div",18),b.dc(29,"pagination-controls",19),b.nc("pageChange",function(c){return e.p=c}),b.cc(),b.cc(),b.cc(),b.cc(),b.cc(),b.cc(),b.cc(),b.Nc(30,V,5,0,"ng-template",null,20,b.Oc),b.Nc(32,D,1,3,"ng-template",null,21,b.Oc),b.Nc(34,Z,4,0,"ng-template",null,22,b.Oc),b.Nc(36,Y,17,14,"ng-template",null,23,b.Oc)),2&c){const c=b.Fc(31),t=b.Fc(33);b.Kb(6),b.Qc(e.display),b.Kb(3),b.Pb("btn-active","initiators"===e.active),b.xc("disabled",e.loader.loaderVisible),b.Kb(2),b.Pb("btn-active","admins"===e.active),b.xc("disabled",e.loader.loaderVisible),b.Kb(2),b.Pb("btn-active","reviewers"===e.active),b.xc("disabled",e.loader.loaderVisible),b.Kb(8),b.Pb("magnifyText",!e.loader.loaderVisible),b.xc("disabled",e.loader.loaderVisible),b.Kb(3),b.xc("ngModel",e.searchText),b.Kb(3),b.xc("ngIf",e.loader.loaderVisible)("ngIfThen",c)("ngIfElse",t)}},directives:[o.c,o.o,o.r,n.n,i.c,m.a,X.a,n.m,a.a,a.b,a.d,a.c],pipes:[i.b,A.a,n.e],styles:[".ngx-pagination .current{background-color:#727cf5!important;border-radius:3px}"]}),c})();function Q(c,e){1&c&&b.Zb(0)}function B(c,e){1&c&&(b.dc(0,"div"),b.Pc(1," This field is required. "),b.cc())}function U(c,e){if(1&c&&(b.dc(0,"div"),b.Pc(1),b.cc()),2&c){b.rc(2);const c=b.Fc(4);b.Kb(1),b.Rc(" Zone name must be minimum ",c.errors.minlength.requiredLength," characters. ")}}function _(c,e){if(1&c&&(b.dc(0,"div"),b.Pc(1),b.cc()),2&c){b.rc(2);const c=b.Fc(4);b.Kb(1),b.Rc(" Zone name must be maximum ",c.errors.maxlength.requiredLength," characters. ")}}function J(c,e){if(1&c&&(b.dc(0,"div",17),b.Nc(1,B,2,0,"div",18),b.Nc(2,U,2,1,"div",18),b.Nc(3,_,2,1,"div",18),b.cc()),2&c){b.rc();const c=b.Fc(4);b.Kb(1),b.xc("ngIf",c.errors.required),b.Kb(1),b.xc("ngIf",c.errors.minlength),b.Kb(1),b.xc("ngIf",c.errors.maxlength)}}function W(c,e){1&c&&(b.dc(0,"div"),b.Pc(1," This field is required. "),b.cc())}function cc(c,e){if(1&c&&(b.dc(0,"div"),b.Pc(1),b.cc()),2&c){b.rc(2);const c=b.Fc(10);b.Kb(1),b.Rc(" Zone code must be minimum ",c.errors.minlength.requiredLength," characters. ")}}function ec(c,e){if(1&c&&(b.dc(0,"div"),b.Pc(1),b.cc()),2&c){b.rc(2);const c=b.Fc(10);b.Kb(1),b.Rc(" Zone code must be maximum ",c.errors.maxlength.requiredLength," characters. ")}}function tc(c,e){if(1&c&&(b.dc(0,"div",17),b.Nc(1,W,2,0,"div",18),b.Nc(2,cc,2,1,"div",18),b.Nc(3,ec,2,1,"div",18),b.cc()),2&c){b.rc();const c=b.Fc(10);b.Kb(1),b.xc("ngIf",c.errors.required),b.Kb(1),b.xc("ngIf",c.errors.minlength),b.Kb(1),b.xc("ngIf",c.errors.maxlength)}}function nc(c,e){if(1&c){const c=b.ec();b.dc(0,"div",9),b.dc(1,"label",10),b.Pc(2,"Zone Name"),b.cc(),b.dc(3,"input",11,12),b.nc("ngModelChange",function(e){return b.Hc(c),b.rc().zoneName=e}),b.cc(),b.Nc(5,J,4,3,"div",13),b.cc(),b.dc(6,"div",9),b.dc(7,"label",14),b.Pc(8,"Zone Code"),b.cc(),b.dc(9,"input",15,16),b.nc("ngModelChange",function(e){return b.Hc(c),b.rc().zoneCode=e}),b.cc(),b.Nc(11,tc,4,3,"div",13),b.cc()}if(2&c){const c=b.Fc(4),e=b.Fc(10),t=b.rc();b.Kb(1),b.Pb("text-danger",c.touched&&c.invalid),b.Kb(2),b.Pb("error-control",c.touched&&c.invalid),b.xc("ngModel",t.zoneName),b.Kb(2),b.xc("ngIf",c.touched&&c.invalid),b.Kb(2),b.Pb("text-danger",e.touched&&e.invalid),b.Kb(2),b.Pb("error-control",e.touched&&e.invalid),b.xc("ngModel",t.zoneCode),b.Kb(2),b.xc("ngIf",e.touched&&e.invalid)}}function ic(c,e){1&c&&(b.dc(0,"app-loader"),b.Pc(1,"Please wait..."),b.cc())}let ac=(()=>{class c{constructor(c,e,t,n,i){this.loader=c,this.dataService=e,this.dialogRef=t,this.notifications=n,this.data=i,this.subscription=new s.a,this.token=sessionStorage.getItem("token"),this.zoneName="",this.zoneCode=""}ngOnInit(){this.zoneName=this.data.name,this.zoneCode=this.data.code}ngOnDestroy(){this.loader.hideLoader(),this.subscription.unsubscribe()}submit(c){this.notifications.prompt("Save changes made?").then(e=>{e.isConfirmed&&(this.loader.showLoader(),this.subscription=this.dataService.update(d.a.zones,this.data._id,c,this.token).subscribe(c=>{this.notifications.successToast(`${c.name} (${c.code}) updated.`),this.loader.hideLoader(),this.dialogRef.close(!0)}))})}}return c.\u0275fac=function(e){return new(e||c)(b.Xb(u.a),b.Xb(h.a),b.Xb(l.g),b.Xb(g.a),b.Xb(l.a))},c.\u0275cmp=b.Rb({type:c,selectors:[["app-edit-enrollment-zone"]],decls:15,vars:9,consts:[[3,"ngSubmit"],["f","ngForm"],["mat-dialog-title","",2,"font-size","150%"],[4,"ngIf","ngIfThen","ngIfElse"],["align","end"],["type","submit",1,"btn-primary","btn-sm","btn",3,"disabled"],["type","button","matDialogClose","",1,"btn-outline-primary","btn-sm","btn","ml-2",3,"disabled"],["show",""],["load",""],[1,"form-group"],["for","name"],["type","text","id","name","name","name","minlength","3","maxlength","50","required","",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["name","ngModel"],["class","text-danger mt-1",4,"ngIf"],["for","code"],["type","text","id","code","name","code","minlength","2","maxlength","3","required","",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["code","ngModel"],[1,"text-danger","mt-1"],[4,"ngIf"]],template:function(c,e){if(1&c){const c=b.ec();b.dc(0,"form",0,1),b.nc("ngSubmit",function(){b.Hc(c);const t=b.Fc(1);return e.submit(t.value)}),b.dc(2,"p",2),b.Pc(3,"Edit Enrollment Zone"),b.cc(),b.dc(4,"mat-dialog-content"),b.Nc(5,Q,1,0,"ng-container",3),b.cc(),b.dc(6,"mat-dialog-actions",4),b.dc(7,"button",5),b.Pc(8," Save "),b.cc(),b.dc(9,"button",6),b.Pc(10," Cancel "),b.cc(),b.cc(),b.Nc(11,nc,12,12,"ng-template",null,7,b.Oc),b.Nc(13,ic,2,0,"ng-template",null,8,b.Oc),b.cc()}if(2&c){const c=b.Fc(1),t=b.Fc(12),n=b.Fc(14);b.Kb(5),b.xc("ngIf",e.loader.loaderVisible)("ngIfThen",n)("ngIfElse",t),b.Kb(2),b.Pb("magnifyText",!e.loader.loaderVisible||c.valid),b.xc("disabled",e.loader.loaderVisible||c.invalid),b.Kb(2),b.Pb("magnifyText",!e.loader.loaderVisible),b.xc("disabled",e.loader.loaderVisible)}},directives:[o.z,o.p,o.q,l.h,l.e,n.n,l.c,l.d,o.c,o.k,o.j,o.v,o.o,o.r,m.a],styles:[""]}),c})();function oc(c,e){1&c&&b.Zb(0)}function rc(c,e){1&c&&(b.dc(0,"thead"),b.dc(1,"tr"),b.dc(2,"td"),b.dc(3,"app-loader"),b.Pc(4,"Fetching data..."),b.cc(),b.cc(),b.cc(),b.cc())}function sc(c,e){1&c&&b.Zb(0)}function dc(c,e){if(1&c&&b.Nc(0,sc,1,0,"ng-container",13),2&c){const c=b.rc(),e=b.Fc(26),t=b.Fc(24);b.xc("ngIf",c.zones.length>0)("ngIfThen",e)("ngIfElse",t)}}function lc(c,e){1&c&&(b.dc(0,"thead"),b.dc(1,"tr"),b.dc(2,"td"),b.Pc(3,"No record(s) to display"),b.cc(),b.cc(),b.cc())}function bc(c,e){if(1&c){const c=b.ec();b.dc(0,"tbody"),b.dc(1,"tr"),b.dc(2,"td"),b.Pc(3),b.cc(),b.dc(4,"td"),b.Pc(5),b.cc(),b.dc(6,"td"),b.Pc(7),b.sc(8,"uppercase"),b.cc(),b.dc(9,"td"),b.Pc(10," \xa0 "),b.dc(11,"button",24),b.nc("click",function(){b.Hc(c);const t=e.$implicit;return b.rc(2).editZone(t)}),b.Pc(12," Edit Zone "),b.cc(),b.cc(),b.cc(),b.cc()}if(2&c){const c=e.index,t=e.$implicit;b.Kb(3),b.Qc(c+1),b.Kb(2),b.Qc(t.name),b.Kb(2),b.Qc(b.tc(8,3,t.code))}}const uc=function(c){return{itemsPerPage:10,currentPage:c}};function hc(c,e){if(1&c&&(b.dc(0,"thead"),b.dc(1,"tr"),b.dc(2,"th",20),b.Pc(3,"S/N"),b.cc(),b.dc(4,"th",21),b.Pc(5,"Name"),b.cc(),b.dc(6,"th",22),b.Pc(7,"Zone Code"),b.cc(),b.dc(8,"th"),b.Pc(9,"Actions"),b.cc(),b.cc(),b.cc(),b.Nc(10,bc,13,5,"tbody",23),b.sc(11,"paginate"),b.sc(12,"filter")),2&c){const c=b.rc();b.Kb(2),b.xc("appSort",c.zones),b.Kb(2),b.xc("appSort",c.zones),b.Kb(2),b.xc("appSort",c.zones),b.Kb(4),b.xc("ngForOf",b.uc(11,4,b.uc(12,7,c.zones,c.searchText),b.Bc(10,uc,c.p)))}}let gc=(()=>{class c{constructor(c,e,t,n){this.loader=c,this.dataService=e,this.notifications=t,this.dialog=n,this.searchText="",this.zones=[],this.p=1,this.subscription=new s.a,this.token=sessionStorage.getItem("token")}ngOnInit(){this.getZones()}ngOnDestroy(){this.loader.hideLoader(),this.subscription.unsubscribe()}getZones(){this.loader.showLoader(),this.subscription=this.dataService.get(d.a.zones,this.token).subscribe(c=>{const e=["00","01"];this.zones=c.filter(c=>!e.includes(c.code)),this.loader.hideLoader()})}editZone(c){window.scroll(0,0),this.dialog.open(ac,{data:c,width:"32rem",disableClose:!0}).afterClosed().subscribe(c=>{c&&this.getZones()})}}return c.\u0275fac=function(e){return new(e||c)(b.Xb(z.a),b.Xb(h.a),b.Xb(g.a),b.Xb(l.b))},c.\u0275cmp=b.Rb({type:c,selectors:[["app-enrollment-zones"]],decls:27,vars:4,consts:[[1,"page-breadcrumb"],[1,"breadcrumb",2,"font-size","150%"],[1,"breadcrumb-item"],[1,"text-primary"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body",2,"overflow-x","auto"],[1,"card-title"],["type","search","name","search","placeholder","Search",1,"form-control","col-sm-12","col-md-3","float-right","mb-3",3,"ngModel","ngModelChange"],[1,"table-responsive",2,"overflow-y","hidden!important"],[1,"table"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"col-12","mx-auto","mt-3"],["maxSize","9","directionLinks","true","autoHide","true","responsive","true","previousLabel","Previous","nextLabel","Next","screenReaderPaginationLabel","Pagination","screenReaderPageLabel","page","screenReaderCurrentLabel","You're on page",1,"float-right",3,"pageChange"],["load",""],["show",""],["noData",""],["tableData",""],["scope","col","data-order","desc","data-name","sn",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","name",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","code",1,"sort",3,"appSort"],[4,"ngFor","ngForOf"],["type","button",1,"btn","magnifyText","btn-outline-primary","btn",3,"click"]],template:function(c,e){if(1&c&&(b.dc(0,"nav",0),b.dc(1,"ol",1),b.dc(2,"li",2),b.dc(3,"a",3),b.Pc(4,"Enrollment Zones"),b.cc(),b.cc(),b.dc(5,"li",4),b.Pc(6,"Enrollment Zones"),b.cc(),b.cc(),b.cc(),b.dc(7,"div",5),b.dc(8,"div",6),b.dc(9,"div",7),b.dc(10,"div",8),b.dc(11,"h6",9),b.Pc(12,"ENROLLMENT ZONES MASTER LIST"),b.cc(),b.dc(13,"input",10),b.nc("ngModelChange",function(c){return e.searchText=c}),b.cc(),b.dc(14,"div",11),b.dc(15,"table",12),b.Nc(16,oc,1,0,"ng-container",13),b.cc(),b.dc(17,"div",14),b.dc(18,"pagination-controls",15),b.nc("pageChange",function(c){return e.p=c}),b.cc(),b.cc(),b.cc(),b.cc(),b.cc(),b.cc(),b.cc(),b.Nc(19,rc,5,0,"ng-template",null,16,b.Oc),b.Nc(21,dc,1,3,"ng-template",null,17,b.Oc),b.Nc(23,lc,4,0,"ng-template",null,18,b.Oc),b.Nc(25,hc,13,12,"ng-template",null,19,b.Oc)),2&c){const c=b.Fc(20),t=b.Fc(22);b.Kb(13),b.xc("ngModel",e.searchText),b.Kb(3),b.xc("ngIf",e.loader.loaderVisible)("ngIfThen",c)("ngIfElse",t)}},directives:[o.c,o.o,o.r,n.n,i.c,m.a,X.a,n.m],pipes:[i.b,A.a,n.x],styles:[".ngx-pagination .current{background-color:#727cf5!important;border-radius:3px}"]}),c})();var mc=t("wd/R");function fc(c,e){1&c&&b.Zb(0)}function pc(c,e){1&c&&(b.dc(0,"thead"),b.dc(1,"tr"),b.dc(2,"td"),b.dc(3,"app-loader"),b.Pc(4,"Fetching data..."),b.cc(),b.cc(),b.cc(),b.cc())}function vc(c,e){1&c&&b.Zb(0)}function xc(c,e){if(1&c&&b.Nc(0,vc,1,0,"ng-container",17),2&c){const c=b.rc(),e=b.Fc(37),t=b.Fc(35);b.xc("ngIf",c.years.length>0)("ngIfThen",e)("ngIfElse",t)}}function Pc(c,e){1&c&&(b.dc(0,"thead"),b.dc(1,"tr"),b.dc(2,"td"),b.Pc(3,"No record(s) to display"),b.cc(),b.cc(),b.cc())}function yc(c,e){1&c&&(b.dc(0,"th"),b.Pc(1,"Actions"),b.cc())}function Ic(c,e){1&c&&(b.dc(0,"th"),b.Pc(1,"Status"),b.cc())}function Sc(c,e){if(1&c&&(b.dc(0,"span"),b.Pc(1),b.cc()),2&c){const c=b.rc().$implicit;b.Pb("text-success",c.active)("text-danger",!c.active),b.Kb(1),b.Rc(" ",c.active?"Active":"Closed"," ")}}function Nc(c,e){if(1&c){const c=b.ec();b.dc(0,"button",33),b.nc("click",function(){b.Hc(c);const e=b.rc().$implicit;return b.rc(2).reopenHajjYear(e.year)}),b.Pc(1," Reopen "),b.cc()}}function Kc(c,e){if(1&c){const c=b.ec();b.dc(0,"button",34),b.nc("click",function(){b.Hc(c);const e=b.rc().$implicit;return b.rc(2).closeHajjYear(e.year)}),b.Pc(1," Close "),b.cc()}}function kc(c,e){if(1&c&&(b.dc(0,"tbody"),b.dc(1,"tr"),b.dc(2,"td"),b.Pc(3),b.cc(),b.dc(4,"td"),b.Pc(5),b.cc(),b.dc(6,"td"),b.Pc(7),b.sc(8,"date"),b.cc(),b.dc(9,"td"),b.Pc(10),b.sc(11,"date"),b.cc(),b.dc(12,"td"),b.Nc(13,Sc,2,5,"span",30),b.Pc(14," \xa0 \xa0 "),b.Nc(15,Nc,2,0,"button",31),b.Nc(16,Kc,2,0,"button",32),b.cc(),b.cc(),b.cc()),2&c){const c=e.index,t=e.$implicit,n=b.rc(2);b.Kb(3),b.Qc(c+1),b.Kb(2),b.Qc(t.year),b.Kb(2),b.Qc(b.uc(8,7,t.dateOpened,"medium")),b.Kb(3),b.Qc(b.uc(11,10,t.lastClosed,"medium")),b.Kb(3),b.xc("ngIf",""===n.active),b.Kb(2),b.xc("ngIf",n.currentYear===t.year&&!t.active),b.Kb(1),b.xc("ngIf","active"===n.active)}}const wc=function(c){return{itemsPerPage:10,currentPage:c}};function Lc(c,e){if(1&c&&(b.dc(0,"thead"),b.dc(1,"tr"),b.dc(2,"th",24),b.Pc(3,"S/N"),b.cc(),b.dc(4,"th",25),b.Pc(5,"Year"),b.cc(),b.dc(6,"th",26),b.Pc(7,"Open Date"),b.cc(),b.dc(8,"th",27),b.Pc(9,"Last Closed Date"),b.cc(),b.Nc(10,yc,2,0,"th",28),b.Nc(11,Ic,2,0,"th",28),b.cc(),b.cc(),b.Nc(12,kc,17,13,"tbody",29),b.sc(13,"paginate"),b.sc(14,"filter")),2&c){const c=b.rc();b.Kb(2),b.xc("appSort",c.years),b.Kb(2),b.xc("appSort",c.years),b.Kb(2),b.xc("appSort",c.years),b.Kb(2),b.xc("appSort",c.years),b.Kb(2),b.xc("ngIf","active"===c.active),b.Kb(1),b.xc("ngIf",""===c.active),b.Kb(1),b.xc("ngForOf",b.uc(13,7,b.uc(14,10,c.years,c.searchText),b.Bc(13,wc,c.p)))}}let Cc=(()=>{class c{constructor(c,e,t){this.loader=c,this.dataService=e,this.notifications=t,this.searchText="",this.currentYear=mc(new Date).format("YYYY"),this.years=[],this.p=1,this.active="active",this.display="Active Year",this.subscription=new s.a,this.token=sessionStorage.getItem("token")}ngOnInit(){this.tabClick("active")}ngOnDestroy(){this.loader.hideLoader(),this.subscription.unsubscribe()}tabClick(c){let e;switch(this.active=c,c){case"active":e="get-active",this.display="Active Year";break;case"inactive":e="get-inactive",this.display="Closed Years";break;default:e="",this.display="All Years"}this.getYears(e)}getYears(c){this.loader.showLoader(),this.subscription=this.dataService.get(`${d.a.years}/${c}`,this.token).subscribe(c=>{this.years=[...c],this.loader.hideLoader()})}closeHajjYear(c){this.notifications.prompt(`Close ${c} hajj ?`).then(c=>{c.isConfirmed&&(this.loader.showLoader(),this.subscription=this.dataService.update(`${d.a.years}/close-hajj-year`,"",{},this.token).subscribe(c=>{this.notifications.successToast(`${c.year} hajj has been successfully closed.`),this.tabClick("inactive")}))})}reopenHajjYear(c){this.notifications.prompt(`Reopen ${c} hajj ?`).then(c=>{c.isConfirmed&&(this.loader.showLoader(),this.subscription=this.dataService.update(`${d.a.years}/reopen-hajj-year`,"",{},this.token).subscribe(c=>{this.notifications.successToast(`${c.year} hajj has been successfully reopened.`),this.tabClick("active")}))})}openNewHajjYear(){this.notifications.prompt(`Open ${this.currentYear} hajj ?<br />Note: ALL OPENED HAJJ WILL BE CLOSED.`).then(c=>{c.isConfirmed&&(this.loader.showLoader(),this.subscription=this.dataService.post(`${d.a.years}/open-new-hajj-year`,{},this.token).subscribe(c=>{this.notifications.successToast(`${c.year} hajj has been successfully opened.`),this.tabClick("active")}))})}}return c.\u0275fac=function(e){return new(e||c)(b.Xb(z.a),b.Xb(h.a),b.Xb(g.a))},c.\u0275cmp=b.Rb({type:c,selectors:[["app-hajj-year"]],decls:38,vars:17,consts:[[1,"page-breadcrumb"],[1,"breadcrumb",2,"font-size","150%"],[1,"breadcrumb-item"],[1,"text-primary"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-12",2,"text-align","center"],["role","group",1,"btn-group","mb-4"],["type","button",1,"magnifyText","btn","btn-primary",3,"disabled","click"],[1,"row"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body",2,"overflow-x","auto"],[1,"card-title"],[1,"btn","btn-success","mb-4",3,"disabled","click"],["type","search","name","search","placeholder","Search",1,"form-control","col-sm-12","col-md-3","float-right","mb-3",3,"ngModel","ngModelChange"],[1,"table-responsive",2,"overflow-y","hidden!important"],[1,"table"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"col-12","mx-auto","mt-3"],["maxSize","9","directionLinks","true","autoHide","true","responsive","true","previousLabel","Previous","nextLabel","Next","screenReaderPaginationLabel","Pagination","screenReaderPageLabel","page","screenReaderCurrentLabel","You're on page",1,"float-right",3,"pageChange"],["load",""],["show",""],["noData",""],["tableData",""],["scope","col","data-order","desc","data-name","sn",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","year",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","dateOpened",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","lastClosed",1,"sort",3,"appSort"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"text-success","text-danger",4,"ngIf"],["type","button","class","btn magnifyText btn-outline-primary btn-sm",3,"click",4,"ngIf"],["type","button","class","btn magnifyText btn-danger btn-sm",3,"click",4,"ngIf"],["type","button",1,"btn","magnifyText","btn-outline-primary","btn-sm",3,"click"],["type","button",1,"btn","magnifyText","btn-danger","btn-sm",3,"click"]],template:function(c,e){if(1&c&&(b.dc(0,"nav",0),b.dc(1,"ol",1),b.dc(2,"li",2),b.dc(3,"a",3),b.Pc(4,"Hajj Years"),b.cc(),b.cc(),b.dc(5,"li",4),b.Pc(6),b.cc(),b.cc(),b.cc(),b.dc(7,"div",5),b.dc(8,"div",6),b.dc(9,"button",7),b.nc("click",function(){return e.tabClick("active")}),b.Pc(10," Active "),b.cc(),b.dc(11,"button",7),b.nc("click",function(){return e.tabClick("inactive")}),b.Pc(12," Closed "),b.cc(),b.dc(13,"button",7),b.nc("click",function(){return e.tabClick("")}),b.Pc(14," All Years "),b.cc(),b.cc(),b.cc(),b.dc(15,"div",8),b.dc(16,"div",9),b.dc(17,"div",10),b.dc(18,"div",11),b.dc(19,"h6",12),b.Pc(20,"HAJJ YEARS MASTER LIST"),b.cc(),b.dc(21,"button",13),b.nc("click",function(){return e.openNewHajjYear()}),b.dc(22,"span"),b.Pc(23,"Open New Hajj Year"),b.cc(),b.cc(),b.dc(24,"input",14),b.nc("ngModelChange",function(c){return e.searchText=c}),b.cc(),b.dc(25,"div",15),b.dc(26,"table",16),b.Nc(27,fc,1,0,"ng-container",17),b.cc(),b.dc(28,"div",18),b.dc(29,"pagination-controls",19),b.nc("pageChange",function(c){return e.p=c}),b.cc(),b.cc(),b.cc(),b.cc(),b.cc(),b.cc(),b.cc(),b.Nc(30,pc,5,0,"ng-template",null,20,b.Oc),b.Nc(32,xc,1,3,"ng-template",null,21,b.Oc),b.Nc(34,Pc,4,0,"ng-template",null,22,b.Oc),b.Nc(36,Lc,15,15,"ng-template",null,23,b.Oc)),2&c){const c=b.Fc(31),t=b.Fc(33);b.Kb(6),b.Qc(e.display),b.Kb(3),b.Pb("btn-active","active"===e.active),b.xc("disabled",e.loader.loaderVisible),b.Kb(2),b.Pb("btn-active","inactive"===e.active),b.xc("disabled",e.loader.loaderVisible),b.Kb(2),b.Pb("btn-active",""===e.active),b.xc("disabled",e.loader.loaderVisible),b.Kb(8),b.Pb("magnifyText",!e.loader.loaderVisible&&"active"===e.active),b.xc("disabled",e.loader.loaderVisible||"active"!==e.active),b.Kb(3),b.xc("ngModel",e.searchText),b.Kb(3),b.xc("ngIf",e.loader.loaderVisible)("ngIfThen",c)("ngIfElse",t)}},directives:[o.c,o.o,o.r,n.n,i.c,m.a,X.a,n.m],pipes:[i.b,A.a,n.e],styles:[".ngx-pagination .current{background-color:#727cf5!important;border-radius:3px}"]}),c})();function Fc(c,e){1&c&&b.Zb(0)}function Tc(c,e){1&c&&(b.dc(0,"div"),b.Pc(1," This field is required. "),b.cc())}function Rc(c,e){if(1&c&&(b.dc(0,"div"),b.Pc(1),b.cc()),2&c){b.rc(2);const c=b.Fc(4);b.Kb(1),b.Rc(" Bank name must be minimum ",c.errors.minlength.requiredLength," characters. ")}}function Oc(c,e){if(1&c&&(b.dc(0,"div"),b.Pc(1),b.cc()),2&c){b.rc(2);const c=b.Fc(4);b.Kb(1),b.Rc(" Bank name must be maximum ",c.errors.maxlength.requiredLength," characters. ")}}function Mc(c,e){if(1&c&&(b.dc(0,"div",14),b.Nc(1,Tc,2,0,"div",15),b.Nc(2,Rc,2,1,"div",15),b.Nc(3,Oc,2,1,"div",15),b.cc()),2&c){b.rc();const c=b.Fc(4);b.Kb(1),b.xc("ngIf",c.errors.required),b.Kb(1),b.xc("ngIf",c.errors.minlength),b.Kb(1),b.xc("ngIf",c.errors.maxlength)}}function Ec(c,e){if(1&c){const c=b.ec();b.dc(0,"div",9),b.dc(1,"label",10),b.Pc(2,"Bank Name"),b.cc(),b.dc(3,"input",11,12),b.nc("ngModelChange",function(e){return b.Hc(c),b.rc().bankName=e}),b.cc(),b.Nc(5,Mc,4,3,"div",13),b.cc()}if(2&c){const c=b.Fc(4),e=b.rc();b.Kb(1),b.Pb("text-danger",c.touched&&c.invalid),b.Kb(2),b.Pb("error-control",c.touched&&c.invalid),b.xc("ngModel",e.bankName),b.Kb(2),b.xc("ngIf",c.touched&&c.invalid)}}function zc(c,e){1&c&&(b.dc(0,"app-loader"),b.Pc(1,"Please wait..."),b.cc())}let Xc=(()=>{class c{constructor(c,e,t,n,i){this.loader=c,this.dataService=e,this.dialogRef=t,this.notifications=n,this.data=i,this.action="Add New Bank",this.subscription=new s.a,this.token=sessionStorage.getItem("token"),this.bankName=""}ngOnInit(){this.data&&(this.action="Edit Bank",this.bankName=this.data.name)}ngOnDestroy(){this.loader.hideLoader(),this.subscription.unsubscribe()}submit(c){this.notifications.prompt(this.data?"Save changes?":"Create bank?").then(e=>{if(e.isConfirmed){this.loader.showLoader();const e=d.a.banks;this.data?this.updateExisting(this.data._id,e,c):this.saveNewBank(c,e)}})}saveNewBank(c,e){this.subscription=this.dataService.post(e,c,this.token).subscribe(c=>{this.notifications.successToast(`${c.name} created successfully.`),this.loader.hideLoader(),this.dialogRef.close(!0)})}updateExisting(c,e,t){this.subscription=this.dataService.update(e,c,t,this.token).subscribe(c=>{this.notifications.successToast(`${c.name} successfully updated.`),this.loader.hideLoader(),this.dialogRef.close(!0)})}}return c.\u0275fac=function(e){return new(e||c)(b.Xb(u.a),b.Xb(h.a),b.Xb(l.g),b.Xb(g.a),b.Xb(l.a))},c.\u0275cmp=b.Rb({type:c,selectors:[["app-edit-bank"]],decls:15,vars:10,consts:[[3,"ngSubmit"],["f","ngForm"],["mat-dialog-title","",2,"font-size","150%"],[4,"ngIf","ngIfThen","ngIfElse"],["align","end"],["type","submit",1,"btn-primary","btn-sm","btn",3,"disabled"],["type","button","matDialogClose","",1,"btn-outline-primary","btn-sm","btn","ml-2",3,"disabled"],["show",""],["load",""],[1,"form-group"],["for","name"],["type","text","id","name","name","name","minlength","5","maxlength","255","required","",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["name","ngModel"],["class","text-danger mt-1",4,"ngIf"],[1,"text-danger","mt-1"],[4,"ngIf"]],template:function(c,e){if(1&c){const c=b.ec();b.dc(0,"form",0,1),b.nc("ngSubmit",function(){b.Hc(c);const t=b.Fc(1);return e.submit(t.value)}),b.dc(2,"p",2),b.Pc(3),b.cc(),b.dc(4,"mat-dialog-content"),b.Nc(5,Fc,1,0,"ng-container",3),b.cc(),b.dc(6,"mat-dialog-actions",4),b.dc(7,"button",5),b.Pc(8," Save "),b.cc(),b.dc(9,"button",6),b.Pc(10," Cancel "),b.cc(),b.cc(),b.Nc(11,Ec,6,6,"ng-template",null,7,b.Oc),b.Nc(13,zc,2,0,"ng-template",null,8,b.Oc),b.cc()}if(2&c){const c=b.Fc(1),t=b.Fc(12),n=b.Fc(14);b.Kb(3),b.Qc(e.action),b.Kb(2),b.xc("ngIf",e.loader.loaderVisible)("ngIfThen",n)("ngIfElse",t),b.Kb(2),b.Pb("magnifyText",!e.loader.loaderVisible||c.valid),b.xc("disabled",e.loader.loaderVisible||c.invalid),b.Kb(2),b.Pb("magnifyText",!e.loader.loaderVisible),b.xc("disabled",e.loader.loaderVisible)}},directives:[o.z,o.p,o.q,l.h,l.e,n.n,l.c,l.d,o.c,o.k,o.j,o.v,o.o,o.r,m.a],styles:[""]}),c})();function Ac(c,e){1&c&&b.Zb(0)}function qc(c,e){1&c&&(b.dc(0,"thead"),b.dc(1,"tr"),b.dc(2,"td"),b.dc(3,"app-loader"),b.Pc(4,"Fetching data..."),b.cc(),b.cc(),b.cc(),b.cc())}function Vc(c,e){1&c&&b.Zb(0)}function jc(c,e){if(1&c&&b.Nc(0,Vc,1,0,"ng-container",14),2&c){const c=b.rc(),e=b.Fc(29),t=b.Fc(27);b.xc("ngIf",c.banks.length>0)("ngIfThen",e)("ngIfElse",t)}}function Dc(c,e){1&c&&(b.dc(0,"thead"),b.dc(1,"tr"),b.dc(2,"td"),b.Pc(3,"No record(s) to display"),b.cc(),b.cc(),b.cc())}function Zc(c,e){if(1&c){const c=b.ec();b.dc(0,"tbody"),b.dc(1,"tr"),b.dc(2,"td"),b.Pc(3),b.cc(),b.dc(4,"td"),b.Pc(5),b.cc(),b.dc(6,"td"),b.dc(7,"button",24),b.nc("click",function(){b.Hc(c);const t=e.$implicit;return b.rc(2).editBank(t)}),b.Pc(8," Edit Bank "),b.cc(),b.cc(),b.cc(),b.cc()}if(2&c){const c=e.index,t=e.$implicit;b.Kb(3),b.Qc(c+1),b.Kb(2),b.Qc(t.name)}}const $c=function(c){return{itemsPerPage:10,currentPage:c}};function Hc(c,e){if(1&c&&(b.dc(0,"thead"),b.dc(1,"tr"),b.dc(2,"th",21),b.Pc(3,"S/N"),b.cc(),b.dc(4,"th",22),b.Pc(5,"Name"),b.cc(),b.dc(6,"th"),b.Pc(7,"Actions"),b.cc(),b.cc(),b.cc(),b.Nc(8,Zc,9,2,"tbody",23),b.sc(9,"paginate"),b.sc(10,"filter")),2&c){const c=b.rc();b.Kb(2),b.xc("appSort",c.banks),b.Kb(2),b.xc("appSort",c.banks),b.Kb(4),b.xc("ngForOf",b.uc(9,3,b.uc(10,6,c.banks,c.searchText),b.Bc(9,$c,c.p)))}}let Yc=(()=>{class c{constructor(c,e,t,n){this.loader=c,this.dataService=e,this.notifications=t,this.dialog=n,this.searchText="",this.banks=[],this.p=1,this.subscription=new s.a,this.token=sessionStorage.getItem("token")}ngOnInit(){this.getBanks()}ngOnDestroy(){this.loader.hideLoader(),this.subscription.unsubscribe()}getBanks(){this.loader.showLoader(),this.subscription=this.dataService.get(`${d.a.banks}`,this.token).subscribe(c=>{this.banks=[...c],this.loader.hideLoader()})}editBank(c){window.scroll(0,0),this.dialog.open(Xc,{data:c||null,width:"32rem",disableClose:!0}).afterClosed().subscribe(c=>{c&&this.getBanks()})}}return c.\u0275fac=function(e){return new(e||c)(b.Xb(z.a),b.Xb(h.a),b.Xb(g.a),b.Xb(l.b))},c.\u0275cmp=b.Rb({type:c,selectors:[["app-banks"]],decls:30,vars:7,consts:[[1,"page-breadcrumb"],[1,"breadcrumb",2,"font-size","150%"],[1,"breadcrumb-item"],[1,"text-primary"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body",2,"overflow-x","auto"],[1,"card-title"],[1,"btn","btn-success","mb-4",3,"disabled","click"],["type","search","name","search","placeholder","Search",1,"form-control","col-sm-12","col-md-3","float-right","mb-3",3,"ngModel","ngModelChange"],[1,"table-responsive",2,"overflow-y","hidden!important"],[1,"table"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"col-12","mx-auto","mt-3"],["maxSize","9","directionLinks","true","autoHide","true","responsive","true","previousLabel","Previous","nextLabel","Next","screenReaderPaginationLabel","Pagination","screenReaderPageLabel","page","screenReaderCurrentLabel","You're on page",1,"float-right",3,"pageChange"],["load",""],["show",""],["noData",""],["tableData",""],["scope","col","data-order","desc","data-name","sn",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","name",1,"sort",3,"appSort"],[4,"ngFor","ngForOf"],["type","button",1,"btn","magnifyText","btn-outline-primary","btn",3,"click"]],template:function(c,e){if(1&c&&(b.dc(0,"nav",0),b.dc(1,"ol",1),b.dc(2,"li",2),b.dc(3,"a",3),b.Pc(4,"Banks"),b.cc(),b.cc(),b.dc(5,"li",4),b.Pc(6,"All Banks"),b.cc(),b.cc(),b.cc(),b.dc(7,"div",5),b.dc(8,"div",6),b.dc(9,"div",7),b.dc(10,"div",8),b.dc(11,"h6",9),b.Pc(12,"BANKS MASTER LIST"),b.cc(),b.dc(13,"button",10),b.nc("click",function(){return e.editBank()}),b.dc(14,"span"),b.Pc(15,"Add New Bank"),b.cc(),b.cc(),b.dc(16,"input",11),b.nc("ngModelChange",function(c){return e.searchText=c}),b.cc(),b.dc(17,"div",12),b.dc(18,"table",13),b.Nc(19,Ac,1,0,"ng-container",14),b.cc(),b.dc(20,"div",15),b.dc(21,"pagination-controls",16),b.nc("pageChange",function(c){return e.p=c}),b.cc(),b.cc(),b.cc(),b.cc(),b.cc(),b.cc(),b.cc(),b.Nc(22,qc,5,0,"ng-template",null,17,b.Oc),b.Nc(24,jc,1,3,"ng-template",null,18,b.Oc),b.Nc(26,Dc,4,0,"ng-template",null,19,b.Oc),b.Nc(28,Hc,11,11,"ng-template",null,20,b.Oc)),2&c){const c=b.Fc(23),t=b.Fc(25);b.Kb(13),b.Pb("magnifyText",!e.loader.loaderVisible),b.xc("disabled",e.loader.loaderVisible),b.Kb(3),b.xc("ngModel",e.searchText),b.Kb(3),b.xc("ngIf",e.loader.loaderVisible)("ngIfThen",c)("ngIfElse",t)}},directives:[o.c,o.o,o.r,n.n,i.c,m.a,X.a,n.m],pipes:[i.b,A.a],styles:[".ngx-pagination .current{background-color:#727cf5!important;border-radius:3px}"]}),c})();function Gc(c,e){1&c&&b.Zb(0)}function Qc(c,e){1&c&&(b.dc(0,"div"),b.Pc(1," This field is required. "),b.cc())}function Bc(c,e){if(1&c&&(b.dc(0,"div"),b.Pc(1),b.cc()),2&c){b.rc(2);const c=b.Fc(4);b.Kb(1),b.Rc(" State must be minimum ",c.errors.minlength.requiredLength," characters. ")}}function Uc(c,e){if(1&c&&(b.dc(0,"div"),b.Pc(1),b.cc()),2&c){b.rc(2);const c=b.Fc(4);b.Kb(1),b.Rc(" State must be maximum ",c.errors.maxlength.requiredLength," characters. ")}}function _c(c,e){if(1&c&&(b.dc(0,"div",14),b.Nc(1,Qc,2,0,"div",15),b.Nc(2,Bc,2,1,"div",15),b.Nc(3,Uc,2,1,"div",15),b.cc()),2&c){b.rc();const c=b.Fc(4);b.Kb(1),b.xc("ngIf",c.errors.required),b.Kb(1),b.xc("ngIf",c.errors.minlength),b.Kb(1),b.xc("ngIf",c.errors.maxlength)}}function Jc(c,e){if(1&c){const c=b.ec();b.dc(0,"div",9),b.dc(1,"label",10),b.Pc(2,"State"),b.cc(),b.dc(3,"input",11,12),b.nc("ngModelChange",function(e){return b.Hc(c),b.rc().stateName=e}),b.cc(),b.Nc(5,_c,4,3,"div",13),b.cc()}if(2&c){const c=b.Fc(4),e=b.rc();b.Kb(1),b.Pb("text-danger",c.touched&&c.invalid),b.Kb(2),b.Pb("error-control",c.touched&&c.invalid),b.xc("ngModel",e.stateName),b.Kb(2),b.xc("ngIf",c.touched&&c.invalid)}}function Wc(c,e){1&c&&(b.dc(0,"app-loader"),b.Pc(1,"Please wait..."),b.cc())}let ce=(()=>{class c{constructor(c,e,t,n,i){this.loader=c,this.dataService=e,this.dialogRef=t,this.notifications=n,this.data=i,this.subscription=new s.a,this.token=sessionStorage.getItem("token"),this.stateName=""}ngOnInit(){this.stateName=this.data.name}ngOnDestroy(){this.loader.hideLoader(),this.subscription.unsubscribe()}submit(c){this.notifications.prompt("Save changes made?").then(e=>{e.isConfirmed&&(this.loader.showLoader(),this.subscription=this.dataService.update(d.a.states,this.data._id,c,this.token).subscribe(c=>{this.notifications.successToast(`${c.name} state has been updated.`),this.loader.hideLoader(),this.dialogRef.close(!0)}))})}}return c.\u0275fac=function(e){return new(e||c)(b.Xb(u.a),b.Xb(h.a),b.Xb(l.g),b.Xb(g.a),b.Xb(l.a))},c.\u0275cmp=b.Rb({type:c,selectors:[["app-edit-state"]],decls:15,vars:9,consts:[[3,"ngSubmit"],["f","ngForm"],["mat-dialog-title","",2,"font-size","150%"],[4,"ngIf","ngIfThen","ngIfElse"],["align","end"],["type","submit",1,"btn-primary","btn-sm","btn",3,"disabled"],["type","button","matDialogClose","",1,"btn-outline-primary","btn-sm","btn","ml-2",3,"disabled"],["show",""],["load",""],[1,"form-group"],["for","name"],["type","text","id","name","name","name","minlength","3","maxlength","50","required","",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["name","ngModel"],["class","text-danger mt-1",4,"ngIf"],[1,"text-danger","mt-1"],[4,"ngIf"]],template:function(c,e){if(1&c){const c=b.ec();b.dc(0,"form",0,1),b.nc("ngSubmit",function(){b.Hc(c);const t=b.Fc(1);return e.submit(t.value)}),b.dc(2,"p",2),b.Pc(3,"Edit State"),b.cc(),b.dc(4,"mat-dialog-content"),b.Nc(5,Gc,1,0,"ng-container",3),b.cc(),b.dc(6,"mat-dialog-actions",4),b.dc(7,"button",5),b.Pc(8," Save "),b.cc(),b.dc(9,"button",6),b.Pc(10," Cancel "),b.cc(),b.cc(),b.Nc(11,Jc,6,6,"ng-template",null,7,b.Oc),b.Nc(13,Wc,2,0,"ng-template",null,8,b.Oc),b.cc()}if(2&c){const c=b.Fc(1),t=b.Fc(12),n=b.Fc(14);b.Kb(5),b.xc("ngIf",e.loader.loaderVisible)("ngIfThen",n)("ngIfElse",t),b.Kb(2),b.Pb("magnifyText",!e.loader.loaderVisible||c.valid),b.xc("disabled",e.loader.loaderVisible||c.invalid),b.Kb(2),b.Pb("magnifyText",!e.loader.loaderVisible),b.xc("disabled",e.loader.loaderVisible)}},directives:[o.z,o.p,o.q,l.h,l.e,n.n,l.c,l.d,o.c,o.k,o.j,o.v,o.o,o.r,m.a],styles:[""]}),c})();function ee(c,e){1&c&&b.Zb(0)}function te(c,e){1&c&&(b.dc(0,"thead"),b.dc(1,"tr"),b.dc(2,"td"),b.dc(3,"app-loader"),b.Pc(4,"Fetching data..."),b.cc(),b.cc(),b.cc(),b.cc())}function ne(c,e){1&c&&b.Zb(0)}function ie(c,e){if(1&c&&b.Nc(0,ne,1,0,"ng-container",13),2&c){const c=b.rc(),e=b.Fc(26),t=b.Fc(24);b.xc("ngIf",c.states.length>0)("ngIfThen",e)("ngIfElse",t)}}function ae(c,e){1&c&&(b.dc(0,"thead"),b.dc(1,"tr"),b.dc(2,"td"),b.Pc(3,"No record(s) to display"),b.cc(),b.cc(),b.cc())}function oe(c,e){if(1&c){const c=b.ec();b.dc(0,"tbody"),b.dc(1,"tr"),b.dc(2,"td"),b.Pc(3),b.cc(),b.dc(4,"td"),b.Pc(5),b.cc(),b.dc(6,"td"),b.dc(7,"button",23),b.nc("click",function(){b.Hc(c);const t=e.$implicit;return b.rc(2).editState(t)}),b.Pc(8," Edit State "),b.cc(),b.cc(),b.cc(),b.cc()}if(2&c){const c=e.index,t=e.$implicit;b.Kb(3),b.Qc(c+1),b.Kb(2),b.Qc(t.name)}}const re=function(c){return{itemsPerPage:10,currentPage:c}};function se(c,e){if(1&c&&(b.dc(0,"thead"),b.dc(1,"tr"),b.dc(2,"th",20),b.Pc(3,"S/N"),b.cc(),b.dc(4,"th",21),b.Pc(5,"Name"),b.cc(),b.dc(6,"th"),b.Pc(7,"Actions"),b.cc(),b.cc(),b.cc(),b.Nc(8,oe,9,2,"tbody",22),b.sc(9,"paginate"),b.sc(10,"filter")),2&c){const c=b.rc();b.Kb(2),b.xc("appSort",c.states),b.Kb(2),b.xc("appSort",c.states),b.Kb(4),b.xc("ngForOf",b.uc(9,3,b.uc(10,6,c.states,c.searchText),b.Bc(9,re,c.p)))}}let de=(()=>{class c{constructor(c,e,t,n){this.loader=c,this.dataService=e,this.notifications=t,this.dialog=n,this.searchText="",this.states=[],this.p=1,this.subscription=new s.a,this.token=sessionStorage.getItem("token")}ngOnInit(){this.getStates()}ngOnDestroy(){this.loader.hideLoader(),this.subscription.unsubscribe()}getStates(){this.loader.showLoader(),this.subscription=this.dataService.get(`${d.a.states}`,this.token).subscribe(c=>{this.states=c.filter(c=>"default"!==c.name),this.loader.hideLoader()})}editState(c){window.scroll(0,0),this.dialog.open(ce,{data:c,width:"32rem",disableClose:!0}).afterClosed().subscribe(c=>{c&&this.getStates()})}}return c.\u0275fac=function(e){return new(e||c)(b.Xb(z.a),b.Xb(h.a),b.Xb(g.a),b.Xb(l.b))},c.\u0275cmp=b.Rb({type:c,selectors:[["app-states"]],decls:27,vars:4,consts:[[1,"page-breadcrumb"],[1,"breadcrumb",2,"font-size","150%"],[1,"breadcrumb-item"],[1,"text-primary"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body",2,"overflow-x","auto"],[1,"card-title"],["type","search","name","search","placeholder","Search",1,"form-control","col-sm-12","col-md-3","float-right","mb-3",3,"ngModel","ngModelChange"],[1,"table-responsive",2,"overflow-y","hidden!important"],[1,"table"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"col-12","mx-auto","mt-3"],["maxSize","9","directionLinks","true","autoHide","true","responsive","true","previousLabel","Previous","nextLabel","Next","screenReaderPaginationLabel","Pagination","screenReaderPageLabel","page","screenReaderCurrentLabel","You're on page",1,"float-right",3,"pageChange"],["load",""],["show",""],["noData",""],["tableData",""],["scope","col","data-order","desc","data-name","sn",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","name",1,"sort",3,"appSort"],[4,"ngFor","ngForOf"],["type","button",1,"btn","magnifyText","btn-outline-primary","btn",3,"click"]],template:function(c,e){if(1&c&&(b.dc(0,"nav",0),b.dc(1,"ol",1),b.dc(2,"li",2),b.dc(3,"a",3),b.Pc(4,"States"),b.cc(),b.cc(),b.dc(5,"li",4),b.Pc(6,"All States"),b.cc(),b.cc(),b.cc(),b.dc(7,"div",5),b.dc(8,"div",6),b.dc(9,"div",7),b.dc(10,"div",8),b.dc(11,"h6",9),b.Pc(12,"STATES MASTER LIST"),b.cc(),b.dc(13,"input",10),b.nc("ngModelChange",function(c){return e.searchText=c}),b.cc(),b.dc(14,"div",11),b.dc(15,"table",12),b.Nc(16,ee,1,0,"ng-container",13),b.cc(),b.dc(17,"div",14),b.dc(18,"pagination-controls",15),b.nc("pageChange",function(c){return e.p=c}),b.cc(),b.cc(),b.cc(),b.cc(),b.cc(),b.cc(),b.cc(),b.Nc(19,te,5,0,"ng-template",null,16,b.Oc),b.Nc(21,ie,1,3,"ng-template",null,17,b.Oc),b.Nc(23,ae,4,0,"ng-template",null,18,b.Oc),b.Nc(25,se,11,11,"ng-template",null,19,b.Oc)),2&c){const c=b.Fc(20),t=b.Fc(22);b.Kb(13),b.xc("ngModel",e.searchText),b.Kb(3),b.xc("ngIf",e.loader.loaderVisible)("ngIfThen",c)("ngIfElse",t)}},directives:[o.c,o.o,o.r,n.n,i.c,m.a,X.a,n.m],pipes:[i.b,A.a],styles:[".ngx-pagination .current{background-color:#727cf5!important;border-radius:3px}"]}),c})();function le(c,e){1&c&&b.Zb(0)}function be(c,e){1&c&&(b.dc(0,"div"),b.Pc(1," This field is required. "),b.cc())}function ue(c,e){if(1&c&&(b.dc(0,"div"),b.Pc(1),b.cc()),2&c){b.rc(2);const c=b.Fc(4);b.Kb(1),b.Rc(" State must be minimum ",c.errors.minlength.requiredLength," characters. ")}}function he(c,e){if(1&c&&(b.dc(0,"div"),b.Pc(1),b.cc()),2&c){b.rc(2);const c=b.Fc(4);b.Kb(1),b.Rc(" State must be maximum ",c.errors.maxlength.requiredLength," characters. ")}}function ge(c,e){if(1&c&&(b.dc(0,"div",14),b.Nc(1,be,2,0,"div",15),b.Nc(2,ue,2,1,"div",15),b.Nc(3,he,2,1,"div",15),b.cc()),2&c){b.rc();const c=b.Fc(4);b.Kb(1),b.xc("ngIf",c.errors.required),b.Kb(1),b.xc("ngIf",c.errors.minlength),b.Kb(1),b.xc("ngIf",c.errors.maxlength)}}function me(c,e){if(1&c){const c=b.ec();b.dc(0,"div",9),b.dc(1,"label",10),b.Pc(2,"Local Government"),b.cc(),b.dc(3,"input",11,12),b.nc("ngModelChange",function(e){return b.Hc(c),b.rc().lgaName=e}),b.cc(),b.Nc(5,ge,4,3,"div",13),b.cc()}if(2&c){const c=b.Fc(4),e=b.rc();b.Kb(1),b.Pb("text-danger",c.touched&&c.invalid),b.Kb(2),b.Pb("error-control",c.touched&&c.invalid),b.xc("ngModel",e.lgaName),b.Kb(2),b.xc("ngIf",c.touched&&c.invalid)}}function fe(c,e){1&c&&(b.dc(0,"app-loader"),b.Pc(1,"Please wait..."),b.cc())}let pe=(()=>{class c{constructor(c,e,t,n,i){this.loader=c,this.dataService=e,this.dialogRef=t,this.notifications=n,this.data=i,this.subscription=new s.a,this.token=sessionStorage.getItem("token"),this.lgaName=""}ngOnInit(){this.lgaName=this.data.name}ngOnDestroy(){this.loader.hideLoader(),this.subscription.unsubscribe()}submit(c){this.notifications.prompt("Save changes made?").then(e=>{e.isConfirmed&&(this.loader.showLoader(),this.subscription=this.dataService.update(d.a.lgas,this.data._id,c,this.token).subscribe(c=>{this.notifications.successToast(`${c.name} LGA has been updated.`),this.loader.hideLoader(),this.dialogRef.close(!0)}))})}}return c.\u0275fac=function(e){return new(e||c)(b.Xb(u.a),b.Xb(h.a),b.Xb(l.g),b.Xb(g.a),b.Xb(l.a))},c.\u0275cmp=b.Rb({type:c,selectors:[["app-edit-local-gov"]],decls:15,vars:9,consts:[[3,"ngSubmit"],["f","ngForm"],["mat-dialog-title","",2,"font-size","150%"],[4,"ngIf","ngIfThen","ngIfElse"],["align","end"],["type","submit",1,"btn-primary","btn-sm","btn",3,"disabled"],["type","button","matDialogClose","",1,"btn-outline-primary","btn-sm","btn","ml-2",3,"disabled"],["show",""],["load",""],[1,"form-group"],["for","name"],["type","text","id","name","name","name","minlength","3","maxlength","50","required","",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["name","ngModel"],["class","text-danger mt-1",4,"ngIf"],[1,"text-danger","mt-1"],[4,"ngIf"]],template:function(c,e){if(1&c){const c=b.ec();b.dc(0,"form",0,1),b.nc("ngSubmit",function(){b.Hc(c);const t=b.Fc(1);return e.submit(t.value)}),b.dc(2,"p",2),b.Pc(3,"Edit Local Government"),b.cc(),b.dc(4,"mat-dialog-content"),b.Nc(5,le,1,0,"ng-container",3),b.cc(),b.dc(6,"mat-dialog-actions",4),b.dc(7,"button",5),b.Pc(8," Save "),b.cc(),b.dc(9,"button",6),b.Pc(10," Cancel "),b.cc(),b.cc(),b.Nc(11,me,6,6,"ng-template",null,7,b.Oc),b.Nc(13,fe,2,0,"ng-template",null,8,b.Oc),b.cc()}if(2&c){const c=b.Fc(1),t=b.Fc(12),n=b.Fc(14);b.Kb(5),b.xc("ngIf",e.loader.loaderVisible)("ngIfThen",n)("ngIfElse",t),b.Kb(2),b.Pb("magnifyText",!e.loader.loaderVisible||c.valid),b.xc("disabled",e.loader.loaderVisible||c.invalid),b.Kb(2),b.Pb("magnifyText",!e.loader.loaderVisible),b.xc("disabled",e.loader.loaderVisible)}},directives:[o.z,o.p,o.q,l.h,l.e,n.n,l.c,l.d,o.c,o.k,o.j,o.v,o.o,o.r,m.a],styles:[""]}),c})();function ve(c,e){if(1&c&&(b.dc(0,"option",23),b.Pc(1),b.sc(2,"uppercase"),b.cc()),2&c){const c=e.$implicit;b.xc("value",c._id),b.Kb(1),b.Qc(b.tc(2,2,c.name))}}function xe(c,e){1&c&&b.Zb(0)}function Pe(c,e){1&c&&(b.dc(0,"thead"),b.dc(1,"tr"),b.dc(2,"td"),b.dc(3,"app-loader"),b.Pc(4,"Fetching data..."),b.cc(),b.cc(),b.cc(),b.cc())}function ye(c,e){1&c&&b.Zb(0)}function Ie(c,e){if(1&c&&b.Nc(0,ye,1,0,"ng-container",16),2&c){const c=b.rc(),e=b.Fc(29),t=b.Fc(27);b.xc("ngIf",c.localGovs.length>0)("ngIfThen",e)("ngIfElse",t)}}function Se(c,e){1&c&&(b.dc(0,"thead"),b.dc(1,"tr"),b.dc(2,"td"),b.Pc(3,"No record(s) to display"),b.cc(),b.cc(),b.cc())}function Ne(c,e){if(1&c){const c=b.ec();b.dc(0,"tbody"),b.dc(1,"tr"),b.dc(2,"td"),b.Pc(3),b.cc(),b.dc(4,"td"),b.Pc(5),b.cc(),b.dc(6,"td"),b.dc(7,"button",27),b.nc("click",function(){b.Hc(c);const t=e.$implicit;return b.rc(2).editLga(t)}),b.Pc(8," Edit LGA "),b.cc(),b.cc(),b.cc(),b.cc()}if(2&c){const c=e.index,t=e.$implicit;b.Kb(3),b.Qc(c+1),b.Kb(2),b.Qc(t.name)}}const Ke=function(c){return{itemsPerPage:10,currentPage:c}};function ke(c,e){if(1&c&&(b.dc(0,"thead"),b.dc(1,"tr"),b.dc(2,"th",24),b.Pc(3,"S/N"),b.cc(),b.dc(4,"th",25),b.Pc(5,"Name"),b.cc(),b.dc(6,"th"),b.Pc(7,"Actions"),b.cc(),b.cc(),b.cc(),b.Nc(8,Ne,9,2,"tbody",26),b.sc(9,"paginate"),b.sc(10,"filter")),2&c){const c=b.rc();b.Kb(2),b.xc("appSort",c.localGovs),b.Kb(2),b.xc("appSort",c.localGovs),b.Kb(4),b.xc("ngForOf",b.uc(9,3,b.uc(10,6,c.localGovs,c.searchText),b.Bc(9,Ke,c.p)))}}let we=(()=>{class c{constructor(c,e,t,n){this.loader=c,this.dataService=e,this.notifications=t,this.dialog=n,this.searchText="",this.stateId="",this.states=[],this.localGovs=[],this.p=1,this.subscription=new s.a,this.token=sessionStorage.getItem("token")}ngOnInit(){this.getStates()}ngOnDestroy(){this.loader.hideLoader(),this.subscription.unsubscribe()}getStates(){this.loader.showLoader(),this.subscription=this.dataService.get(`${d.a.states}`,this.token).subscribe(c=>{this.states=c.filter(c=>"default"!==c.name),this.stateId=this.states[0]._id,this.getLgas(),this.loader.hideLoader()})}getLgas(){this.loader.showLoader(),this.subscription=this.dataService.get(`${d.a.lgas}/by-state`,this.token,this.stateId).subscribe(c=>{this.localGovs=[...c],this.loader.hideLoader()})}editLga(c){window.scroll(0,0),this.dialog.open(pe,{data:c,width:"32rem",disableClose:!0}).afterClosed().subscribe(c=>{c&&this.getLgas()})}}return c.\u0275fac=function(e){return new(e||c)(b.Xb(z.a),b.Xb(h.a),b.Xb(g.a),b.Xb(l.b))},c.\u0275cmp=b.Rb({type:c,selectors:[["app-local-govs"]],decls:30,vars:6,consts:[[1,"page-breadcrumb"],[1,"breadcrumb",2,"font-size","150%"],[1,"breadcrumb-item"],[1,"text-primary"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body",2,"overflow-x","auto"],[1,"card-title"],["id","state","name","state","required","",1,"form-control","col-sm-12","col-md-3","float-left","mb-4",2,"border-radius","2px",3,"ngModel","ngModelChange","change"],["state","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","search","name","search","placeholder","Search",1,"form-control","col-sm-12","col-md-3","float-right","mb-4",3,"ngModel","ngModelChange"],[1,"table-responsive",2,"overflow-y","hidden!important"],[1,"table"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"col-12","mx-auto","mt-3"],["maxSize","9","directionLinks","true","autoHide","true","responsive","true","previousLabel","Previous","nextLabel","Next","screenReaderPaginationLabel","Pagination","screenReaderPageLabel","page","screenReaderCurrentLabel","You're on page",1,"float-right",3,"pageChange"],["load",""],["show",""],["noData",""],["tableData",""],[3,"value"],["scope","col","data-order","desc","data-name","sn",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","name",1,"sort",3,"appSort"],[4,"ngFor","ngForOf"],["type","button",1,"btn","magnifyText","btn-outline-primary","btn",3,"click"]],template:function(c,e){if(1&c&&(b.dc(0,"nav",0),b.dc(1,"ol",1),b.dc(2,"li",2),b.dc(3,"a",3),b.Pc(4,"Local Governments"),b.cc(),b.cc(),b.dc(5,"li",4),b.Pc(6,"All LGAs"),b.cc(),b.cc(),b.cc(),b.dc(7,"div",5),b.dc(8,"div",6),b.dc(9,"div",7),b.dc(10,"div",8),b.dc(11,"h6",9),b.Pc(12,"LGAs MASTER LIST"),b.cc(),b.dc(13,"select",10,11),b.nc("ngModelChange",function(c){return e.stateId=c})("change",function(){return e.getLgas()}),b.Nc(15,ve,3,4,"option",12),b.cc(),b.dc(16,"input",13),b.nc("ngModelChange",function(c){return e.searchText=c}),b.cc(),b.dc(17,"div",14),b.dc(18,"table",15),b.Nc(19,xe,1,0,"ng-container",16),b.cc(),b.dc(20,"div",17),b.dc(21,"pagination-controls",18),b.nc("pageChange",function(c){return e.p=c}),b.cc(),b.cc(),b.cc(),b.cc(),b.cc(),b.cc(),b.cc(),b.Nc(22,Pe,5,0,"ng-template",null,19,b.Oc),b.Nc(24,Ie,1,3,"ng-template",null,20,b.Oc),b.Nc(26,Se,4,0,"ng-template",null,21,b.Oc),b.Nc(28,ke,11,11,"ng-template",null,22,b.Oc)),2&c){const c=b.Fc(23),t=b.Fc(25);b.Kb(13),b.xc("ngModel",e.stateId),b.Kb(2),b.xc("ngForOf",e.states),b.Kb(1),b.xc("ngModel",e.searchText),b.Kb(3),b.xc("ngIf",e.loader.loaderVisible)("ngIfThen",c)("ngIfElse",t)}},directives:[o.w,o.v,o.o,o.r,n.m,o.c,n.n,i.c,o.s,o.y,m.a,X.a],pipes:[n.x,i.b,A.a],styles:[".ngx-pagination .current{background-color:#727cf5!important;border-radius:3px}"]}),c})();var Le=t("T2Cl");const Ce=[{path:"users",canActivate:[Le.a],component:G},{path:"enrollment-zones",canActivate:[Le.a],component:gc},{path:"hajj-year",canActivate:[Le.a],component:Cc},{path:"banks",canActivate:[Le.a],component:Yc},{path:"states",canActivate:[Le.a],component:de},{path:"lga",canActivate:[Le.a],component:we},{path:"",redirectTo:"users",pathMatch:"full"}];let Fe=(()=>{class c{}return c.\u0275mod=b.Vb({type:c}),c.\u0275inj=b.Ub({factory:function(e){return new(e||c)},imports:[[n.c,r.d.forChild(Ce)]]}),c})();var Te=t("hctd"),Re=t("q4JE");let Oe=(()=>{class c{}return c.\u0275mod=b.Vb({type:c}),c.\u0275inj=b.Ub({factory:function(e){return new(e||c)},imports:[[n.c,Fe,i.a,a.e,o.i,Te.a,Re.a]]}),c})()}}]);