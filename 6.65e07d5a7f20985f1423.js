(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"9gQ6":function(e,c,t){"use strict";t.r(c),t.d(c,"UserModule",function(){return Sr});var r=t("3Pt+"),n=t("ofXK"),i=t("oOf3"),o=t("1kSV"),a=t("tyNb"),s=t("quSY"),l=t("AytR"),d=t("0IaG"),u=t("fXoL"),p=t("EnSQ"),m=t("IRLN"),f=t("F4W7");function g(e,c){1&e&&u.Yb(0,"app-loader")}function h(e,c){1&e&&(u.dc(0,"p",3),u.Pc(1,"Pilgrim Details"),u.cc())}function b(e,c){if(1&e&&(u.dc(0,"div",15),u.dc(1,"label",64),u.Pc(2,"Alternate Phone"),u.cc(),u.Yb(3,"input",65),u.cc()),2&e){const e=u.rc(2);u.Kb(3),u.xc("value",e.personalDetails.alternatePhone)}}function v(e,c){if(1&e&&(u.dc(0,"div"),u.dc(1,"div",66),u.dc(2,"h4"),u.Pc(3),u.cc(),u.cc(),u.dc(4,"div",5),u.dc(5,"div",6),u.dc(6,"label",67),u.Pc(7,"Receipt Number"),u.cc(),u.Yb(8,"input",68),u.sc(9,"uppercase"),u.cc(),u.dc(10,"div",6),u.dc(11,"label",67),u.Pc(12,"Teller Number"),u.cc(),u.Yb(13,"input",68),u.sc(14,"uppercase"),u.cc(),u.cc(),u.dc(15,"div",5),u.dc(16,"div",6),u.dc(17,"label",67),u.Pc(18,"Payment Date"),u.cc(),u.Yb(19,"input",68),u.sc(20,"date"),u.cc(),u.dc(21,"div",6),u.dc(22,"label",67),u.Pc(23,"Bank"),u.cc(),u.Yb(24,"input",68),u.cc(),u.cc(),u.cc()),2&e){const e=c.$implicit,t=c.index;u.Kb(3),u.Rc("",t+1,"."),u.Kb(3),u.xc("for","receiptNumber"+t),u.Kb(2),u.xc("id","receiptNumber"+t)("value",u.tc(9,13,e.receiptNumber)),u.Kb(3),u.xc("for","tellerNumber"+t),u.Kb(2),u.xc("id","tellerNumber"+t)("value",u.tc(14,15,e.tellerNumber)),u.Kb(4),u.xc("for","paymentDate"+t),u.Kb(2),u.xc("id","paymentDate"+t)("value",u.uc(20,17,e.paymentDate,"longDate")),u.Kb(3),u.xc("for","bank"+t),u.Kb(2),u.xc("id","bank"+t)("value",e.bankObject.name)}}function x(e,c){if(1&e&&(u.dc(0,"mat-dialog-content"),u.dc(1,"h5"),u.Pc(2,"Enrollment details"),u.cc(),u.Yb(3,"hr",4),u.dc(4,"div",5),u.dc(5,"div",6),u.dc(6,"label",7),u.Pc(7,"Registration Code"),u.cc(),u.Yb(8,"input",8),u.cc(),u.dc(9,"div",6),u.dc(10,"label",9),u.Pc(11,"Registration Year"),u.cc(),u.Yb(12,"input",10),u.cc(),u.cc(),u.dc(13,"div",5),u.dc(14,"div",6),u.dc(15,"label",11),u.Pc(16,"Registration Zone"),u.cc(),u.Yb(17,"input",12),u.cc(),u.dc(18,"div",6),u.dc(19,"label",13),u.Pc(20,"Last Hajj Year"),u.cc(),u.Yb(21,"input",14),u.cc(),u.cc(),u.dc(22,"div",15),u.dc(23,"label",16),u.Pc(24,"Last Hajj Experience"),u.cc(),u.Yb(25,"input",17),u.cc(),u.Yb(26,"br"),u.dc(27,"h5"),u.Pc(28,"Personal details"),u.cc(),u.Yb(29,"hr",18),u.dc(30,"div",15),u.dc(31,"label",19),u.Pc(32,"Full Name"),u.cc(),u.Yb(33,"input",20),u.sc(34,"uppercase"),u.cc(),u.dc(35,"div",5),u.dc(36,"div",6),u.dc(37,"label",21),u.Pc(38,"Gender"),u.cc(),u.Yb(39,"input",22),u.sc(40,"uppercase"),u.cc(),u.dc(41,"div",6),u.dc(42,"label",23),u.Pc(43,"Marital Status"),u.cc(),u.Yb(44,"input",24),u.sc(45,"uppercase"),u.cc(),u.cc(),u.dc(46,"div",5),u.dc(47,"div",6),u.dc(48,"label",25),u.Pc(49,"State Of Origin"),u.cc(),u.Yb(50,"input",26),u.sc(51,"uppercase"),u.cc(),u.dc(52,"div",6),u.dc(53,"label",27),u.Pc(54,"Local Gov't"),u.cc(),u.Yb(55,"input",28),u.sc(56,"uppercase"),u.cc(),u.cc(),u.dc(57,"div",5),u.dc(58,"div",6),u.dc(59,"label",29),u.Pc(60,"Date Of Birth"),u.cc(),u.Yb(61,"input",30),u.sc(62,"date"),u.cc(),u.dc(63,"div",6),u.dc(64,"label",31),u.Pc(65,"Phone"),u.cc(),u.Yb(66,"input",32),u.cc(),u.cc(),u.Nc(67,b,4,1,"div",33),u.dc(68,"div",15),u.dc(69,"label",34),u.Pc(70,"Residential Address"),u.cc(),u.dc(71,"textarea",35),u.sc(72,"uppercase"),u.Pc(73,"    "),u.cc(),u.cc(),u.Yb(74,"br"),u.dc(75,"h5"),u.Pc(76,"Office details"),u.cc(),u.Yb(77,"hr",18),u.dc(78,"div",5),u.dc(79,"div",6),u.dc(80,"label",36),u.Pc(81,"Occupation"),u.cc(),u.Yb(82,"input",37),u.sc(83,"uppercase"),u.cc(),u.dc(84,"div",6),u.dc(85,"label",38),u.Pc(86,"Profession"),u.cc(),u.Yb(87,"input",39),u.sc(88,"uppercase"),u.cc(),u.cc(),u.dc(89,"div",15),u.dc(90,"label",40),u.Pc(91,"Place Of Work"),u.cc(),u.Yb(92,"input",41),u.sc(93,"uppercase"),u.cc(),u.dc(94,"div",15),u.dc(95,"label",42),u.Pc(96,"Office Address"),u.cc(),u.dc(97,"textarea",43),u.sc(98,"uppercase"),u.Pc(99,"    "),u.cc(),u.cc(),u.Yb(100,"br"),u.dc(101,"h5"),u.Pc(102,"Next of kin details"),u.cc(),u.Yb(103,"hr",18),u.dc(104,"div",15),u.dc(105,"label",44),u.Pc(106,"Full Name"),u.cc(),u.Yb(107,"input",45),u.sc(108,"uppercase"),u.cc(),u.dc(109,"div",5),u.dc(110,"div",6),u.dc(111,"label",46),u.Pc(112,"Relationship"),u.cc(),u.Yb(113,"input",47),u.sc(114,"uppercase"),u.cc(),u.dc(115,"div",6),u.dc(116,"label",48),u.Pc(117,"Phone"),u.cc(),u.Yb(118,"input",49),u.cc(),u.cc(),u.dc(119,"div",15),u.dc(120,"label",50),u.Pc(121,"Home Address"),u.cc(),u.dc(122,"textarea",51),u.sc(123,"uppercase"),u.Pc(124,"    "),u.cc(),u.cc(),u.Yb(125,"br"),u.dc(126,"h5"),u.Pc(127,"E-Passport details"),u.cc(),u.Yb(128,"hr",4),u.dc(129,"div",5),u.dc(130,"div",6),u.dc(131,"label",52),u.Pc(132,"Passport Number"),u.cc(),u.Yb(133,"input",53),u.sc(134,"uppercase"),u.cc(),u.dc(135,"div",6),u.dc(136,"label",54),u.Pc(137,"Passport Type"),u.cc(),u.Yb(138,"input",55),u.sc(139,"uppercase"),u.cc(),u.cc(),u.dc(140,"div",5),u.dc(141,"div",6),u.dc(142,"label",56),u.Pc(143,"Date of Issue"),u.cc(),u.Yb(144,"input",57),u.sc(145,"date"),u.cc(),u.dc(146,"div",6),u.dc(147,"label",58),u.Pc(148,"Expiry Date"),u.cc(),u.Yb(149,"input",59),u.sc(150,"date"),u.cc(),u.cc(),u.Yb(151,"br"),u.dc(152,"h5"),u.Pc(153,"Payment history"),u.cc(),u.Yb(154,"hr",4),u.Nc(155,v,25,20,"div",60),u.Yb(156,"br"),u.dc(157,"h5"),u.Pc(158,"Uploaded images"),u.cc(),u.Yb(159,"hr",4),u.dc(160,"ul",61),u.dc(161,"li",62),u.Pc(162," Guarantor Form\xa0"),u.dc(163,"a",63),u.Pc(164,"View"),u.cc(),u.cc(),u.dc(165,"li",62),u.Pc(166," MOU\xa0"),u.dc(167,"a",63),u.Pc(168,"View"),u.cc(),u.cc(),u.dc(169,"li",62),u.Pc(170," E-Passport\xa0"),u.dc(171,"a",63),u.Pc(172,"View"),u.cc(),u.cc(),u.cc(),u.cc()),2&e){const e=u.rc();u.Kb(8),u.xc("value",e.enrollmentDetails.code),u.Kb(4),u.xc("value",e.enrollmentDetails.enrollmentYear.year),u.Kb(5),u.xc("value",e.enrollmentDetails.enrollmentZone.name),u.Kb(4),u.xc("value",e.enrollmentDetails.lastHajjYear),u.Kb(4),u.xc("value",e.enrollmentDetails.hajjExperience),u.Kb(8),u.xc("value",u.tc(34,30,e.personalDetails.surname+", "+e.personalDetails.otherNames)),u.Kb(6),u.xc("value",u.tc(40,32,e.personalDetails.sex)),u.Kb(5),u.xc("value",u.tc(45,34,e.personalDetails.maritalStatus)),u.Kb(6),u.xc("value",u.tc(51,36,e.personalDetails.stateOfOrigin.name)),u.Kb(5),u.xc("value",u.tc(56,38,e.personalDetails.localGovOfOrigin.name)),u.Kb(6),u.xc("value",u.uc(62,40,e.personalDetails.dateOfBirth,"longDate")),u.Kb(5),u.xc("value",e.personalDetails.phone),u.Kb(1),u.xc("ngIf",e.personalDetails.alternatePhone),u.Kb(4),u.xc("value",u.tc(72,43,e.personalDetails.homeAddress)),u.Kb(11),u.xc("value",u.tc(83,45,e.officeDetails.occupation)),u.Kb(5),u.xc("value",u.tc(88,47,e.officeDetails.profession)),u.Kb(5),u.xc("value",u.tc(93,49,e.officeDetails.placeOfWork)),u.Kb(5),u.xc("value",u.tc(98,51,e.officeDetails.officeAddress)),u.Kb(10),u.xc("value",u.tc(108,53,e.nextOfKinDetails.fullName)),u.Kb(6),u.xc("value",u.tc(114,55,e.nextOfKinDetails.relationship)),u.Kb(5),u.xc("value",e.nextOfKinDetails.phone),u.Kb(4),u.xc("value",u.tc(123,57,e.nextOfKinDetails.address)),u.Kb(11),u.xc("value",u.tc(134,59,e.passportDetails.passportNumber)),u.Kb(5),u.xc("value",u.tc(139,61,e.passportDetails.passportType)),u.Kb(6),u.xc("value",u.uc(145,63,e.passportDetails.dateOfIssue,"longDate")),u.Kb(5),u.xc("value",u.uc(150,66,e.passportDetails.expiryDate,"longDate")),u.Kb(6),u.xc("ngForOf",e.paymentHistory),u.Kb(8),u.xc("href",e.imageFile(e.attachedDocuments.guarantorFormUrl),u.Ic),u.Kb(4),u.xc("href",e.imageFile(e.attachedDocuments.mouUrl),u.Ic),u.Kb(4),u.xc("href",e.imageFile(e.attachedDocuments.passportUrl),u.Ic)}}function P(e,c){1&e&&(u.dc(0,"mat-dialog-actions",69),u.dc(1,"button",70),u.Pc(2," Close "),u.cc(),u.cc())}let y=(()=>{class e{constructor(e,c,t){this.data=e,this.dataService=c,this.loader=t,this.paymentHistory=[],this.banks=[],this.subscription=new s.a}ngOnInit(){this.enrollmentDetails=Object.assign({},this.data.enrollmentDetails),this.personalDetails=Object.assign({},this.data.personalDetails),this.officeDetails=Object.assign({},this.data.officeDetails),this.nextOfKinDetails=Object.assign({},this.data.nextOfKinDetails),this.passportDetails=Object.assign({},this.data.passportDetails),this.getBanks(),this.attachedDocuments=Object.assign({},this.data.attachedDocuments)}ngOnDestroy(){this.loader.hideLoader(),this.subscription.unsubscribe()}getBanks(){this.paymentHistory=[...this.data.paymentHistory],this.loader.showLoader();const e=l.a.banks,c=sessionStorage.getItem("token");this.subscription=this.dataService.get(e,c,"").subscribe(e=>{this.banks=[...e],this.paymentHistory.forEach(e=>{e.bankObject=this.banks.find(c=>c._id===e.bank)}),this.loader.hideLoader()})}imageFile(e){return window.scroll(0,0),`${l.a.pilgrims}/image/${e}`}}return e.\u0275fac=function(c){return new(c||e)(u.Xb(d.a),u.Xb(p.a),u.Xb(m.a))},e.\u0275cmp=u.Rb({type:e,selectors:[["app-pilgrim-details"]],decls:4,vars:4,consts:[[4,"ngIf"],["mat-dialog-title","","style","font-size: 160%;",4,"ngIf"],["align","end",4,"ngIf"],["mat-dialog-title","",2,"font-size","160%"],[2,"margin-top","0px"],[1,"row"],[1,"form-group","col-md-6","col-sm-12","mx-auto"],["for","registrationCode"],["type","text","id","registrationCode","disabled","",1,"form-control","form-control-sm",3,"value"],["for","year"],["type","text","id","year","disabled","",1,"form-control","form-control-sm",3,"value"],["for","registrationZone"],["type","text","id","registrationZone","disabled","",1,"form-control","form-control-sm",3,"value"],["for","lastHajjYear"],["type","text","id","lastHajjYear","disabled","",1,"form-control","form-control-sm",3,"value"],[1,"form-group","row","mx-auto"],["for","hajjExperience"],["type","text","id","hajjExperience","disabled","",1,"form-control","form-control-sm",3,"value"],[2,"margin-top","0px","margin-bottom","0px"],["for","name"],["type","text","id","name","disabled","",1,"form-control","form-control-sm",3,"value"],["for","sex"],["type","text","id","sex","disabled","",1,"form-control","form-control-sm",3,"value"],["for","maritalStatus"],["type","text","id","maritalStatus","disabled","",1,"form-control","form-control-sm",3,"value"],["for","stateOfOrigin"],["type","text","id","stateOfOrigin","disabled","",1,"form-control","form-control-sm",3,"value"],["for","lgaOfOrigin"],["type","text","id","lgaOfOrigin","disabled","",1,"form-control","form-control-sm",3,"value"],["for","dateOfBirth"],["type","text","id","dateOfBirth","disabled","",1,"form-control","form-control-sm",3,"value"],["for","phone"],["type","text","id","phone","disabled","",1,"form-control","form-control-sm",3,"value"],["class","form-group row mx-auto",4,"ngIf"],["for","address"],["id","address","rows","3","disabled","",1,"form-control","form-control-sm",3,"value"],["for","occupation"],["type","text","id","occupation","disabled","",1,"form-control","form-control-sm",3,"value"],["for","profession"],["type","text","id","profession","disabled","",1,"form-control","form-control-sm",3,"value"],["for","placeOfWork"],["type","text","id","placeOfWork","disabled","",1,"form-control","form-control-sm",3,"value"],["for","officeAddress"],["id","officeAddress","rows","3","disabled","",1,"form-control","form-control-sm",3,"value"],["for","kinFullName"],["type","text","id","kinFullName","disabled","",1,"form-control","form-control-sm",3,"value"],["for","relationship"],["type","text","id","relationship","disabled","",1,"form-control","form-control-sm",3,"value"],["for","kinPhone"],["type","text","id","kinPhone","disabled","",1,"form-control","form-control-sm",3,"value"],["for","kinAdress"],["id","kinAdress","rows","3","disabled","",1,"form-control","form-control-sm",3,"value"],["for","passportNumber"],["type","text","id","passportNumber","disabled","",1,"form-control","form-control-sm",3,"value"],["for","passportType"],["type","text","id","passportType","disabled","",1,"form-control","form-control-sm",3,"value"],["for","dateOfIssue"],["type","text","id","dateOfIssue","disabled","",1,"form-control","form-control-sm",3,"value"],["for","expiryDate"],["type","text","id","expiryDate","disabled","",1,"form-control","form-control-sm",3,"value"],[4,"ngFor","ngForOf"],[1,"list-group"],[1,"list-group-item"],["target","_blank",1,"float-right",3,"href"],["for","altPhone"],["type","text","id","altPhone","disabled","",1,"form-control","form-control-sm",3,"value"],[1,"row","col-12","mx-auto"],[3,"for"],["type","text","disabled","",1,"form-control","form-control-sm",3,"id","value"],["align","end"],["type","button","matDialogClose","",1,"btn-outline-primary","btn-sm","btn","ml-2"]],template:function(e,c){1&e&&(u.Nc(0,g,1,0,"app-loader",0),u.Nc(1,h,2,0,"p",1),u.Nc(2,x,173,69,"mat-dialog-content",0),u.Nc(3,P,3,0,"mat-dialog-actions",2)),2&e&&(u.xc("ngIf",c.loader.loaderVisible),u.Kb(1),u.xc("ngIf",!c.loader.loaderVisible),u.Kb(1),u.xc("ngIf",!c.loader.loaderVisible),u.Kb(1),u.xc("ngIf",!c.loader.loaderVisible))},directives:[n.n,f.a,d.h,d.e,n.m,d.c,d.d],pipes:[n.x,n.e],styles:[""]}),e})();var K=t("5dVO"),N=t("OC8m"),O=t("mURs"),I=t("fC9P");function S(e,c){1&e&&(u.dc(0,"span",26),u.Pc(1,"\xa0\xa0\xa0Active"),u.cc())}function D(e,c){if(1&e&&(u.dc(0,"option",24),u.Pc(1),u.sc(2,"uppercase"),u.Nc(3,S,2,0,"span",25),u.cc()),2&e){const e=c.$implicit;u.xc("value",e._id),u.Kb(1),u.Rc("",u.tc(2,3,e.year)," "),u.Kb(2),u.xc("ngIf",e.active)}}function w(e,c){1&e&&u.Zb(0)}function C(e,c){1&e&&(u.dc(0,"thead"),u.dc(1,"tr",27),u.dc(2,"td"),u.dc(3,"app-loader"),u.Pc(4,"Fetching data..."),u.cc(),u.cc(),u.cc(),u.cc())}function k(e,c){1&e&&u.Zb(0)}function F(e,c){if(1&e&&u.Nc(0,k,1,0,"ng-container",17),2&e){const e=u.rc(),c=u.Fc(31),t=u.Fc(29);u.xc("ngIf",e.pilgrims.length>0)("ngIfThen",c)("ngIfElse",t)}}function L(e,c){1&e&&(u.dc(0,"span"),u.Pc(1,"Select a year."),u.cc())}function T(e,c){if(1&e&&(u.dc(0,"thead"),u.dc(1,"tr"),u.dc(2,"td"),u.Pc(3,"No record(s) to display. "),u.Nc(4,L,2,0,"span",28),u.cc(),u.cc(),u.cc()),2&e){u.rc();const e=u.Fc(14);u.Kb(4),u.xc("ngIf",""===e.value)}}function Y(e,c){if(1&e){const e=u.ec();u.dc(0,"tbody"),u.dc(1,"tr"),u.dc(2,"td"),u.Pc(3),u.cc(),u.dc(4,"td"),u.dc(5,"b"),u.Pc(6),u.cc(),u.cc(),u.dc(7,"td"),u.Pc(8),u.sc(9,"uppercase"),u.cc(),u.dc(10,"td"),u.Pc(11),u.sc(12,"uppercase"),u.cc(),u.dc(13,"td"),u.Pc(14),u.cc(),u.dc(15,"td"),u.Pc(16),u.sc(17,"date"),u.cc(),u.dc(18,"td"),u.dc(19,"button",36),u.nc("click",function(){u.Hc(e);const t=c.$implicit;return u.rc(2).viewPilgrim(t)}),u.Pc(20," View Details "),u.cc(),u.cc(),u.cc(),u.cc()}if(2&e){const e=c.index,t=c.$implicit;u.Kb(3),u.Qc(e+1),u.Kb(3),u.Qc(t.enrollmentDetails.code),u.Kb(2),u.Qc(u.tc(9,6,t.personalDetails.surname+", "+t.personalDetails.otherNames)),u.Kb(3),u.Qc(u.tc(12,8,t.personalDetails.sex)),u.Kb(3),u.Qc(t.enrollmentDetails.enrollmentZone.name),u.Kb(2),u.Qc(u.uc(17,10,t.dateCreated,"medium"))}}const j=function(e){return{itemsPerPage:10,currentPage:e}};function A(e,c){if(1&e&&(u.dc(0,"thead"),u.dc(1,"tr"),u.dc(2,"th",29),u.Pc(3,"S/N"),u.cc(),u.dc(4,"th",30),u.Pc(5,"Registration Code"),u.cc(),u.dc(6,"th",31),u.Pc(7,"Full Name"),u.cc(),u.dc(8,"th",32),u.Pc(9,"Gender"),u.cc(),u.dc(10,"th",33),u.Pc(11,"Registration Zone"),u.cc(),u.dc(12,"th",34),u.Pc(13,"Registration Date"),u.cc(),u.dc(14,"th"),u.Pc(15,"Actions"),u.cc(),u.cc(),u.cc(),u.Nc(16,Y,21,13,"tbody",35),u.sc(17,"paginate"),u.sc(18,"filter")),2&e){const e=u.rc();u.Kb(2),u.xc("appSort",e.pilgrims),u.Kb(2),u.xc("appSort",e.pilgrims),u.Kb(2),u.xc("appSort",e.pilgrims),u.Kb(2),u.xc("appSort",e.pilgrims),u.Kb(2),u.xc("appSort",e.pilgrims),u.Kb(2),u.xc("appSort",e.pilgrims),u.Kb(4),u.xc("ngForOf",u.uc(17,7,u.uc(18,10,e.pilgrims,e.searchText),u.Bc(13,j,e.p)))}}let R=(()=>{class e{constructor(e,c,t,r){this.loader=e,this.dataService=c,this.notifications=t,this.dialog=r,this.searchText="",this.years=[],this.pilgrims=[],this.p=1,this.subscription=new s.a,this.token=sessionStorage.getItem("token")}ngOnInit(){this.getYears()}ngOnDestroy(){this.loader.hideLoader(),this.subscription.unsubscribe()}yearSelected(e){this.getPilgrims(e)}getYears(){this.loader.showLoader(),this.subscription=this.dataService.get(l.a.years,this.token).subscribe(e=>{this.years=[...e],this.loader.hideLoader()})}getPilgrims(e){this.loader.showLoader(),this.subscription=this.dataService.get(`${l.a.pilgrims}/by-year/${e}`,this.token).subscribe(e=>{this.pilgrims=[...e],this.loader.hideLoader()})}viewPilgrim(e){window.scroll(0,0),this.dialog.open(y,{width:"35rem",disableClose:!0,data:e})}}return e.\u0275fac=function(c){return new(c||e)(u.Xb(K.a),u.Xb(p.a),u.Xb(N.a),u.Xb(d.b))},e.\u0275cmp=u.Rb({type:e,selectors:[["app-pilgrim-list"]],decls:32,vars:5,consts:[[1,"page-breadcrumb"],[1,"breadcrumb",2,"font-size","150%"],[1,"breadcrumb-item"],[1,"text-primary"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body",2,"overflow-x","auto"],[1,"card-title"],["id","yearId","name","yearId","ngModel","","required","",1,"form-control","col-sm-12","col-md-3","col-lg-2","float-left","mb-4",2,"border-radius","2px",3,"change"],["yearId","ngModel"],["value","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["type","search","name","search","placeholder","Search",1,"form-control","col-sm-12","col-md-3","float-right","mb-4",3,"ngModel","ngModelChange"],[1,"table-responsive",2,"overflow-y","hidden!important"],[1,"table"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"col-12","mx-auto","mt-3"],["maxSize","9","directionLinks","true","autoHide","true","responsive","true","previousLabel","Previous","nextLabel","Next","screenReaderPaginationLabel","Pagination","screenReaderPageLabel","page","screenReaderCurrentLabel","You're on page",1,"float-right",3,"pageChange"],["load",""],["show",""],["noData",""],["tableData",""],[3,"value"],["class","text-success",4,"ngIf"],[1,"text-success"],[2,"font-weight","600"],[4,"ngIf"],["scope","col","data-order","desc","data-name","sn",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","code",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","name",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","gender",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","enrollmentZone",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","dateCreated",1,"sort",3,"appSort"],[4,"ngFor","ngForOf"],["type","button",1,"btn","magnifyText","btn-outline-primary","btn",3,"click"]],template:function(e,c){if(1&e){const e=u.ec();u.dc(0,"nav",0),u.dc(1,"ol",1),u.dc(2,"li",2),u.dc(3,"a",3),u.Pc(4,"Pilgrims"),u.cc(),u.cc(),u.dc(5,"li",4),u.Pc(6,"Registered Pilgrims"),u.cc(),u.cc(),u.cc(),u.dc(7,"div",5),u.dc(8,"div",6),u.dc(9,"div",7),u.dc(10,"div",8),u.dc(11,"h6",9),u.Pc(12,"PILGRIMS MASTER LIST"),u.cc(),u.dc(13,"select",10,11),u.nc("change",function(){u.Hc(e);const t=u.Fc(14);return c.getPilgrims(t.value)}),u.dc(15,"option",12),u.Pc(16,"Select Year"),u.cc(),u.Nc(17,D,4,5,"option",13),u.cc(),u.dc(18,"input",14),u.nc("ngModelChange",function(e){return c.searchText=e}),u.cc(),u.dc(19,"div",15),u.dc(20,"table",16),u.Nc(21,w,1,0,"ng-container",17),u.cc(),u.dc(22,"div",18),u.dc(23,"pagination-controls",19),u.nc("pageChange",function(e){return c.p=e}),u.cc(),u.cc(),u.cc(),u.cc(),u.cc(),u.cc(),u.cc(),u.Nc(24,C,5,0,"ng-template",null,20,u.Oc),u.Nc(26,F,1,3,"ng-template",null,21,u.Oc),u.Nc(28,T,5,1,"ng-template",null,22,u.Oc),u.Nc(30,A,19,15,"ng-template",null,23,u.Oc)}if(2&e){const e=u.Fc(25),t=u.Fc(27);u.Kb(17),u.xc("ngForOf",c.years),u.Kb(1),u.xc("ngModel",c.searchText),u.Kb(3),u.xc("ngIf",c.loader.loaderVisible)("ngIfThen",e)("ngIfElse",t)}},directives:[r.w,r.o,r.r,r.v,r.s,r.y,n.m,r.c,n.n,i.c,f.a,O.a],pipes:[n.x,i.b,I.a,n.e],styles:[".ngx-pagination .current{background-color:#727cf5!important;border-radius:3px}td[_ngcontent-%COMP%]{font-size:85%!important}"]}),e})();var M=t("oOyu"),H=t("G9Ti");const q=function(e,c,t){return{active:e,inactive:c,current:t}};function E(e,c){if(1&e){const e=u.ec();u.bc(0),u.dc(1,"div",1),u.nc("click",function(){u.Hc(e);const t=c.$implicit;return u.rc().onStepClick(t)}),u.sc(2,"async"),u.Pc(3),u.cc(),u.ac()}if(2&e){const e=c.$implicit,t=u.rc();let r=null;u.Kb(1),u.xc("ngClass",u.Dc(4,q,e.isComplete,!e.isComplete,(null==(r=u.tc(2,2,t.currentStep))?null:r.stepIndex)===e.stepIndex)),u.Kb(2),u.Rc(" ",e.stepIndex+". "+t.stepIndex(e.stepIndex)," ")}}let $=(()=>{class e{constructor(e){this.stepsService=e}ngOnInit(){this.steps=this.stepsService.getSteps(),this.currentStep=this.stepsService.getCurrentStep()}onStepClick(e){let c;this.steps.subscribe(e=>{c=e}),1!==e.stepIndex?c[e.stepIndex-2].isComplete&&this.stepsService.setCurrentStep(e):this.stepsService.setCurrentStep(e)}stepIndex(e){let c="";switch(e){case 1:c="Enrollment & Passport";break;case 2:c="Personal & Office";break;case 3:c="Next of Kin";break;case 4:c="Document Upload";break;case 5:c="Payment History"}return c}}return e.\u0275fac=function(c){return new(c||e)(u.Xb(M.a))},e.\u0275cmp=u.Rb({type:e,selectors:[["app-steps"]],decls:2,vars:3,consts:[[4,"ngFor","ngForOf"],[1,"step",3,"ngClass","click"]],template:function(e,c){1&e&&(u.Nc(0,E,4,8,"ng-container",0),u.sc(1,"async")),2&e&&u.xc("ngForOf",u.tc(1,1,c.steps))},directives:[n.m,n.l],pipes:[n.b],styles:[".inactive[_ngcontent-%COMP%]{background-color:#f2f2f2;color:#aaa}.active[_ngcontent-%COMP%]{background:#5a66f3}.active[_ngcontent-%COMP%], .current[_ngcontent-%COMP%]{color:#fff;cursor:pointer}.current[_ngcontent-%COMP%]{background:#0c18a8}.step[_ngcontent-%COMP%]{padding:0 1rem;border-radius:3px;font-size:90%;line-height:2.8rem;height:2.8rem;width:95%}.inactive[_ngcontent-%COMP%]:hover{cursor:default!important}.step[_ngcontent-%COMP%]:last-child{margin-top:.4rem}.step[_ngcontent-%COMP%]:first-child, .step[_ngcontent-%COMP%]:nth-child(2), .step[_ngcontent-%COMP%]:nth-child(3){margin-bottom:.4rem}"]}),e})();const _=["*"];let z=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(c){return new(c||e)},e.\u0275cmp=u.Rb({type:e,selectors:[["app-step-template"]],inputs:{step:"step"},ngContentSelectors:_,decls:1,vars:0,template:function(e,c){1&e&&(u.wc(),u.vc(0))},styles:[""]}),e})();function G(e,c){1&e&&u.Zb(0)}function Z(e,c){1&e&&u.Yb(0,"app-loader")}function B(e,c){if(1&e&&(u.dc(0,"option",26),u.Pc(1),u.cc()),2&e){const e=c.$implicit;u.xc("value",e._id),u.Kb(1),u.Qc(e.name)}}function Q(e,c){1&e&&(u.dc(0,"div"),u.Pc(1," Select an enrollment zone. "),u.cc())}function V(e,c){if(1&e&&(u.dc(0,"div",27),u.Nc(1,Q,2,0,"div",28),u.cc()),2&e){const e=u.rc(2);u.Kb(1),u.xc("ngIf",e.enrollmentZone.errors.required)}}function X(e,c){1&e&&(u.dc(0,"div"),u.Pc(1," This field is required. "),u.cc())}function U(e,c){1&e&&(u.dc(0,"div"),u.Pc(1," Please enter a valid year. "),u.cc())}function W(e,c){if(1&e&&(u.dc(0,"div"),u.Pc(1),u.cc()),2&e){const e=u.rc(3);u.Kb(1),u.Rc(" Last hajj year must be minimum ",e.lastHajjYear.errors.min.min,". ")}}function J(e,c){if(1&e&&(u.dc(0,"div"),u.Pc(1),u.cc()),2&e){const e=u.rc(3);u.Kb(1),u.Rc(" Last hajj year must be maximum ",e.lastHajjYear.errors.max.max,". ")}}function ee(e,c){if(1&e&&(u.dc(0,"div",27),u.Nc(1,X,2,0,"div",28),u.Nc(2,U,2,0,"div",28),u.Nc(3,W,2,1,"div",28),u.Nc(4,J,2,1,"div",28),u.cc()),2&e){const e=u.rc(2);u.Kb(1),u.xc("ngIf",e.lastHajjYear.errors.required),u.Kb(1),u.xc("ngIf",e.lastHajjYear.errors.pattern),u.Kb(1),u.xc("ngIf",e.lastHajjYear.errors.min),u.Kb(1),u.xc("ngIf",e.lastHajjYear.errors.max)}}function ce(e,c){1&e&&(u.dc(0,"div"),u.Pc(1," This field is required. "),u.cc())}function te(e,c){if(1&e&&(u.dc(0,"div"),u.Pc(1),u.cc()),2&e){const e=u.rc(3);u.Kb(1),u.Rc(" Last hajj year must be minimum ",e.hajjExperience.errors.minlength.requiredLength,". ")}}function re(e,c){if(1&e&&(u.dc(0,"div"),u.Pc(1),u.cc()),2&e){const e=u.rc(3);u.Kb(1),u.Rc(" Last hajj year must be maximum ",e.hajjExperience.errors.maxlength.requiredLength,". ")}}function ne(e,c){if(1&e&&(u.dc(0,"div",27),u.Nc(1,ce,2,0,"div",28),u.Nc(2,te,2,1,"div",28),u.Nc(3,re,2,1,"div",28),u.cc()),2&e){const e=u.rc(2);u.Kb(1),u.xc("ngIf",e.hajjExperience.errors.required),u.Kb(1),u.xc("ngIf",e.hajjExperience.errors.minlength),u.Kb(1),u.xc("ngIf",e.hajjExperience.errors.maxlength)}}function ie(e,c){if(1&e&&(u.dc(0,"option",26),u.Pc(1),u.sc(2,"uppercase"),u.cc()),2&e){const e=c.$implicit;u.xc("value",e),u.Kb(1),u.Qc(u.tc(2,2,e))}}function oe(e,c){1&e&&(u.dc(0,"div"),u.Pc(1," Select pilgrim's passport type. "),u.cc())}function ae(e,c){if(1&e&&(u.dc(0,"div",27),u.Nc(1,oe,2,0,"div",28),u.cc()),2&e){const e=u.rc(2);u.Kb(1),u.xc("ngIf",e.passportType.errors.required)}}function se(e,c){1&e&&(u.dc(0,"div"),u.Pc(1," This field is required. "),u.cc())}function le(e,c){if(1&e&&(u.dc(0,"div",27),u.Nc(1,se,2,0,"div",28),u.cc()),2&e){const e=u.rc(2);u.Kb(1),u.xc("ngIf",e.passportNumber.errors.required)}}function de(e,c){1&e&&(u.dc(0,"div"),u.Pc(1," Select a valid date. "),u.cc())}function ue(e,c){if(1&e&&(u.dc(0,"div",27),u.Nc(1,de,2,0,"div",28),u.cc()),2&e){const e=u.rc(2);u.Kb(1),u.xc("ngIf",e.dateOfIssue.errors.required)}}function pe(e,c){1&e&&(u.dc(0,"div"),u.Pc(1," Select a valid date. "),u.cc())}function me(e,c){if(1&e&&(u.dc(0,"div",27),u.Nc(1,pe,2,0,"div",28),u.cc()),2&e){const e=u.rc(2);u.Kb(1),u.xc("ngIf",e.expiryDate.errors.required)}}function fe(e,c){1&e&&(u.dc(0,"div"),u.Pc(1," This field is required. "),u.cc())}function ge(e,c){if(1&e&&(u.dc(0,"div",27),u.Nc(1,fe,2,0,"div",28),u.cc()),2&e){const e=u.rc(2);u.Kb(1),u.xc("ngIf",e.placeOfIssue.errors.required)}}function he(e,c){if(1&e){const e=u.ec();u.dc(0,"form",0),u.dc(1,"h5"),u.Pc(2,"Enrollment details"),u.cc(),u.Yb(3,"hr",4),u.dc(4,"div",5),u.dc(5,"div",6),u.dc(6,"label",7),u.Pc(7,"Enrollment Zone"),u.cc(),u.dc(8,"select",8),u.nc("change",function(){return u.Hc(e),u.rc().valueChange()}),u.Nc(9,B,2,2,"option",9),u.cc(),u.Nc(10,V,2,1,"div",10),u.cc(),u.dc(11,"div",6),u.dc(12,"label",11),u.Pc(13,"Last Hajj Year"),u.cc(),u.dc(14,"input",12),u.nc("keyup",function(){return u.Hc(e),u.rc().valueChange()}),u.cc(),u.Nc(15,ee,5,4,"div",10),u.cc(),u.cc(),u.dc(16,"div",5),u.dc(17,"div",6),u.dc(18,"label",13),u.Pc(19,"Last Hajj Experience"),u.cc(),u.dc(20,"input",14),u.nc("keyup",function(){return u.Hc(e),u.rc().valueChange()}),u.cc(),u.Nc(21,ne,4,3,"div",10),u.cc(),u.Yb(22,"div",6),u.cc(),u.cc(),u.dc(23,"form",0),u.Yb(24,"br"),u.dc(25,"h5"),u.Pc(26,"Passport details"),u.cc(),u.Yb(27,"hr",4),u.dc(28,"div",5),u.dc(29,"div",6),u.dc(30,"label",15),u.Pc(31," Passport Type "),u.cc(),u.dc(32,"select",16),u.nc("change",function(){return u.Hc(e),u.rc().valueChange()}),u.dc(33,"option",17),u.Pc(34,"Select passport type"),u.cc(),u.Nc(35,ie,3,4,"option",9),u.cc(),u.Nc(36,ae,2,1,"div",10),u.cc(),u.dc(37,"div",6),u.dc(38,"label",18),u.Pc(39," Passport Number "),u.cc(),u.dc(40,"input",19),u.nc("keyup",function(){return u.Hc(e),u.rc().valueChange()}),u.cc(),u.Nc(41,le,2,1,"div",10),u.cc(),u.cc(),u.dc(42,"div",5),u.dc(43,"div",6),u.dc(44,"label",20),u.Pc(45," Date of Issue "),u.cc(),u.dc(46,"input",21),u.nc("change",function(){return u.Hc(e),u.rc().valueChange()}),u.cc(),u.Nc(47,ue,2,1,"div",10),u.cc(),u.dc(48,"div",6),u.dc(49,"label",22),u.Pc(50," Expiry Date "),u.cc(),u.dc(51,"input",23),u.nc("change",function(){return u.Hc(e),u.rc().valueChange()}),u.cc(),u.Nc(52,me,2,1,"div",10),u.cc(),u.cc(),u.dc(53,"div",5),u.dc(54,"div",6),u.dc(55,"label",24),u.Pc(56," Place of Issue "),u.cc(),u.dc(57,"input",25),u.nc("keyup",function(){return u.Hc(e),u.rc().valueChange()}),u.cc(),u.Nc(58,ge,2,1,"div",10),u.cc(),u.Yb(59,"div",6),u.cc(),u.cc()}if(2&e){const e=u.rc();u.xc("formGroup",e.enrollmentDetailsForm),u.Kb(6),u.Pb("text-danger",e.enrollmentZone.touched&&e.enrollmentZone.invalid),u.Kb(2),u.Pb("error-control",e.enrollmentZone.touched&&e.enrollmentZone.invalid),u.Kb(1),u.xc("ngForOf",e.lga),u.Kb(1),u.xc("ngIf",e.enrollmentZone.touched&&e.enrollmentZone.invalid),u.Kb(2),u.Pb("text-danger",e.lastHajjYear.touched&&e.lastHajjYear.invalid),u.Kb(2),u.Pb("error-control",e.lastHajjYear.touched&&e.lastHajjYear.invalid),u.Kb(1),u.xc("ngIf",e.lastHajjYear.touched&&e.lastHajjYear.invalid),u.Kb(3),u.Pb("text-danger",e.hajjExperience.touched&&e.hajjExperience.invalid),u.Kb(2),u.Pb("error-control",e.hajjExperience.touched&&e.hajjExperience.invalid),u.Kb(1),u.xc("ngIf",e.hajjExperience.touched&&e.hajjExperience.invalid),u.Kb(2),u.xc("formGroup",e.passportDetailsForm),u.Kb(7),u.Pb("text-danger",e.passportType.touched&&e.passportType.invalid),u.Kb(2),u.Pb("error-control",e.passportType.touched&&e.passportType.invalid),u.Kb(1),u.xc("value",null),u.Kb(2),u.xc("ngForOf",e.passportTypes),u.Kb(1),u.xc("ngIf",e.passportType.touched&&e.passportType.invalid),u.Kb(2),u.Pb("text-danger",e.passportNumber.touched&&e.passportNumber.invalid),u.Kb(2),u.Pb("error-control",e.passportNumber.touched&&e.passportNumber.invalid),u.Kb(1),u.xc("ngIf",e.passportNumber.touched&&e.passportNumber.invalid),u.Kb(3),u.Pb("text-danger",e.dateOfIssue.touched&&e.dateOfIssue.invalid),u.Kb(2),u.Pb("error-control",e.dateOfIssue.touched&&e.dateOfIssue.invalid),u.Kb(1),u.xc("ngIf",e.dateOfIssue.touched&&e.dateOfIssue.invalid),u.Kb(2),u.Pb("text-danger",e.expiryDate.touched&&e.expiryDate.invalid),u.Kb(2),u.Pb("error-control",e.expiryDate.touched&&e.expiryDate.invalid),u.Kb(1),u.xc("ngIf",e.expiryDate.touched&&e.expiryDate.invalid),u.Kb(3),u.Pb("text-danger",e.placeOfIssue.touched&&e.placeOfIssue.invalid),u.Kb(2),u.Pb("error-control",e.placeOfIssue.touched&&e.placeOfIssue.invalid),u.Kb(1),u.xc("ngIf",e.placeOfIssue.touched&&e.placeOfIssue.invalid)}}let be=(()=>{class e{constructor(e,c,t){this.formsService=e,this.dataService=c,this.loader=t,this.lga=[],this.passportTypes=["normal","official","diplomatic"],this.userLga=sessionStorage.getItem("localGov"),this.subscription=new s.a}ngOnInit(){this.enrollmentAndPassport=this.formsService.enrollmentAndPassport,this.getLocalGovernment()}ngOnDestroy(){this.subscription.unsubscribe(),this.loader.hideLoader()}valueChange(){this.formsService.enrollmentAndPassport$.next(this.enrollmentAndPassport),this.enrollmentAndPassport=this.formsService.enrollmentAndPassport,this.step.isComplete=this.enrollmentAndPassport.valid}getLocalGovernment(){this.loader.showLoader();const e=`${l.a.zones}`,c=sessionStorage.getItem("token");this.subscription=this.dataService.get(e,c,this.userLga).subscribe(e=>{this.lga.push(e),this.enrollmentDetailsForm.patchValue({enrollmentZone:e._id}),this.valueChange(),this.loader.hideLoader()})}get enrollmentDetailsForm(){return this.enrollmentAndPassport.get("enrollmentDetails")}get hajjExperience(){return this.enrollmentDetailsForm.get("hajjExperience")}get lastHajjYear(){return this.enrollmentDetailsForm.get("lastHajjYear")}get enrollmentZone(){return this.enrollmentDetailsForm.get("enrollmentZone")}get passportDetailsForm(){return this.enrollmentAndPassport.get("passportDetails")}get passportType(){return this.passportDetailsForm.get("passportType")}get passportNumber(){return this.passportDetailsForm.get("passportNumber")}get placeOfIssue(){return this.passportDetailsForm.get("placeOfIssue")}get dateOfIssue(){return this.passportDetailsForm.get("dateOfIssue")}get expiryDate(){return this.passportDetailsForm.get("expiryDate")}}return e.\u0275fac=function(c){return new(c||e)(u.Xb(H.a),u.Xb(p.a),u.Xb(K.a))},e.\u0275cmp=u.Rb({type:e,selectors:[["app-enrollment-details"]],inputs:{step:"step"},decls:6,vars:4,consts:[[3,"formGroup"],[4,"ngIf","ngIfThen","ngIfElse"],["load",""],["showForm",""],[2,"margin-top","0px"],[1,"row"],[1,"form-group","col-md-6","col-sm-12","mx-auto"],["for","enrollmentZone"],["type","text","id","enrollmentZone","formControlName","enrollmentZone",1,"form-control","form-control-sm",3,"change"],[3,"value",4,"ngFor","ngForOf"],["class","text-danger mt-1",4,"ngIf"],["for","lastHajjYear"],["type","text","id","lastHajjYear","formControlName","lastHajjYear",1,"form-control","form-control-sm",3,"keyup"],["for","hajjExperience"],["type","text","id","hajjExperience","formControlName","hajjExperience",1,"form-control","form-control-sm",3,"keyup"],["for","passportType"],["type","text","id","passportType","formControlName","passportType",1,"form-control","form-control-sm",3,"change"],["selected","","hidden","",3,"value"],["for","passportNumber"],["type","text","id","passportNumber","formControlName","passportNumber",1,"form-control","form-control-sm",3,"keyup"],["for","dateOfIssue"],["type","date","id","dateOfIssue","formControlName","dateOfIssue",1,"form-control","form-control-sm",3,"change"],["for","expiryDate"],["type","date","id","expiryDate","formControlName","expiryDate",1,"form-control","form-control-sm",3,"change"],["for","placeOfIssue"],["type","text","id","placeOfIssue","formControlName","placeOfIssue",1,"form-control","form-control-sm",3,"keyup"],[3,"value"],[1,"text-danger","mt-1"],[4,"ngIf"]],template:function(e,c){if(1&e&&(u.dc(0,"form",0),u.Nc(1,G,1,0,"ng-container",1),u.Nc(2,Z,1,0,"ng-template",null,2,u.Oc),u.Nc(4,he,60,45,"ng-template",null,3,u.Oc),u.cc()),2&e){const e=u.Fc(3),t=u.Fc(5);u.xc("formGroup",c.enrollmentAndPassport),u.Kb(1),u.xc("ngIf",c.loader.loaderVisible)("ngIfThen",e)("ngIfElse",t)}},directives:[r.z,r.p,r.h,n.n,f.a,r.w,r.o,r.f,n.m,r.c,r.s,r.y],pipes:[n.x],styles:["h5[_ngcontent-%COMP%]{font-size:130%!important;color:#0c18a8}"]}),e})();function ve(e,c){1&e&&u.Zb(0)}function xe(e,c){1&e&&u.Yb(0,"app-loader")}function Pe(e,c){1&e&&(u.dc(0,"div"),u.Pc(1," This field is required. "),u.cc())}function ye(e,c){if(1&e&&(u.dc(0,"div"),u.Pc(1),u.cc()),2&e){const e=u.rc(3);u.Kb(1),u.Rc(" Surname must be minimum ",e.surname.errors.minlength.requiredLength," characters. ")}}function Ke(e,c){if(1&e&&(u.dc(0,"div"),u.Pc(1),u.cc()),2&e){const e=u.rc(3);u.Kb(1),u.Rc(" Surname must be maximum ",e.surname.errors.maxlength.requiredLength," characters. ")}}function Ne(e,c){if(1&e&&(u.dc(0,"div",41),u.Nc(1,Pe,2,0,"div",42),u.Nc(2,ye,2,1,"div",42),u.Nc(3,Ke,2,1,"div",42),u.cc()),2&e){const e=u.rc(2);u.Kb(1),u.xc("ngIf",e.surname.errors.required),u.Kb(1),u.xc("ngIf",e.surname.errors.minlength),u.Kb(1),u.xc("ngIf",e.surname.errors.maxlength)}}function Oe(e,c){1&e&&(u.dc(0,"div"),u.Pc(1," This field is required. "),u.cc())}function Ie(e,c){if(1&e&&(u.dc(0,"div"),u.Pc(1),u.cc()),2&e){const e=u.rc(3);u.Kb(1),u.Rc(" Other names must be minimum ",e.otherNames.errors.minlength.requiredLength," characters. ")}}function Se(e,c){if(1&e&&(u.dc(0,"div"),u.Pc(1),u.cc()),2&e){const e=u.rc(3);u.Kb(1),u.Rc(" Other names must be maximum ",e.otherNames.errors.maxlength.requiredLength," characters. ")}}function De(e,c){if(1&e&&(u.dc(0,"div",41),u.Nc(1,Oe,2,0,"div",42),u.Nc(2,Ie,2,1,"div",42),u.Nc(3,Se,2,1,"div",42),u.cc()),2&e){const e=u.rc(2);u.Kb(1),u.xc("ngIf",e.otherNames.errors.required),u.Kb(1),u.xc("ngIf",e.otherNames.errors.minlength),u.Kb(1),u.xc("ngIf",e.otherNames.errors.maxlength)}}function we(e,c){1&e&&(u.dc(0,"div"),u.Pc(1," Select pilgrim's gender. "),u.cc())}function Ce(e,c){if(1&e&&(u.dc(0,"div",41),u.Nc(1,we,2,0,"div",42),u.cc()),2&e){const e=u.rc(2);u.Kb(1),u.xc("ngIf",e.sex.errors.required)}}function ke(e,c){if(1&e&&(u.dc(0,"option",43),u.Pc(1),u.sc(2,"uppercase"),u.cc()),2&e){const e=c.$implicit;u.xc("value",e),u.Kb(1),u.Qc(u.tc(2,2,e))}}function Fe(e,c){1&e&&(u.dc(0,"div"),u.Pc(1," Select pilgrim's marital status. "),u.cc())}function Le(e,c){if(1&e&&(u.dc(0,"div",41),u.Nc(1,Fe,2,0,"div",42),u.cc()),2&e){const e=u.rc(2);u.Kb(1),u.xc("ngIf",e.maritalStatus.errors.required)}}function Te(e,c){if(1&e&&(u.dc(0,"option",43),u.Pc(1),u.cc()),2&e){const e=c.$implicit;u.xc("value",e._id),u.Kb(1),u.Qc(e.name)}}function Ye(e,c){1&e&&(u.dc(0,"div"),u.Pc(1," Select pilgrim's state of origin. "),u.cc())}function je(e,c){if(1&e&&(u.dc(0,"div",41),u.Nc(1,Ye,2,0,"div",42),u.cc()),2&e){const e=u.rc(2);u.Kb(1),u.xc("ngIf",e.stateOfOrigin.errors.required)}}function Ae(e,c){1&e&&(u.bc(0),u.Yb(1,"label"),u.dc(2,"div",44),u.dc(3,"div",45),u.dc(4,"span",46),u.Pc(5,"Loading..."),u.cc(),u.cc(),u.dc(6,"div",45),u.dc(7,"span",46),u.Pc(8,"Loading..."),u.cc(),u.cc(),u.dc(9,"div",45),u.dc(10,"span",46),u.Pc(11,"Loading..."),u.cc(),u.cc(),u.dc(12,"div",45),u.dc(13,"span",46),u.Pc(14,"Loading..."),u.cc(),u.cc(),u.cc(),u.ac())}function Re(e,c){if(1&e&&(u.dc(0,"option",43),u.Pc(1),u.cc()),2&e){const e=c.$implicit;u.xc("value",e._id),u.Kb(1),u.Qc(e.name)}}function Me(e,c){1&e&&(u.dc(0,"div"),u.Pc(1," Select pilgrim's marital status. "),u.cc())}function He(e,c){if(1&e&&(u.dc(0,"div",50),u.Nc(1,Me,2,0,"div",42),u.cc()),2&e){const e=u.rc(3);u.xc("hidden",e.lgas.length<1),u.Kb(1),u.xc("ngIf",e.localGovOfOrigin.errors.required)}}function qe(e,c){if(1&e){const e=u.ec();u.bc(0),u.dc(1,"label",47),u.Pc(2,"Local Government"),u.cc(),u.dc(3,"select",48),u.nc("change",function(){return u.Hc(e),u.rc(2).valueChange()}),u.dc(4,"option",14),u.Pc(5,"Select local government"),u.cc(),u.Nc(6,Re,2,2,"option",19),u.cc(),u.Nc(7,He,2,2,"div",49),u.ac()}if(2&e){const e=u.rc(2);u.Kb(1),u.Pb("text-danger",e.localGovOfOrigin.touched&&e.localGovOfOrigin.invalid),u.xc("hidden",!e.showLga),u.Kb(2),u.Pb("error-control",e.localGovOfOrigin.touched&&e.localGovOfOrigin.invalid),u.xc("hidden",!e.showLga),u.Kb(1),u.xc("value",null),u.Kb(2),u.xc("ngForOf",e.lgas),u.Kb(1),u.xc("ngIf",e.localGovOfOrigin.touched&&e.localGovOfOrigin.invalid)}}function Ee(e,c){1&e&&(u.dc(0,"div"),u.Pc(1," This field is required. "),u.cc())}function $e(e,c){if(1&e&&(u.dc(0,"div"),u.Pc(1),u.cc()),2&e){const e=u.rc(3);u.Kb(1),u.Rc(" Address must be minimum ",e.homeAddress.errors.minlength.requiredLength," characters. ")}}function _e(e,c){if(1&e&&(u.dc(0,"div"),u.Pc(1),u.cc()),2&e){const e=u.rc(3);u.Kb(1),u.Rc(" Address must be maximum ",e.homeAddress.errors.maxlength.requiredLength," characters. ")}}function ze(e,c){if(1&e&&(u.dc(0,"div",41),u.Nc(1,Ee,2,0,"div",42),u.Nc(2,$e,2,1,"div",42),u.Nc(3,_e,2,1,"div",42),u.cc()),2&e){const e=u.rc(2);u.Kb(1),u.xc("ngIf",e.homeAddress.errors.required),u.Kb(1),u.xc("ngIf",e.homeAddress.errors.minlength),u.Kb(1),u.xc("ngIf",e.homeAddress.errors.maxlength)}}function Ge(e,c){1&e&&(u.dc(0,"div"),u.Pc(1," Select a valid date. "),u.cc())}function Ze(e,c){if(1&e&&(u.dc(0,"div",41),u.Nc(1,Ge,2,0,"div",42),u.cc()),2&e){const e=u.rc(2);u.Kb(1),u.xc("ngIf",e.dateOfBirth.errors.required)}}function Be(e,c){1&e&&(u.dc(0,"div"),u.Pc(1," This Field is required "),u.cc())}function Qe(e,c){if(1&e&&(u.dc(0,"div"),u.Pc(1),u.cc()),2&e){const e=u.rc(3);u.Kb(1),u.Rc(" Phone must be minimum ",e.phone.errors.minlength.requiredLength," characters. ")}}function Ve(e,c){if(1&e&&(u.dc(0,"div"),u.Pc(1),u.cc()),2&e){const e=u.rc(3);u.Kb(1),u.Rc(" Phone must be maximum ",e.phone.errors.maxlength.requiredLength," characters. ")}}function Xe(e,c){1&e&&(u.dc(0,"div"),u.Pc(1," Please enter a valid phone number. "),u.cc())}function Ue(e,c){if(1&e&&(u.dc(0,"div",41),u.Nc(1,Be,2,0,"div",42),u.Nc(2,Qe,2,1,"div",42),u.Nc(3,Ve,2,1,"div",42),u.Nc(4,Xe,2,0,"div",42),u.cc()),2&e){const e=u.rc(2);u.Kb(1),u.xc("ngIf",e.phone.errors.required),u.Kb(1),u.xc("ngIf",e.phone.errors.minlength),u.Kb(1),u.xc("ngIf",e.phone.errors.maxlength),u.Kb(1),u.xc("ngIf",e.phone.errors.pattern)}}function We(e,c){1&e&&(u.dc(0,"div"),u.Pc(1," Please enter a valid phone number. "),u.cc())}function Je(e,c){if(1&e&&(u.dc(0,"div",41),u.Nc(1,We,2,0,"div",42),u.cc()),2&e){const e=u.rc(2);u.Kb(1),u.xc("ngIf",e.alternatePhone.errors.pattern)}}function ec(e,c){1&e&&(u.dc(0,"div"),u.Pc(1," This field is required. "),u.cc())}function cc(e,c){if(1&e&&(u.dc(0,"div"),u.Pc(1),u.cc()),2&e){const e=u.rc(3);u.Kb(1),u.Rc(" Occupation must be minimum ",e.occupation.errors.minlength.requiredLength," characters. ")}}function tc(e,c){if(1&e&&(u.dc(0,"div"),u.Pc(1),u.cc()),2&e){const e=u.rc(3);u.Kb(1),u.Rc(" Occupation must be maximum ",e.occupation.errors.maxlength.requiredLength," characters. ")}}function rc(e,c){if(1&e&&(u.dc(0,"div",41),u.Nc(1,ec,2,0,"div",42),u.Nc(2,cc,2,1,"div",42),u.Nc(3,tc,2,1,"div",42),u.cc()),2&e){const e=u.rc(2);u.Kb(1),u.xc("ngIf",e.occupation.errors.required),u.Kb(1),u.xc("ngIf",e.occupation.errors.minlength),u.Kb(1),u.xc("ngIf",e.occupation.errors.maxlength)}}function nc(e,c){1&e&&(u.dc(0,"div"),u.Pc(1," This field is required. "),u.cc())}function ic(e,c){if(1&e&&(u.dc(0,"div"),u.Pc(1),u.cc()),2&e){const e=u.rc(3);u.Kb(1),u.Rc(" Profession must be minimum ",e.profession.errors.minlength.requiredLength," characters. ")}}function oc(e,c){if(1&e&&(u.dc(0,"div"),u.Pc(1),u.cc()),2&e){const e=u.rc(3);u.Kb(1),u.Rc(" Profession must be maximum ",e.profession.errors.maxlength.requiredLength," characters. ")}}function ac(e,c){if(1&e&&(u.dc(0,"div",41),u.Nc(1,nc,2,0,"div",42),u.Nc(2,ic,2,1,"div",42),u.Nc(3,oc,2,1,"div",42),u.cc()),2&e){const e=u.rc(2);u.Kb(1),u.xc("ngIf",e.profession.errors.required),u.Kb(1),u.xc("ngIf",e.profession.errors.minlength),u.Kb(1),u.xc("ngIf",e.profession.errors.maxlength)}}function sc(e,c){1&e&&(u.dc(0,"div"),u.Pc(1," This field is required. "),u.cc())}function lc(e,c){if(1&e&&(u.dc(0,"div"),u.Pc(1),u.cc()),2&e){const e=u.rc(3);u.Kb(1),u.Rc(" Place of work must be minimum ",e.placeOfWork.errors.minlength.requiredLength," characters. ")}}function dc(e,c){if(1&e&&(u.dc(0,"div"),u.Pc(1),u.cc()),2&e){const e=u.rc(3);u.Kb(1),u.Rc(" Place of work must be maximum ",e.placeOfWork.errors.maxlength.requiredLength," characters. ")}}function uc(e,c){if(1&e&&(u.dc(0,"div",41),u.Nc(1,sc,2,0,"div",42),u.Nc(2,lc,2,1,"div",42),u.Nc(3,dc,2,1,"div",42),u.cc()),2&e){const e=u.rc(2);u.Kb(1),u.xc("ngIf",e.placeOfWork.errors.required),u.Kb(1),u.xc("ngIf",e.placeOfWork.errors.minlength),u.Kb(1),u.xc("ngIf",e.placeOfWork.errors.maxlength)}}function pc(e,c){1&e&&(u.dc(0,"div"),u.Pc(1," This field is required. "),u.cc())}function mc(e,c){if(1&e&&(u.dc(0,"div"),u.Pc(1),u.cc()),2&e){const e=u.rc(3);u.Kb(1),u.Rc(" Office address must be minimum ",e.officeAddress.errors.minlength.requiredLength," characters. ")}}function fc(e,c){if(1&e&&(u.dc(0,"div"),u.Pc(1),u.cc()),2&e){const e=u.rc(3);u.Kb(1),u.Rc(" Office address must be maximum ",e.officeAddress.errors.maxlength.requiredLength," characters. ")}}function gc(e,c){if(1&e&&(u.dc(0,"div",41),u.Nc(1,pc,2,0,"div",42),u.Nc(2,mc,2,1,"div",42),u.Nc(3,fc,2,1,"div",42),u.cc()),2&e){const e=u.rc(2);u.Kb(1),u.xc("ngIf",e.officeAddress.errors.required),u.Kb(1),u.xc("ngIf",e.officeAddress.errors.minlength),u.Kb(1),u.xc("ngIf",e.officeAddress.errors.maxlength)}}function hc(e,c){if(1&e){const e=u.ec();u.dc(0,"form",0),u.dc(1,"h5"),u.Pc(2,"Personal details"),u.cc(),u.Yb(3,"hr",4),u.dc(4,"div",5),u.dc(5,"div",6),u.dc(6,"label",7),u.Pc(7,"Surname"),u.cc(),u.dc(8,"input",8),u.nc("keyup",function(){return u.Hc(e),u.rc().valueChange()}),u.cc(),u.Nc(9,Ne,4,3,"div",9),u.cc(),u.dc(10,"div",6),u.dc(11,"label",10),u.Pc(12,"Other Names"),u.cc(),u.dc(13,"input",11),u.nc("keyup",function(){return u.Hc(e),u.rc().valueChange()}),u.cc(),u.Nc(14,De,4,3,"div",9),u.cc(),u.cc(),u.dc(15,"div",5),u.dc(16,"div",6),u.dc(17,"label",12),u.Pc(18,"Sex"),u.cc(),u.dc(19,"select",13),u.nc("change",function(){return u.Hc(e),u.rc().valueChange()}),u.dc(20,"option",14),u.Pc(21,"Select sex"),u.cc(),u.dc(22,"option",15),u.Pc(23,"Male"),u.cc(),u.dc(24,"option",16),u.Pc(25,"Female"),u.cc(),u.cc(),u.Nc(26,Ce,2,1,"div",9),u.cc(),u.dc(27,"div",6),u.dc(28,"label",17),u.Pc(29,"Marital Status"),u.cc(),u.dc(30,"select",18),u.nc("change",function(){return u.Hc(e),u.rc().valueChange()}),u.dc(31,"option",14),u.Pc(32,"Select marital status"),u.cc(),u.Nc(33,ke,3,4,"option",19),u.cc(),u.Nc(34,Le,2,1,"div",9),u.cc(),u.cc(),u.dc(35,"div",5),u.dc(36,"div",6),u.dc(37,"label",20),u.Pc(38,"State of Origin"),u.cc(),u.dc(39,"select",21),u.nc("change",function(){return u.Hc(e),u.rc().valueChange(!0)}),u.dc(40,"option",14),u.Pc(41,"Select state of origin"),u.cc(),u.Nc(42,Te,2,2,"option",19),u.cc(),u.Nc(43,je,2,1,"div",9),u.cc(),u.dc(44,"div",6),u.bc(45,22),u.Nc(46,Ae,15,0,"ng-container",23),u.Nc(47,qe,8,9,"ng-container",23),u.ac(),u.cc(),u.cc(),u.dc(48,"div",24),u.dc(49,"label",25),u.Pc(50,"Residential Address"),u.cc(),u.dc(51,"textarea",26),u.nc("keyup",function(){return u.Hc(e),u.rc().valueChange()}),u.Pc(52,"        "),u.cc(),u.Nc(53,ze,4,3,"div",9),u.cc(),u.dc(54,"div",5),u.dc(55,"div",6),u.dc(56,"label",27),u.Pc(57," Date of Birth "),u.cc(),u.dc(58,"input",28),u.nc("change",function(){return u.Hc(e),u.rc().valueChange()}),u.cc(),u.Nc(59,Ze,2,1,"div",9),u.cc(),u.dc(60,"div",6),u.dc(61,"label",29),u.Pc(62," Phone "),u.cc(),u.dc(63,"input",30),u.nc("keyup",function(){return u.Hc(e),u.rc().valueChange()}),u.cc(),u.Nc(64,Ue,5,4,"div",9),u.cc(),u.cc(),u.dc(65,"div",5),u.dc(66,"div",6),u.dc(67,"label",31),u.Pc(68," Alternate Phone "),u.cc(),u.dc(69,"input",32),u.nc("keyup",function(){return u.Hc(e),u.rc().valueChange()}),u.cc(),u.Nc(70,Je,2,1,"div",9),u.cc(),u.Yb(71,"div",6),u.cc(),u.cc(),u.dc(72,"form",0),u.Yb(73,"br"),u.dc(74,"h5"),u.Pc(75,"Office details"),u.cc(),u.Yb(76,"hr",4),u.dc(77,"div",5),u.dc(78,"div",6),u.dc(79,"label",33),u.Pc(80,"Occupation"),u.cc(),u.dc(81,"input",34),u.nc("keyup",function(){return u.Hc(e),u.rc().valueChange()}),u.cc(),u.Nc(82,rc,4,3,"div",9),u.cc(),u.dc(83,"div",6),u.dc(84,"label",35),u.Pc(85,"Profession"),u.cc(),u.dc(86,"input",36),u.nc("keyup",function(){return u.Hc(e),u.rc().valueChange()}),u.cc(),u.Nc(87,ac,4,3,"div",9),u.cc(),u.cc(),u.dc(88,"div",24),u.dc(89,"label",37),u.Pc(90,"Place of Work"),u.cc(),u.dc(91,"input",38),u.nc("keyup",function(){return u.Hc(e),u.rc().valueChange()}),u.cc(),u.Nc(92,uc,4,3,"div",9),u.cc(),u.dc(93,"div",24),u.dc(94,"label",39),u.Pc(95,"Office Address"),u.cc(),u.dc(96,"textarea",40),u.nc("keyup",function(){return u.Hc(e),u.rc().valueChange()}),u.Pc(97,"        "),u.cc(),u.Nc(98,gc,4,3,"div",9),u.cc(),u.cc()}if(2&e){const e=u.rc();u.xc("formGroup",e.personalDetailsForm),u.Kb(6),u.Pb("text-danger",e.surname.touched&&e.surname.invalid),u.Kb(2),u.Pb("error-control",e.surname.touched&&e.surname.invalid),u.Kb(1),u.xc("ngIf",e.surname.touched&&e.surname.invalid),u.Kb(2),u.Pb("text-danger",e.otherNames.touched&&e.otherNames.invalid),u.Kb(2),u.Pb("error-control",e.otherNames.touched&&e.otherNames.invalid),u.Kb(1),u.xc("ngIf",e.otherNames.touched&&e.otherNames.invalid),u.Kb(3),u.Pb("text-danger",e.sex.touched&&e.sex.invalid),u.Kb(2),u.Pb("error-control",e.sex.touched&&e.sex.invalid),u.Kb(1),u.xc("value",null),u.Kb(6),u.xc("ngIf",e.sex.touched&&e.sex.invalid),u.Kb(2),u.Pb("text-danger",e.maritalStatus.touched&&e.maritalStatus.invalid),u.Kb(2),u.Pb("error-control",e.maritalStatus.touched&&e.maritalStatus.invalid),u.Kb(1),u.xc("value",null),u.Kb(2),u.xc("ngForOf",e.maritalStatuses),u.Kb(1),u.xc("ngIf",e.maritalStatus.touched&&e.maritalStatus.invalid),u.Kb(3),u.Pb("text-danger",e.stateOfOrigin.touched&&e.stateOfOrigin.invalid),u.Kb(2),u.Pb("error-control",e.stateOfOrigin.touched&&e.stateOfOrigin.invalid),u.Kb(1),u.xc("value",null),u.Kb(2),u.xc("ngForOf",e.states),u.Kb(1),u.xc("ngIf",e.stateOfOrigin.touched&&e.stateOfOrigin.invalid),u.Kb(2),u.xc("ngSwitch",e.lgLoader),u.Kb(1),u.xc("ngSwitchCase",!0),u.Kb(1),u.xc("ngSwitchCase",!1),u.Kb(2),u.Pb("text-danger",e.homeAddress.touched&&e.homeAddress.invalid),u.Kb(2),u.Pb("error-control",e.homeAddress.touched&&e.homeAddress.invalid),u.Kb(2),u.xc("ngIf",e.homeAddress.touched&&e.homeAddress.invalid),u.Kb(3),u.Pb("text-danger",e.dateOfBirth.touched&&e.dateOfBirth.invalid),u.Kb(2),u.Pb("error-control",e.dateOfBirth.touched&&e.dateOfBirth.invalid),u.Kb(1),u.xc("ngIf",e.dateOfBirth.touched&&e.dateOfBirth.invalid),u.Kb(2),u.Pb("text-danger",e.phone.touched&&e.phone.invalid),u.Kb(2),u.Pb("error-control",e.phone.touched&&e.phone.invalid),u.Kb(1),u.xc("ngIf",e.phone.touched&&e.phone.invalid),u.Kb(3),u.Pb("text-danger",e.alternatePhone.touched&&e.alternatePhone.invalid),u.Kb(2),u.Pb("error-control",e.alternatePhone.touched&&e.alternatePhone.invalid),u.Kb(1),u.xc("ngIf",e.alternatePhone.touched&&e.alternatePhone.invalid),u.Kb(2),u.xc("formGroup",e.officeDetailsForm),u.Kb(7),u.Pb("text-danger",e.occupation.touched&&e.occupation.invalid),u.Kb(2),u.Pb("error-control",e.occupation.touched&&e.occupation.invalid),u.Kb(1),u.xc("ngIf",e.occupation.touched&&e.occupation.invalid),u.Kb(2),u.Pb("text-danger",e.profession.touched&&e.profession.invalid),u.Kb(2),u.Pb("error-control",e.profession.touched&&e.profession.invalid),u.Kb(1),u.xc("ngIf",e.profession.touched&&e.profession.invalid),u.Kb(2),u.Pb("text-danger",e.placeOfWork.touched&&e.placeOfWork.invalid),u.Kb(2),u.Pb("error-control",e.placeOfWork.touched&&e.placeOfWork.invalid),u.Kb(1),u.xc("ngIf",e.placeOfWork.touched&&e.placeOfWork.invalid),u.Kb(2),u.Pb("text-danger",e.officeAddress.touched&&e.officeAddress.invalid),u.Kb(2),u.Pb("error-control",e.officeAddress.touched&&e.officeAddress.invalid),u.Kb(2),u.xc("ngIf",e.officeAddress.touched&&e.officeAddress.invalid)}}let bc=(()=>{class e{constructor(e,c,t){this.formsService=e,this.dataService=c,this.loader=t,this.states=[],this.lgas=[],this.maritalStatuses=["single","married","divorced","widow","widower"],this.token=sessionStorage.getItem("token"),this.subscription=new s.a,this.lgLoader=!1,this.showLga=!1}ngOnInit(){this.personalAndOffice=this.formsService.personalAndOffice,this.getStates(),this.localGovOfOrigin.value&&(this.lgas=[...JSON.parse(sessionStorage.getItem("formLg"))])}ngOnDestroy(){this.subscription.unsubscribe(),this.loader.hideLoader()}valueChange(e){e&&this.getLocalGovs(this.stateOfOrigin.value),this.formsService.personalAndOffice$.next(this.personalAndOffice),this.personalAndOffice=this.formsService.personalAndOffice,this.step.isComplete=this.personalAndOffice.valid}getStates(){this.loader.showLoader(),this.subscription=this.dataService.get(l.a.states,this.token,"").subscribe(e=>{this.states=e.filter(e=>"default"!==e.name),this.loader.hideLoader()})}getLocalGovs(e){this.lgLoader=!0,this.subscription=this.dataService.get(`${l.a.lgas}/by-state`,this.token,e).subscribe(e=>{this.lgas=[...e],sessionStorage.setItem("formLg",JSON.stringify(this.lgas)),this.lgLoader=!1,this.showLga=!0})}get personalDetailsForm(){return this.personalAndOffice.get("personalDetails")}get surname(){return this.personalDetailsForm.get("surname")}get otherNames(){return this.personalDetailsForm.get("otherNames")}get sex(){return this.personalDetailsForm.get("sex")}get maritalStatus(){return this.personalDetailsForm.get("maritalStatus")}get homeAddress(){return this.personalDetailsForm.get("homeAddress")}get stateOfOrigin(){return this.personalDetailsForm.get("stateOfOrigin")}get localGovOfOrigin(){return this.personalDetailsForm.get("localGovOfOrigin")}get dateOfBirth(){return this.personalDetailsForm.get("dateOfBirth")}get phone(){return this.personalDetailsForm.get("phone")}get alternatePhone(){return this.personalDetailsForm.get("alternatePhone")}get officeDetailsForm(){return this.personalAndOffice.get("officeDetails")}get occupation(){return this.officeDetailsForm.get("occupation")}get placeOfWork(){return this.officeDetailsForm.get("placeOfWork")}get officeAddress(){return this.officeDetailsForm.get("officeAddress")}get profession(){return this.officeDetailsForm.get("profession")}}return e.\u0275fac=function(c){return new(c||e)(u.Xb(H.a),u.Xb(p.a),u.Xb(K.a))},e.\u0275cmp=u.Rb({type:e,selectors:[["app-personal-details"]],inputs:{step:"step"},decls:6,vars:4,consts:[[3,"formGroup"],[4,"ngIf","ngIfThen","ngIfElse"],["load",""],["showForm",""],[2,"margin-top","0px"],[1,"row"],[1,"form-group","col-md-6","col-sm-12","mx-auto"],["for","surname"],["type","text","id","surname","formControlName","surname",1,"form-control","form-control-sm",3,"keyup"],["class","text-danger mt-1",4,"ngIf"],["for","otherNames"],["type","text","id","otherNames","formControlName","otherNames",1,"form-control","form-control-sm",3,"keyup"],["for","sex"],["type","text","id","sex","formControlName","sex",1,"form-control","form-control-sm",3,"change"],["selected","","hidden","",3,"value"],["value","male"],["value","female"],["for","maritalStatus"],["type","text","id","maritalStatus","formControlName","maritalStatus",1,"form-control","form-control-sm",3,"change"],[3,"value",4,"ngFor","ngForOf"],["for","stateOfOrigin"],["type","text","id","stateOfOrigin","formControlName","stateOfOrigin",1,"form-control","form-control-sm",3,"change"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"form-group","row","mx-auto"],["for","homeAddress"],["type","text","id","homeAddress","formControlName","homeAddress","rows","3",1,"form-control","form-control-sm",3,"keyup"],["for","dateOfBirth"],["type","date","id","dateOfBirth","formControlName","dateOfBirth",1,"form-control","form-control-sm",3,"change"],["for","phone"],["type","text","id","phone","formControlName","phone",1,"form-control","form-control-sm",3,"keyup"],["for","alternatePhone"],["type","text","id","alternatePhone","formControlName","alternatePhone",1,"form-control","form-control-sm",3,"keyup"],["for","occupation"],["type","text","id","occupation","formControlName","occupation",1,"form-control","form-control-sm",3,"keyup"],["for","profession"],["type","text","id","profession","formControlName","profession",1,"form-control","form-control-sm",3,"keyup"],["for","placeOfWork"],["type","text","id","placeOfWork","formControlName","placeOfWork",1,"form-control","form-control-sm",3,"keyup"],["for","officeAddress"],["type","text","id","officeAddress","formControlName","officeAddress","rows","3",1,"form-control","form-control-sm",3,"keyup"],[1,"text-danger","mt-1"],[4,"ngIf"],[3,"value"],[1,"d-flex","justify-content-center","mt-3"],["role","status",1,"spinner-grow","spinner-grow-sm","mx-2","text-primary"],[1,"sr-only"],["for","localGovOfOrigin",3,"hidden"],["type","text","id","localGovOfOrigin","formControlName","localGovOfOrigin",1,"form-control","form-control-sm",3,"hidden","change"],["class","text-danger mt-1",3,"hidden",4,"ngIf"],[1,"text-danger","mt-1",3,"hidden"]],template:function(e,c){if(1&e&&(u.dc(0,"form",0),u.Nc(1,ve,1,0,"ng-container",1),u.Nc(2,xe,1,0,"ng-template",null,2,u.Oc),u.Nc(4,hc,99,75,"ng-template",null,3,u.Oc),u.cc()),2&e){const e=u.Fc(3),t=u.Fc(5);u.xc("formGroup",c.personalAndOffice),u.Kb(1),u.xc("ngIf",c.loader.loaderVisible)("ngIfThen",e)("ngIfElse",t)}},directives:[r.z,r.p,r.h,n.n,f.a,r.c,r.o,r.f,r.w,r.s,r.y,n.m,n.p,n.q],pipes:[n.x],styles:["h5[_ngcontent-%COMP%]{font-size:130%!important;color:#0c18a8}"]}),e})();function vc(e,c){1&e&&(u.dc(0,"div"),u.Pc(1," This field is required. "),u.cc())}function xc(e,c){if(1&e&&(u.dc(0,"div"),u.Pc(1),u.cc()),2&e){const e=u.rc(2);u.Kb(1),u.Rc(" Next of kin name must be minimum ",e.fullName.errors.minlength.requiredLength," characters. ")}}function Pc(e,c){if(1&e&&(u.dc(0,"div"),u.Pc(1),u.cc()),2&e){const e=u.rc(2);u.Kb(1),u.Rc(" Next of kin name must be maximum ",e.fullName.errors.maxlength.requiredLength," characters. ")}}function yc(e,c){if(1&e&&(u.dc(0,"div",16),u.Nc(1,vc,2,0,"div",17),u.Nc(2,xc,2,1,"div",17),u.Nc(3,Pc,2,1,"div",17),u.cc()),2&e){const e=u.rc();u.Kb(1),u.xc("ngIf",e.fullName.errors.required),u.Kb(1),u.xc("ngIf",e.fullName.errors.minlength),u.Kb(1),u.xc("ngIf",e.fullName.errors.maxlength)}}function Kc(e,c){if(1&e&&(u.dc(0,"option",18),u.Pc(1),u.sc(2,"uppercase"),u.cc()),2&e){const e=c.$implicit;u.xc("value",e),u.Kb(1),u.Qc(u.tc(2,2,e))}}function Nc(e,c){1&e&&(u.dc(0,"div"),u.Pc(1," Select pilgrim's next of kin relationship. "),u.cc())}function Oc(e,c){if(1&e&&(u.dc(0,"div",16),u.Nc(1,Nc,2,0,"div",17),u.cc()),2&e){const e=u.rc();u.Kb(1),u.xc("ngIf",e.relationship.errors.required)}}function Ic(e,c){1&e&&(u.dc(0,"div"),u.Pc(1," This Field is required "),u.cc())}function Sc(e,c){if(1&e&&(u.dc(0,"div"),u.Pc(1),u.cc()),2&e){const e=u.rc(2);u.Kb(1),u.Rc(" Phone must be minimum ",e.phone.errors.minlength.requiredLength," characters. ")}}function Dc(e,c){if(1&e&&(u.dc(0,"div"),u.Pc(1),u.cc()),2&e){const e=u.rc(2);u.Kb(1),u.Rc(" Phone must be maximum ",e.phone.errors.maxlength.requiredLength," characters. ")}}function wc(e,c){1&e&&(u.dc(0,"div"),u.Pc(1," Please enter a valid phone number. "),u.cc())}function Cc(e,c){if(1&e&&(u.dc(0,"div",16),u.Nc(1,Ic,2,0,"div",17),u.Nc(2,Sc,2,1,"div",17),u.Nc(3,Dc,2,1,"div",17),u.Nc(4,wc,2,0,"div",17),u.cc()),2&e){const e=u.rc();u.Kb(1),u.xc("ngIf",e.phone.errors.required),u.Kb(1),u.xc("ngIf",e.phone.errors.minlength),u.Kb(1),u.xc("ngIf",e.phone.errors.maxlength),u.Kb(1),u.xc("ngIf",e.phone.errors.pattern)}}function kc(e,c){1&e&&(u.dc(0,"div"),u.Pc(1," This field is required. "),u.cc())}function Fc(e,c){if(1&e&&(u.dc(0,"div"),u.Pc(1),u.cc()),2&e){const e=u.rc(2);u.Kb(1),u.Rc(" Address must be minimum ",e.address.errors.minlength.requiredLength," characters. ")}}function Lc(e,c){if(1&e&&(u.dc(0,"div"),u.Pc(1),u.cc()),2&e){const e=u.rc(2);u.Kb(1),u.Rc(" Address must be maximum ",e.address.errors.maxlength.requiredLength," characters. ")}}function Tc(e,c){if(1&e&&(u.dc(0,"div",16),u.Nc(1,kc,2,0,"div",17),u.Nc(2,Fc,2,1,"div",17),u.Nc(3,Lc,2,1,"div",17),u.cc()),2&e){const e=u.rc();u.Kb(1),u.xc("ngIf",e.address.errors.required),u.Kb(1),u.xc("ngIf",e.address.errors.minlength),u.Kb(1),u.xc("ngIf",e.address.errors.maxlength)}}let Yc=(()=>{class e{constructor(e){this.formsService=e,this.relationships=["mother","father","sibling","grand parent","uncle","aunt","cousin","niece","nephew","child","spouse"]}ngOnInit(){this.nextOfKinDetailsForm=this.formsService.nextOfKinDetails}valueChange(){this.formsService.nextOfKinDetails$.next(this.nextOfKinDetailsForm),this.nextOfKinDetailsForm=this.formsService.nextOfKinDetails,this.step.isComplete=this.nextOfKinDetailsForm.valid}get fullName(){return this.nextOfKinDetailsForm.get("fullName")}get relationship(){return this.nextOfKinDetailsForm.get("relationship")}get address(){return this.nextOfKinDetailsForm.get("address")}get phone(){return this.nextOfKinDetailsForm.get("phone")}}return e.\u0275fac=function(c){return new(c||e)(u.Xb(H.a))},e.\u0275cmp=u.Rb({type:e,selectors:[["app-next-of-kin-details"]],inputs:{step:"step"},decls:29,vars:23,consts:[[3,"formGroup"],[2,"margin-top","0px"],[1,"form-group","row","mx-auto"],["for","fullName"],["type","text","id","fullName","formControlName","fullName",1,"form-control","form-control-sm",3,"keyup"],["class","text-danger mt-1",4,"ngIf"],[1,"row"],[1,"form-group","col-md-6","col-sm-12","mx-auto"],["for","relationship"],["type","text","id","relationship","formControlName","relationship",1,"form-control","form-control-sm",3,"change"],["selected","","hidden","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["for","phone"],["type","text","id","phone","formControlName","phone",1,"form-control","form-control-sm",3,"keyup"],["for","address"],["type","text","id","address","formControlName","address","rows","3",1,"form-control","form-control-sm",3,"keyup"],[1,"text-danger","mt-1"],[4,"ngIf"],[3,"value"]],template:function(e,c){1&e&&(u.dc(0,"form",0),u.dc(1,"h5"),u.Pc(2,"Next of kin details"),u.cc(),u.Yb(3,"hr",1),u.dc(4,"div",2),u.dc(5,"label",3),u.Pc(6,"Full Name"),u.cc(),u.dc(7,"input",4),u.nc("keyup",function(){return c.valueChange()}),u.cc(),u.Nc(8,yc,4,3,"div",5),u.cc(),u.dc(9,"div",6),u.dc(10,"div",7),u.dc(11,"label",8),u.Pc(12,"Relationship"),u.cc(),u.dc(13,"select",9),u.nc("change",function(){return c.valueChange()}),u.dc(14,"option",10),u.Pc(15,"Select relationship"),u.cc(),u.Nc(16,Kc,3,4,"option",11),u.cc(),u.Nc(17,Oc,2,1,"div",5),u.cc(),u.dc(18,"div",7),u.dc(19,"label",12),u.Pc(20," Phone "),u.cc(),u.dc(21,"input",13),u.nc("keyup",function(){return c.valueChange()}),u.cc(),u.Nc(22,Cc,5,4,"div",5),u.cc(),u.cc(),u.dc(23,"div",2),u.dc(24,"label",14),u.Pc(25,"Residential Address"),u.cc(),u.dc(26,"textarea",15),u.nc("keyup",function(){return c.valueChange()}),u.Pc(27,"    "),u.cc(),u.Nc(28,Tc,4,3,"div",5),u.cc(),u.cc()),2&e&&(u.xc("formGroup",c.nextOfKinDetailsForm),u.Kb(5),u.Pb("text-danger",c.fullName.touched&&c.fullName.invalid),u.Kb(2),u.Pb("error-control",c.fullName.touched&&c.fullName.invalid),u.Kb(1),u.xc("ngIf",c.fullName.touched&&c.fullName.invalid),u.Kb(3),u.Pb("text-danger",c.relationship.touched&&c.relationship.invalid),u.Kb(2),u.Pb("error-control",c.relationship.touched&&c.relationship.invalid),u.Kb(1),u.xc("value",null),u.Kb(2),u.xc("ngForOf",c.relationships),u.Kb(1),u.xc("ngIf",c.relationship.touched&&c.relationship.invalid),u.Kb(2),u.Pb("text-danger",c.phone.touched&&c.phone.invalid),u.Kb(2),u.Pb("error-control",c.phone.touched&&c.phone.invalid),u.Kb(1),u.xc("ngIf",c.phone.touched&&c.phone.invalid),u.Kb(2),u.Pb("text-danger",c.address.touched&&c.address.invalid),u.Kb(2),u.Pb("error-control",c.address.touched&&c.address.invalid),u.Kb(2),u.xc("ngIf",c.address.touched&&c.address.invalid))},directives:[r.z,r.p,r.h,r.c,r.o,r.f,n.n,r.w,r.s,r.y,n.m],pipes:[n.x],styles:["h5[_ngcontent-%COMP%]{font-size:130%!important;color:#0c18a8}"]}),e})();var jc,Ac=new Uint8Array(16);function Rc(){if(!jc&&!(jc="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return jc(Ac)}for(var Mc=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Hc=function(e){return"string"==typeof e&&Mc.test(e)},qc=[],Ec=0;Ec<256;++Ec)qc.push((Ec+256).toString(16).substr(1));var $c=function(e,c,t){var r=(e=e||{}).random||(e.rng||Rc)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,c){t=t||0;for(var n=0;n<16;++n)c[t+n]=r[n];return c}return function(e){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(qc[e[c+0]]+qc[e[c+1]]+qc[e[c+2]]+qc[e[c+3]]+"-"+qc[e[c+4]]+qc[e[c+5]]+"-"+qc[e[c+6]]+qc[e[c+7]]+"-"+qc[e[c+8]]+qc[e[c+9]]+"-"+qc[e[c+10]]+qc[e[c+11]]+qc[e[c+12]]+qc[e[c+13]]+qc[e[c+14]]+qc[e[c+15]]).toLowerCase();if(!Hc(t))throw TypeError("Stringified UUID is invalid");return t}(r)};let _c=(()=>{class e{constructor(){this.fileDropped=new u.r}onDragOver(e){e.preventDefault(),e.stopPropagation(),this.fileOver=!0}onDragLeave(e){e.preventDefault(),e.stopPropagation(),this.fileOver=!1}onDrop(e){e.preventDefault(),e.stopPropagation(),this.fileOver=!1;let c=e.dataTransfer.files;c.length>0&&this.fileDropped.emit(c)}}return e.\u0275fac=function(c){return new(c||e)},e.\u0275dir=u.Sb({type:e,selectors:[["","appDragAndDrop",""]],hostVars:2,hostBindings:function(e,c){1&e&&u.nc("dragover",function(e){return c.onDragOver(e)})("dragleave",function(e){return c.onDragLeave(e)})("drop",function(e){return c.onDrop(e)}),2&e&&u.Pb("fileover",c.fileOver)},outputs:{fileDropped:"fileDropped"}}),e})(),zc=(()=>{class e{constructor(){this.progress=0}ngOnInit(){}}return e.\u0275fac=function(c){return new(c||e)},e.\u0275cmp=u.Rb({type:e,selectors:[["app-progress"]],inputs:{progress:"progress"},decls:2,vars:2,consts:[[1,"progress-cont"],[1,"progress"]],template:function(e,c){1&e&&(u.dc(0,"div",0),u.Yb(1,"div",1),u.cc()),2&e&&(u.Kb(1),u.Kc("width",c.progress+"%"))},styles:[".progress-cont[_ngcontent-%COMP%]{height:7px;width:100%;border-radius:4px;background-color:#d0d0d0;position:relative}.progress-cont[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{width:0;height:100%;position:absolute;z-index:1;top:0;left:0;border-radius:4px;background-color:#4c97cb;transition:all .5s}"]}),e})();const Gc=["fileDropRef"];function Zc(e,c){if(1&e){const e=u.ec();u.dc(0,"div",18),u.Yb(1,"img",19),u.dc(2,"div",20),u.dc(3,"h4",21),u.Pc(4),u.cc(),u.dc(5,"p",22),u.Pc(6),u.cc(),u.Yb(7,"app-progress",23),u.cc(),u.dc(8,"img",24),u.nc("click",function(){u.Hc(e);const t=c.$implicit;return u.rc().removeUploadedDocument(t.documentType)}),u.cc(),u.cc()}if(2&e){const e=c.$implicit,t=u.rc();u.Kb(4),u.Rc(" ",null==e?null:e.file.name," "),u.Kb(2),u.Rc(" ",t.formatBytes(null==e?null:e.file.size)," "),u.Kb(1),u.xc("progress",null==e?null:e.progress)}}let Bc=(()=>{class e{constructor(e,c){this.formsService=e,this.notifications=c,this.acceptedFileType=[".jpg",".jpeg",".jpe",".png"],this.selectedDocumentType="",this.files=[]}ngOnInit(){this.attachedDocumentsForm=this.formsService.attachedDocuments,this.files=this.formsService.files}valueChange(){this.formsService.attachedDocuments$.next(this.attachedDocumentsForm),this.attachedDocumentsForm=this.formsService.attachedDocuments,this.formsService.files$.next(this.files),this.files=this.formsService.files,this.step.isComplete=this.attachedDocumentsForm.valid&&3===this.files.length}docChange(e){this.selectedDocumentType=e}get mouUrl(){return this.attachedDocumentsForm.get("mouUrl")}get passportUrl(){return this.attachedDocumentsForm.get("passportUrl")}get guarantorFormUrl(){return this.attachedDocumentsForm.get("guarantorFormUrl")}fileDropped(e){return""===this.selectedDocumentType?this.notifications.errorToast("Select a document type."):e&&e[0]?e.length>1?this.notifications.errorToast("Please select a single file."):this.acceptedFileType.includes(this.getFileType(e[0]))?e[0].size>1e7?this.notifications.errorToast("File too large. (Max size is 5MB)"):(this.findDocumentIndex(this.selectedDocumentType)>=0&&this.removeDocument(this.selectedDocumentType),void this.prepareFilesList(e)):this.notifications.errorToast("Please upload an image file."):this.notifications.errorToast("Please select a file.")}prepareFilesList(e){const c=e[0],t=c.name.split("."),r=$c()+"_."+t[t.length-1],n={documentType:this.selectedDocumentType,file:c,fileName:r,progress:0};this.files.push(n),this.setDocumentValue(this.selectedDocumentType,r),this.valueChange(),this.fileDropEl.nativeElement.value="",this.uploadFilesSimulator(this.findDocumentIndex(n.documentType))}setDocumentValue(e,c){"ePass"===e&&this.attachedDocumentsForm.patchValue({passportUrl:c}),"mou"===e&&this.attachedDocumentsForm.patchValue({mouUrl:c}),"guarantor"===e&&this.attachedDocumentsForm.patchValue({guarantorFormUrl:c})}getFileType(e){return("."+e.name.split(".").pop()).toLowerCase()}findDocumentIndex(e){return this.files.findIndex(c=>c.documentType===e)}removeDocument(e){const c=this.findDocumentIndex(e);c>=0&&this.files.splice(c,1),this.valueChange()}removeUploadedDocument(e){this.removeDocument(e),"ePass"===e&&this.attachedDocumentsForm.patchValue({passportUrl:null}),"mou"===e&&this.attachedDocumentsForm.patchValue({mouUrl:null}),"guarantor"===e&&this.attachedDocumentsForm.patchValue({guarantorFormUrl:null}),this.notifications.successToast("Document removed successfully."),this.valueChange()}formatBytes(e,c=2){if(0===e)return"0 Bytes";const t=c<=0?0:c,r=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,r)).toFixed(t))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][r]}uploadFilesSimulator(e){setTimeout(()=>{if(e!==this.files.length){const c=setInterval(()=>{100===this.files[e].progress?(clearInterval(c),this.uploadFilesSimulator(e+1)):this.files[e].progress+=5},200)}},1e3)}}return e.\u0275fac=function(c){return new(c||e)(u.Xb(H.a),u.Xb(N.a))},e.\u0275cmp=u.Rb({type:e,selectors:[["app-document-upload"]],viewQuery:function(e,c){if(1&e&&u.Tc(Gc,1),2&e){let e;u.Ec(e=u.oc())&&(c.fileDropEl=e.first)}},inputs:{step:"step"},decls:31,vars:2,consts:[[2,"margin-top","0px"],[1,"row"],[1,"form-group","col-md-6","col-sm-12","mx-auto"],["for","documentType"],["type","text","id","documentType","name","documentType","ngModel","",1,"form-control","form-control-sm",3,"change"],["docType","ngModel"],["value","","selected","","hidden",""],["value","ePass"],["value","mou"],["value","guarantor"],[3,"formGroup"],["appDragAndDrop","",1,"dropzone","mt-3",3,"fileDropped"],["type","file","id","fileDropRef",3,"change"],["fileDropRef",""],["src","../../../../../assets/images/upload.svg","alt",""],["for","fileDropRef"],[1,"files-list"],["class","single-file",4,"ngFor","ngForOf"],[1,"single-file"],["src","../../../../../assets/images/ic-file.svg","alt","file","width","45px"],[1,"info"],[1,"name"],[1,"size"],[3,"progress"],["src","../../../../../assets/images/ic-delete-file.svg","width","20px","alt","file",1,"delete",3,"click"]],template:function(e,c){if(1&e){const e=u.ec();u.dc(0,"h5"),u.Pc(1,"Document Upload"),u.cc(),u.Yb(2,"hr",0),u.dc(3,"div",1),u.dc(4,"div",2),u.dc(5,"label",3),u.Pc(6,"Document Type"),u.cc(),u.dc(7,"select",4,5),u.nc("change",function(){u.Hc(e);const t=u.Fc(8);return c.docChange(t.value)}),u.dc(9,"option",6),u.Pc(10,"Select document type"),u.cc(),u.dc(11,"option",7),u.Pc(12,"E-Passport"),u.cc(),u.dc(13,"option",8),u.Pc(14,"MOU Form"),u.cc(),u.dc(15,"option",9),u.Pc(16,"Guarantor Form"),u.cc(),u.cc(),u.cc(),u.Yb(17,"div",2),u.cc(),u.dc(18,"form",10),u.dc(19,"div",11),u.nc("fileDropped",function(e){return c.fileDropped(e)}),u.dc(20,"input",12,13),u.nc("change",function(e){return c.fileDropped(e.target.files)}),u.cc(),u.Yb(22,"img",14),u.dc(23,"h3"),u.Pc(24,"Drag and drop file here"),u.cc(),u.dc(25,"h3"),u.Pc(26,"or"),u.cc(),u.dc(27,"label",15),u.Pc(28,"Browse for file"),u.cc(),u.cc(),u.cc(),u.dc(29,"div",16),u.Nc(30,Zc,9,3,"div",17),u.cc()}2&e&&(u.Kb(18),u.xc("formGroup",c.attachedDocumentsForm),u.Kb(12),u.xc("ngForOf",c.files))},directives:[r.w,r.o,r.r,r.s,r.y,r.z,r.p,r.h,_c,n.m,zc],styles:["h5[_ngcontent-%COMP%]{font-size:130%!important;color:#0c18a8}.dropzone[_ngcontent-%COMP%]{width:100%;height:200px;padding:2rem;text-align:center;border:1px dashed #979797!important;position:relative;margin:0 auto}.dropzone[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;position:absolute;z-index:2;width:100%;height:100%;top:0;left:0}.dropzone[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff!important;width:183px!important;height:44px!important;line-height:44px!important;border-radius:21.5px!important;background-color:#db202f!important;padding:0 16px!important;cursor:pointer}.dropzone[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#38424c}.fileover[_ngcontent-%COMP%]{animation:shake 1s;animation-iteration-count:infinite}.files-list[_ngcontent-%COMP%]{margin-top:1.5rem!important}.files-list[_ngcontent-%COMP%]   .single-file[_ngcontent-%COMP%]{padding:.5rem!important;justify-content:space-between!important;align-items:center!important;border:1px dashed #979797!important;margin-bottom:1rem!important;display:flex!important;flex-grow:1!important}.files-list[_ngcontent-%COMP%]   .single-file[_ngcontent-%COMP%]   img.delete[_ngcontent-%COMP%]{margin-left:.5rem!important;cursor:pointer!important;align-self:flex-end!important}.files-list[_ngcontent-%COMP%]   .single-file[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:14px!important;font-weight:500!important;color:#353f4a!important;margin:0!important}.files-list[_ngcontent-%COMP%]   .single-file[_ngcontent-%COMP%]   .size[_ngcontent-%COMP%]{font-size:12px!important;font-weight:500!important;color:#a4a4a4!important;margin:0 0 .25rem!important}.files-list[_ngcontent-%COMP%]   .single-file[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{width:100%!important}@keyframes shake{0%{transform:translate(1px,1px) rotate(0deg)}10%{transform:translate(-1px,-2px) rotate(-1deg)}20%{transform:translate(-3px) rotate(1deg)}30%{transform:translate(3px,2px) rotate(0deg)}40%{transform:translate(1px,-1px) rotate(1deg)}50%{transform:translate(-1px,2px) rotate(-1deg)}60%{transform:translate(-3px,1px) rotate(0deg)}70%{transform:translate(3px,1px) rotate(-1deg)}80%{transform:translate(-1px,-1px) rotate(1deg)}90%{transform:translate(1px,2px) rotate(0deg)}to{transform:translate(1px,-2px) rotate(-1deg)}}"]}),e})();function Qc(e,c){1&e&&u.Zb(0)}function Vc(e,c){1&e&&u.Yb(0,"app-loader")}function Xc(e,c){if(1&e&&(u.dc(0,"option",21),u.Pc(1),u.cc()),2&e){const e=c.$implicit;u.xc("value",e._id),u.Kb(1),u.Qc(e.name)}}function Uc(e,c){1&e&&(u.dc(0,"div"),u.Pc(1," Select a bank. "),u.cc())}function Wc(e,c){if(1&e&&(u.dc(0,"div",22),u.Nc(1,Uc,2,0,"div",23),u.cc()),2&e){const e=u.rc().$implicit;let c=null;u.Kb(1),u.xc("ngIf",null==(c=e.get("bank"))?null:c.errors.required)}}function Jc(e,c){1&e&&(u.dc(0,"div"),u.Pc(1," Select a valid date. "),u.cc())}function et(e,c){if(1&e&&(u.dc(0,"div",22),u.Nc(1,Jc,2,0,"div",23),u.cc()),2&e){const e=u.rc().$implicit;let c=null;u.Kb(1),u.xc("ngIf",null==(c=e.get("paymentDate"))?null:c.errors.required)}}function ct(e,c){1&e&&(u.dc(0,"div"),u.Pc(1," This field is required. "),u.cc())}function tt(e,c){if(1&e&&(u.dc(0,"div",22),u.Nc(1,ct,2,0,"div",23),u.cc()),2&e){const e=u.rc().$implicit;let c=null;u.Kb(1),u.xc("ngIf",null==(c=e.get("tellerNumber"))?null:c.errors.required)}}function rt(e,c){1&e&&(u.dc(0,"div"),u.Pc(1," This field is required. "),u.cc())}function nt(e,c){if(1&e&&(u.dc(0,"div",22),u.Nc(1,rt,2,0,"div",23),u.cc()),2&e){const e=u.rc().$implicit;let c=null;u.Kb(1),u.xc("ngIf",null==(c=e.get("receiptNumber"))?null:c.errors.required)}}function it(e,c){if(1&e){const e=u.ec();u.dc(0,"button",24),u.nc("click",function(){u.Hc(e);const c=u.rc().index;return u.rc(2).removeFormGroup(c)}),u.Pc(1," Delete Form "),u.cc()}}function ot(e,c){if(1&e){const e=u.ec();u.dc(0,"form",0),u.dc(1,"h5"),u.Pc(2),u.cc(),u.Yb(3,"hr",8),u.dc(4,"div",9),u.dc(5,"div",10),u.dc(6,"label",11),u.Pc(7,"Bank"),u.cc(),u.dc(8,"select",12),u.nc("change",function(){return u.Hc(e),u.rc(2).valueChange()}),u.dc(9,"option",13),u.Pc(10,"Select Bank"),u.cc(),u.Nc(11,Xc,2,2,"option",14),u.cc(),u.Nc(12,Wc,2,1,"div",15),u.cc(),u.dc(13,"div",10),u.dc(14,"label",11),u.Pc(15," Date of Payment "),u.cc(),u.dc(16,"input",16),u.nc("change",function(){return u.Hc(e),u.rc(2).valueChange()}),u.cc(),u.Nc(17,et,2,1,"div",15),u.cc(),u.cc(),u.dc(18,"div",9),u.dc(19,"div",10),u.dc(20,"label",11),u.Pc(21,"Teller Number"),u.cc(),u.dc(22,"input",17),u.nc("keyup",function(){return u.Hc(e),u.rc(2).valueChange()}),u.cc(),u.Nc(23,tt,2,1,"div",15),u.cc(),u.dc(24,"div",10),u.dc(25,"label",11),u.Pc(26,"Receipt Number"),u.cc(),u.dc(27,"input",18),u.nc("keyup",function(){return u.Hc(e),u.rc(2).valueChange()}),u.cc(),u.Nc(28,nt,2,1,"div",15),u.cc(),u.cc(),u.dc(29,"div",19),u.Nc(30,it,2,0,"button",20),u.cc(),u.cc()}if(2&e){const e=c.index,t=c.$implicit,r=u.rc(2);let n=null,i=null,o=null,a=null,s=null,l=null,d=null,p=null,m=null,f=null,g=null,h=null;u.xc("formGroup",t),u.Kb(2),u.Qc("Payment Details "+(e+1)),u.Kb(4),u.Pb("text-danger",(null==(n=t.get("bank"))?null:n.touched)&&(null==(n=t.get("bank"))?null:n.invalid)),u.xc("for","bank"+e),u.Kb(2),u.Pb("error-control",(null==(i=t.get("bank"))?null:i.touched)&&(null==(i=t.get("bank"))?null:i.invalid)),u.xc("id","bank"+e),u.Kb(1),u.xc("value",null),u.Kb(2),u.xc("ngForOf",r.banks),u.Kb(1),u.xc("ngIf",(null==(o=t.get("bank"))?null:o.touched)&&(null==(o=t.get("bank"))?null:o.invalid)),u.Kb(2),u.Pb("text-danger",(null==(a=t.get("paymentDate"))?null:a.touched)&&(null==(a=t.get("paymentDate"))?null:a.invalid)),u.xc("for","paymentDate"+e),u.Kb(2),u.Pb("error-control",(null==(s=t.get("paymentDate"))?null:s.touched)&&(null==(s=t.get("paymentDate"))?null:s.invalid)),u.xc("id","paymentDate"+e),u.Kb(1),u.xc("ngIf",(null==(l=t.get("paymentDate"))?null:l.touched)&&(null==(l=t.get("paymentDate"))?null:l.invalid)),u.Kb(3),u.Pb("text-danger",(null==(d=t.get("tellerNumber"))?null:d.touched)&&(null==(d=t.get("tellerNumber"))?null:d.invalid)),u.xc("for","tellerNumber"+e),u.Kb(2),u.Pb("error-control",(null==(p=t.get("tellerNumber"))?null:p.touched)&&(null==(p=t.get("tellerNumber"))?null:p.invalid)),u.xc("id","tellerNumber"+e),u.Kb(1),u.xc("ngIf",(null==(m=t.get("tellerNumber"))?null:m.touched)&&(null==(m=t.get("tellerNumber"))?null:m.invalid)),u.Kb(2),u.Pb("text-danger",(null==(f=t.get("receiptNumber"))?null:f.touched)&&(null==(f=t.get("receiptNumber"))?null:f.invalid)),u.xc("for","receiptNumber"+e),u.Kb(2),u.Pb("error-control",(null==(g=t.get("receiptNumber"))?null:g.touched)&&(null==(g=t.get("receiptNumber"))?null:g.invalid)),u.xc("id","receiptNumber"+e),u.Kb(1),u.xc("ngIf",(null==(h=t.get("receiptNumber"))?null:h.touched)&&(null==(h=t.get("receiptNumber"))?null:h.invalid)),u.Kb(2),u.xc("ngIf",r.paymentHistory.controls.length>1)}}function at(e,c){if(1&e){const e=u.ec();u.Nc(0,ot,31,33,"form",4),u.Yb(1,"hr",5),u.dc(2,"div",6),u.dc(3,"button",7),u.nc("click",function(){return u.Hc(e),u.rc().addFormGroup()}),u.Pc(4," Add Form "),u.cc(),u.cc()}if(2&e){const e=u.rc();u.xc("ngForOf",e.paymentHistory.controls)}}let st=(()=>{class e{constructor(e,c,t,r){this.formsService=e,this.dataService=c,this.loader=t,this.notifications=r,this.banks=[],this.token=sessionStorage.getItem("token"),this.subscription=new s.a}ngOnInit(){this.paymentHistory=this.formsService.paymentHistory,this.getBanks()}ngOnDestroy(){this.subscription.unsubscribe(),this.loader.hideLoader()}valueChange(){this.formsService.paymentHistory$.next(this.paymentHistory),this.paymentHistory=this.formsService.paymentHistory,this.step.isComplete=this.paymentHistory.valid}getBanks(){this.loader.showLoader(),this.subscription=this.dataService.get(l.a.banks,this.token,"").subscribe(e=>{this.banks=[...e],this.loader.hideLoader()})}addFormGroup(){this.paymentHistory.controls.length>=10?this.notifications.alert("Sorry only a maximum of 10 payment records is allowed."):(this.paymentHistory.push(new r.g({bank:new r.e(null,r.x.required),tellerNumber:new r.e(null,r.x.required),receiptNumber:new r.e(null,r.x.required),paymentDate:new r.e(null,r.x.required)})),this.valueChange())}removeFormGroup(e){this.paymentHistory.controls.splice(e,1),this.valueChange()}}return e.\u0275fac=function(c){return new(c||e)(u.Xb(H.a),u.Xb(p.a),u.Xb(K.a),u.Xb(N.a))},e.\u0275cmp=u.Rb({type:e,selectors:[["app-payment-history"]],inputs:{step:"step"},decls:6,vars:4,consts:[[3,"formGroup"],[4,"ngIf","ngIfThen","ngIfElse"],["load",""],["showForm",""],[3,"formGroup",4,"ngFor","ngForOf"],[2,"margin","1rem 0rem 0.7rem 0rem!important"],[1,"form-group","col-12","mx-auto"],["type","button",1,"btn","btn-success",3,"click"],[2,"margin-top","0px"],[1,"row"],[1,"form-group","col-md-6","col-sm-12","mx-auto"],[3,"for"],["type","text","formControlName","bank",1,"form-control","form-control-sm",3,"id","change"],["selected","","hidden","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["class","text-danger mt-1",4,"ngIf"],["type","date","formControlName","paymentDate",1,"form-control","form-control-sm",3,"id","change"],["type","text","formControlName","tellerNumber",1,"form-control","form-control-sm",3,"id","keyup"],["type","text","formControlName","receiptNumber",1,"form-control","form-control-sm",3,"id","keyup"],[1,"form-group","col-12","mx-auto","mb-5"],["class","btn-sm btn btn-danger float-right","type","button",3,"click",4,"ngIf"],[3,"value"],[1,"text-danger","mt-1"],[4,"ngIf"],["type","button",1,"btn-sm","btn","btn-danger","float-right",3,"click"]],template:function(e,c){if(1&e&&(u.dc(0,"form",0),u.Nc(1,Qc,1,0,"ng-container",1),u.Nc(2,Vc,1,0,"ng-template",null,2,u.Oc),u.Nc(4,at,5,1,"ng-template",null,3,u.Oc),u.cc()),2&e){const e=u.Fc(3),t=u.Fc(5);u.xc("formGroup",c.paymentHistory),u.Kb(1),u.xc("ngIf",c.loader.loaderVisible)("ngIfThen",e)("ngIfElse",t)}},directives:[r.z,r.p,r.h,n.n,f.a,n.m,r.w,r.o,r.f,r.s,r.y,r.c],styles:["h5[_ngcontent-%COMP%]{font-size:130%!important;color:#0c18a8}"]}),e})();function lt(e,c){1&e&&u.Zb(0)}function dt(e,c){if(1&e&&(u.bc(0),u.Nc(1,lt,1,0,"ng-container",16),u.ac()),2&e){const e=u.rc(),c=u.Fc(17),t=u.Fc(19);u.Kb(1),u.xc("ngIf",e.activeYear.length<1)("ngIfThen",c)("ngIfElse",t)}}function ut(e,c){1&e&&u.Zb(0)}function pt(e,c){if(1&e&&(u.bc(0),u.Nc(1,ut,1,0,"ng-container",17),u.ac()),2&e){u.rc();const e=u.Fc(21);u.Kb(1),u.xc("ngIf",!0)("ngIfThen",e)}}function mt(e,c){1&e&&(u.dc(0,"div",18),u.Pc(1," Hajj registration for this year has not been opened yet. Contact Admin. "),u.cc())}function ft(e,c){1&e&&u.Zb(0)}function gt(e,c){if(1&e&&u.Nc(0,ft,1,0,"ng-container",16),2&e){const e=u.rc(),c=u.Fc(21),t=u.Fc(23);u.xc("ngIf",e.loader.loaderVisible)("ngIfThen",c)("ngIfElse",t)}}function ht(e,c){1&e&&(u.dc(0,"div",19),u.Yb(1,"app-loader"),u.cc())}function bt(e,c){if(1&e&&(u.bc(0),u.dc(1,"app-step-template",25),u.sc(2,"async"),u.Yb(3,"app-enrollment-details",25),u.sc(4,"async"),u.cc(),u.ac()),2&e){const e=u.rc(2);u.Kb(1),u.xc("step",u.tc(2,2,e.currentStep)),u.Kb(2),u.xc("step",u.tc(4,4,e.currentStep))}}function vt(e,c){if(1&e&&(u.bc(0),u.dc(1,"app-step-template",25),u.sc(2,"async"),u.Yb(3,"app-personal-details",25),u.sc(4,"async"),u.cc(),u.ac()),2&e){const e=u.rc(2);u.Kb(1),u.xc("step",u.tc(2,2,e.currentStep)),u.Kb(2),u.xc("step",u.tc(4,4,e.currentStep))}}function xt(e,c){if(1&e&&(u.bc(0),u.dc(1,"app-step-template",25),u.sc(2,"async"),u.Yb(3,"app-next-of-kin-details",25),u.sc(4,"async"),u.cc(),u.ac()),2&e){const e=u.rc(2);u.Kb(1),u.xc("step",u.tc(2,2,e.currentStep)),u.Kb(2),u.xc("step",u.tc(4,4,e.currentStep))}}function Pt(e,c){if(1&e&&(u.bc(0),u.dc(1,"app-step-template",25),u.sc(2,"async"),u.Yb(3,"app-document-upload",25),u.sc(4,"async"),u.cc(),u.ac()),2&e){const e=u.rc(2);u.Kb(1),u.xc("step",u.tc(2,2,e.currentStep)),u.Kb(2),u.xc("step",u.tc(4,4,e.currentStep))}}function yt(e,c){if(1&e&&(u.bc(0),u.dc(1,"app-step-template",25),u.sc(2,"async"),u.Yb(3,"app-payment-history",25),u.sc(4,"async"),u.cc(),u.ac()),2&e){const e=u.rc(2);u.Kb(1),u.xc("step",u.tc(2,2,e.currentStep)),u.Kb(2),u.xc("step",u.tc(4,4,e.currentStep))}}function Kt(e,c){if(1&e){const e=u.ec();u.dc(0,"button",26),u.nc("click",function(){return u.Hc(e),u.rc(2).onPreviousStep()}),u.Pc(1," Previous "),u.cc()}}function Nt(e,c){if(1&e){const e=u.ec();u.dc(0,"div",20),u.dc(1,"div",21),u.Yb(2,"app-steps"),u.cc(),u.dc(3,"div",22),u.bc(4,10),u.sc(5,"async"),u.Nc(6,bt,5,6,"ng-container",11),u.Nc(7,vt,5,6,"ng-container",11),u.Nc(8,xt,5,6,"ng-container",11),u.Nc(9,Pt,5,6,"ng-container",11),u.Nc(10,yt,5,6,"ng-container",11),u.ac(),u.cc(),u.cc(),u.dc(11,"div",20),u.Nc(12,Kt,2,0,"button",23),u.sc(13,"async"),u.dc(14,"button",24),u.nc("click",function(){return u.Hc(e),u.rc().onNextStep()}),u.sc(15,"async"),u.sc(16,"async"),u.Pc(17),u.cc(),u.cc()}if(2&e){const e=u.rc();let c=null,t=null,r=null,n=null;u.Kb(4),u.xc("ngSwitch",null==(c=u.tc(5,15,e.currentStep))?null:c.stepIndex),u.Kb(2),u.xc("ngSwitchCase","1"),u.Kb(1),u.xc("ngSwitchCase","2"),u.Kb(1),u.xc("ngSwitchCase","3"),u.Kb(1),u.xc("ngSwitchCase","4"),u.Kb(1),u.xc("ngSwitchCase","5"),u.Kb(2),u.xc("ngIf",1!==(null==(t=u.tc(13,17,e.currentStep))?null:t.stepIndex)),u.Kb(2),u.Pb("btn-primary",!e.isLastStep)("btn-success",e.isLastStep)("ml-auto",1===(null==(r=u.tc(15,19,e.currentStep))?null:r.stepIndex)),u.xc("disabled",!(null!=(n=u.tc(16,21,e.currentStep))&&n.isComplete)),u.Kb(3),u.Rc(" ",e.showButtonLabel()," ")}}let Ot=(()=>{class e{constructor(e,c,t,r,n){this.stepsService=e,this.notifications=c,this.formsService=t,this.dataService=r,this.loader=n,this.subscription=new s.a,this.activeYear=[],this.fetchedYear=!1}ngOnInit(){this.currentStep=this.stepsService.getCurrentStep(),this.getActiveYear()}ngOnDestroy(){this.subscription.unsubscribe(),this.loader.hideLoader()}onNextStep(){this.stepsService.isLastStep()?this.onSubmit():this.stepsService.moveToNextStep()}onPreviousStep(){this.stepsService.moveToPreviousStep()}showButtonLabel(){return this.stepsService.isLastStep()?"Submit":"Next"}getActiveYear(){this.loader.showLoader();const e=sessionStorage.getItem("token");this.subscription=this.dataService.get(`${l.a.years}/get-active`,e).subscribe(e=>{this.activeYear=[...e],this.fetchedYear=!0,this.loader.hideLoader()})}get isLastStep(){let e=!0;return this.stepsService.getSteps().subscribe(c=>{c.forEach(c=>{c.isComplete||(e=!1)})}),this.stepsService.isLastStep()&&e}onSubmit(){this.notifications.prompt("Are you sure you want to submit?<br />This is irreversible.").then(e=>{if(e.isConfirmed){this.loader.showLoader();const e=sessionStorage.getItem("token"),c=l.a.pilgrims;this.subscription=this.dataService.post(`${l.a.pilgrims}/image`,this.formsService.formData,e).subscribe(t=>{this.notifications.successToast(`${t.message} Sending user data...`),this.subscription=this.dataService.post(c,this.formsService.formValue,e).subscribe(e=>{this.notifications.alert(`Pilgrim registered successfully. <br />Code: <b>${e.enrollmentDetails.code}</b>`).then(e=>{this.formsService.reset(),this.stepsService.reset(),this.loader.hideLoader()})})})}})}}return e.\u0275fac=function(c){return new(c||e)(u.Xb(M.a),u.Xb(N.a),u.Xb(H.a),u.Xb(p.a),u.Xb(m.a))},e.\u0275cmp=u.Rb({type:e,selectors:[["app-pilgrim-form"]],decls:24,vars:3,consts:[[1,"page-breadcrumb"],[1,"breadcrumb",2,"font-size","150%"],[1,"breadcrumb-item"],[1,"text-primary"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12","stretch-card"],[1,"card"],[1,"card-body"],[1,"card-title"],[3,"ngSwitch"],[4,"ngSwitchCase"],["inactive",""],["active",""],["load",""],["show",""],[4,"ngIf","ngIfThen","ngIfElse"],[4,"ngIf","ngIfThen"],[1,"col-12","mx-auto","d-flex","justify-content-center","text-danger","mb-5"],[1,"mx-auto"],[1,"row","mr-1"],[1,"col-sm-3"],[1,"col-sm-9","mx-auto",2,"border","1px solid #e8eff4","padding","2rem 1.5rem","border-radius","0.3rem"],["class","btn btn-md btn-outline-primary ml-auto mt-3 step-btn",3,"click",4,"ngIf"],[1,"btn","btn-md","btn-primary","ml-3","mt-3","step-btn",3,"disabled","click"],[3,"step"],[1,"btn","btn-md","btn-outline-primary","ml-auto","mt-3","step-btn",3,"click"]],template:function(e,c){1&e&&(u.dc(0,"nav",0),u.dc(1,"ol",1),u.dc(2,"li",2),u.dc(3,"a",3),u.Pc(4,"Pilgrims"),u.cc(),u.cc(),u.dc(5,"li",4),u.Pc(6,"Register Pilgrim"),u.cc(),u.cc(),u.cc(),u.dc(7,"div",5),u.dc(8,"div",6),u.dc(9,"div",7),u.dc(10,"div",8),u.dc(11,"h4",9),u.Pc(12,"Pilgrim Registration Form "),u.cc(),u.bc(13,10),u.Nc(14,dt,2,3,"ng-container",11),u.Nc(15,pt,2,2,"ng-container",11),u.ac(),u.cc(),u.cc(),u.cc(),u.cc(),u.Nc(16,mt,2,0,"ng-template",null,12,u.Oc),u.Nc(18,gt,1,3,"ng-template",null,13,u.Oc),u.Nc(20,ht,2,0,"ng-template",null,14,u.Oc),u.Nc(22,Nt,18,23,"ng-template",null,15,u.Oc)),2&e&&(u.Kb(13),u.xc("ngSwitch",c.fetchedYear),u.Kb(1),u.xc("ngSwitchCase",!0),u.Kb(1),u.xc("ngSwitchCase",!1))},directives:[n.p,n.q,n.n,f.a,$,z,be,bc,Yc,Bc,st],pipes:[n.b],styles:[".step-btn[_ngcontent-%COMP%]{width:150px;height:40px}"]}),e})(),It=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(c){return new(c||e)},e.\u0275cmp=u.Rb({type:e,selectors:[["app-edit-pilgrim"]],decls:8,vars:0,consts:[["mat-dialog-title","",2,"font-size","160%"],["align","end"],["type","button","matDialogClose","",1,"btn-outline-primary","btn-sm","btn","ml-2"]],template:function(e,c){1&e&&(u.dc(0,"p",0),u.Pc(1,"Edit Pilgrim Details"),u.cc(),u.dc(2,"mat-dialog-content"),u.dc(3,"p"),u.Pc(4,"Module coming soon..."),u.cc(),u.cc(),u.dc(5,"mat-dialog-actions",1),u.dc(6,"button",2),u.Pc(7," Close "),u.cc(),u.cc())},directives:[d.h,d.e,d.c,d.d],styles:[""]}),e})();const St=["yearId"];function Dt(e,c){1&e&&(u.dc(0,"span",29),u.Pc(1,"\xa0\xa0\xa0Active"),u.cc())}function wt(e,c){if(1&e&&(u.dc(0,"option",27),u.Pc(1),u.sc(2,"uppercase"),u.Nc(3,Dt,2,0,"span",28),u.cc()),2&e){const e=c.$implicit;u.xc("value",e._id),u.Kb(1),u.Rc("",u.tc(2,3,e.year)," "),u.Kb(2),u.xc("ngIf",e.active)}}function Ct(e,c){1&e&&u.Zb(0)}function kt(e,c){1&e&&(u.dc(0,"thead"),u.dc(1,"tr"),u.dc(2,"td"),u.dc(3,"app-loader"),u.Pc(4,"Fetching data..."),u.cc(),u.cc(),u.cc(),u.cc())}function Ft(e,c){1&e&&u.Zb(0)}function Lt(e,c){if(1&e&&u.Nc(0,Ft,1,0,"ng-container",20),2&e){const e=u.rc(),c=u.Fc(37),t=u.Fc(35);u.xc("ngIf",e.pilgrims.length>0)("ngIfThen",c)("ngIfElse",t)}}function Tt(e,c){1&e&&(u.dc(0,"span"),u.Pc(1,"Select a year."),u.cc())}function Yt(e,c){if(1&e&&(u.dc(0,"thead"),u.dc(1,"tr"),u.dc(2,"td"),u.Pc(3,"No record(s) to display. "),u.Nc(4,Tt,2,0,"span",30),u.cc(),u.cc(),u.cc()),2&e){u.rc();const e=u.Fc(20);u.Kb(4),u.xc("ngIf",""===e.value)}}function jt(e,c){if(1&e){const e=u.ec();u.dc(0,"button",43),u.nc("click",function(){u.Hc(e);const c=u.rc().$implicit;return u.rc(2).deletePilgrim(c)}),u.Pc(1,"Delete Pilgrim"),u.cc()}}function At(e,c){if(1&e){const e=u.ec();u.dc(0,"button",43),u.nc("click",function(){u.Hc(e);const c=u.rc().$implicit;return u.rc(2).restorePilgrim(c)}),u.Pc(1,"Restore Pilgrim"),u.cc()}}function Rt(e,c){if(1&e){const e=u.ec();u.dc(0,"tbody"),u.dc(1,"tr"),u.dc(2,"td"),u.Pc(3),u.cc(),u.dc(4,"td"),u.dc(5,"b"),u.Pc(6),u.cc(),u.cc(),u.dc(7,"td"),u.Pc(8),u.sc(9,"uppercase"),u.cc(),u.dc(10,"td"),u.Pc(11),u.sc(12,"uppercase"),u.cc(),u.dc(13,"td"),u.Pc(14),u.cc(),u.dc(15,"td"),u.Pc(16),u.sc(17,"date"),u.cc(),u.dc(18,"td"),u.dc(19,"button",38),u.nc("click",function(){u.Hc(e);const t=c.$implicit;return u.rc(2).viewPilgrim(t)}),u.Pc(20," View "),u.cc(),u.Pc(21," \xa0 \xa0 "),u.dc(22,"div",39,40),u.dc(24,"button",41),u.nc("focus",function(){return u.Hc(e),u.Fc(23).open()}),u.Pc(25,"More"),u.cc(),u.dc(26,"div",42),u.dc(27,"button",43),u.nc("click",function(){u.Hc(e);const t=c.$implicit;return u.rc(2).editPilgrim(t)}),u.Pc(28,"Edit details"),u.cc(),u.Nc(29,jt,2,0,"button",44),u.Nc(30,At,2,0,"button",44),u.cc(),u.cc(),u.cc(),u.cc(),u.cc()}if(2&e){const e=c.index,t=c.$implicit,r=u.rc(2);u.Kb(3),u.Qc(e+1),u.Kb(3),u.Qc(t.enrollmentDetails.code),u.Kb(2),u.Qc(u.tc(9,8,t.personalDetails.surname+", "+t.personalDetails.otherNames)),u.Kb(3),u.Qc(u.tc(12,10,t.personalDetails.sex)),u.Kb(3),u.Qc(t.enrollmentDetails.enrollmentZone.name),u.Kb(2),u.Qc(u.uc(17,12,t.dateCreated,"medium")),u.Kb(13),u.xc("ngIf","active"===r.active),u.Kb(1),u.xc("ngIf","deleted"===r.active)}}const Mt=function(e){return{itemsPerPage:10,currentPage:e}};function Ht(e,c){if(1&e&&(u.dc(0,"thead"),u.dc(1,"tr"),u.dc(2,"th",31),u.Pc(3,"S/N"),u.cc(),u.dc(4,"th",32),u.Pc(5,"Registration Code"),u.cc(),u.dc(6,"th",33),u.Pc(7,"Full Name"),u.cc(),u.dc(8,"th",34),u.Pc(9,"Gender"),u.cc(),u.dc(10,"th",35),u.Pc(11,"Registration Zone"),u.cc(),u.dc(12,"th",36),u.Pc(13,"Registration Date"),u.cc(),u.dc(14,"th"),u.Pc(15,"Actions"),u.cc(),u.cc(),u.cc(),u.Nc(16,Rt,31,15,"tbody",37),u.sc(17,"paginate"),u.sc(18,"filter")),2&e){const e=u.rc();u.Kb(2),u.xc("appSort",e.pilgrims),u.Kb(2),u.xc("appSort",e.pilgrims),u.Kb(2),u.xc("appSort",e.pilgrims),u.Kb(2),u.xc("appSort",e.pilgrims),u.Kb(2),u.xc("appSort",e.pilgrims),u.Kb(2),u.xc("appSort",e.pilgrims),u.Kb(4),u.xc("ngForOf",u.uc(17,7,u.uc(18,10,e.pilgrims,e.searchText),u.Bc(13,Mt,e.p)))}}let qt=(()=>{class e{constructor(e,c,t,r){this.loader=e,this.dataService=c,this.notifications=t,this.dialog=r,this.active="active",this.display="Active Pilgrims",this.searchText="",this.years=[],this.pilgrims=[],this.p=1,this.subscription=new s.a,this.token=sessionStorage.getItem("token")}ngOnInit(){this.getYears()}ngOnDestroy(){this.loader.hideLoader(),this.subscription.unsubscribe()}tabClick(e){switch(this.active=e,e){case"active":this.display="Active Pilgrims";break;case"deleted":this.display="Deleted Pilgrims"}this.pilgrims=[],this.yearId.reset(this.years[0]._id),this.yearSelected(this.years[0]._id)}yearSelected(e){"deleted"!==this.active?this.getPilgrims(e):this.getPilgrims(e,!0)}getYears(){this.loader.showLoader(),this.subscription=this.dataService.get(l.a.years,this.token).subscribe(e=>{this.years=[...e],this.yearId.reset(this.years[0]._id),this.yearSelected(this.years[0]._id)})}getPilgrims(e,c){this.loader.showLoader();let t=`${l.a.pilgrims}/by-year/${e}`;c&&(t=`${l.a.pilgrims}/deleted-by-year/${e}`),this.subscription=this.dataService.get(t,this.token).subscribe(e=>{this.pilgrims=[...e],this.loader.hideLoader()})}viewPilgrim(e){window.scroll(0,0),this.dialog.open(y,{width:"35rem",disableClose:!0,data:e})}deletePilgrim(e){this.notifications.prompt(`Are you sure you <br /> want to delete <br />${e.enrollmentDetails.code} ?`).then(c=>{if(c.isConfirmed){this.loader.showLoader();const c=`${l.a.pilgrims}/delete`;console.log(this),this.subscription=this.dataService.update(c,e._id,{},this.token).subscribe(e=>{this.notifications.successToast(`Pilgrim ${e.enrollmentDetails.code} was deleted successfully.`),this.tabClick("active")})}})}restorePilgrim(e){this.notifications.prompt(`Are you sure you <br />want to restore <br /> ${e.enrollmentDetails.code} ?`).then(c=>{if(c.isConfirmed){this.loader.showLoader();const c=`${l.a.pilgrims}/restore`;console.log(this),this.subscription=this.dataService.update(c,e._id,{},this.token).subscribe(e=>{this.notifications.successToast(`Pilgrim ${e.enrollmentDetails.code} was restored successfully.`),this.tabClick("deleted")})}})}editPilgrim(e){window.scroll(0,0),this.dialog.open(It,{width:"35rem",disableClose:!0,data:e})}}return e.\u0275fac=function(c){return new(c||e)(u.Xb(K.a),u.Xb(p.a),u.Xb(N.a),u.Xb(d.b))},e.\u0275cmp=u.Rb({type:e,selectors:[["app-pilgrim-admin-list"]],viewQuery:function(e,c){if(1&e&&u.Tc(St,1),2&e){let e;u.Ec(e=u.oc())&&(c.yearId=e.first)}},decls:38,vars:12,consts:[[1,"page-breadcrumb"],[1,"breadcrumb",2,"font-size","150%"],[1,"breadcrumb-item"],[1,"text-primary"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-12",2,"text-align","center"],["role","group",1,"btn-group","mb-4"],["type","button",1,"magnifyText","btn","btn-primary",3,"disabled","click"],[1,"row"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body",2,"overflow-x","auto"],[1,"card-title"],["id","yearId","name","yearId","ngModel","","required","",1,"form-control","col-sm-12","col-md-3","col-lg-2","float-left","mb-4",2,"border-radius","2px",3,"change"],["yearId","ngModel"],["value","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["type","search","name","search","placeholder","Search",1,"form-control","col-sm-12","col-md-3","float-right","mb-4",3,"ngModel","ngModelChange"],[1,"table-responsive",2,"overflow-y","hidden!important"],[1,"table"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"col-12","mx-auto","mt-3"],["maxSize","9","directionLinks","true","autoHide","true","responsive","true","previousLabel","Previous","nextLabel","Next","screenReaderPaginationLabel","Pagination","screenReaderPageLabel","page","screenReaderCurrentLabel","You're on page",1,"float-right",3,"pageChange"],["load",""],["show",""],["noData",""],["tableData",""],[3,"value"],["class","text-success",4,"ngIf"],[1,"text-success"],[4,"ngIf"],["scope","col","data-order","desc","data-name","sn",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","code",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","name",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","gender",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","enrollmentZone",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","dateCreated",1,"sort",3,"appSort"],[4,"ngFor","ngForOf"],["type","button",1,"btn","magnifyText","btn-primary","btn","btn-sm",3,"click"],["ngbDropdown","","container","body",1,"d-inline-block"],["moreActionsDrop","ngbDropdown"],["id","moredropDown","ngbDropdownAnchor","",1,"magnifyText","btn","btn-sm","btn-outline-primary",3,"focus"],["ngbDropdownMenu","","aria-labelledby","moredropDown"],["ngbDropdownItem","",1,"my-2",2,"font-size","105%!important",3,"click"],["class","my-2","style","font-size: 105%!important;","ngbDropdownItem","",3,"click",4,"ngIf"]],template:function(e,c){if(1&e){const e=u.ec();u.dc(0,"nav",0),u.dc(1,"ol",1),u.dc(2,"li",2),u.dc(3,"a",3),u.Pc(4,"Pilgrims"),u.cc(),u.cc(),u.dc(5,"li",4),u.Pc(6),u.cc(),u.cc(),u.cc(),u.dc(7,"div",5),u.dc(8,"div",6),u.dc(9,"button",7),u.nc("click",function(){return c.tabClick("active")}),u.Pc(10," Active "),u.cc(),u.dc(11,"button",7),u.nc("click",function(){return c.tabClick("deleted")}),u.Pc(12," Deleted "),u.cc(),u.cc(),u.cc(),u.dc(13,"div",8),u.dc(14,"div",9),u.dc(15,"div",10),u.dc(16,"div",11),u.dc(17,"h6",12),u.Pc(18,"PILGRIMS MASTER LIST"),u.cc(),u.dc(19,"select",13,14),u.nc("change",function(){u.Hc(e);const t=u.Fc(20);return c.yearSelected(t.value)}),u.dc(21,"option",15),u.Pc(22,"Select Year"),u.cc(),u.Nc(23,wt,4,5,"option",16),u.cc(),u.dc(24,"input",17),u.nc("ngModelChange",function(e){return c.searchText=e}),u.cc(),u.dc(25,"div",18),u.dc(26,"table",19),u.Nc(27,Ct,1,0,"ng-container",20),u.cc(),u.dc(28,"div",21),u.dc(29,"pagination-controls",22),u.nc("pageChange",function(e){return c.p=e}),u.cc(),u.cc(),u.cc(),u.cc(),u.cc(),u.cc(),u.cc(),u.Nc(30,kt,5,0,"ng-template",null,23,u.Oc),u.Nc(32,Lt,1,3,"ng-template",null,24,u.Oc),u.Nc(34,Yt,5,1,"ng-template",null,25,u.Oc),u.Nc(36,Ht,19,15,"ng-template",null,26,u.Oc)}if(2&e){const e=u.Fc(31),t=u.Fc(33);u.Kb(6),u.Qc(c.display),u.Kb(3),u.Pb("btn-active","active"===c.active),u.xc("disabled",c.loader.loaderVisible),u.Kb(2),u.Pb("btn-active","deleted"===c.active),u.xc("disabled",c.loader.loaderVisible),u.Kb(12),u.xc("ngForOf",c.years),u.Kb(1),u.xc("ngModel",c.searchText),u.Kb(3),u.xc("ngIf",c.loader.loaderVisible)("ngIfThen",e)("ngIfElse",t)}},directives:[r.w,r.o,r.r,r.v,r.s,r.y,n.m,r.c,n.n,i.c,f.a,O.a,o.a,o.b,o.d,o.c],pipes:[n.x,i.b,I.a,n.e],styles:[".ngx-pagination .current{background-color:#727cf5!important;border-radius:3px}td[_ngcontent-%COMP%]{font-size:85%!important}"]}),e})();var Et=t("cp0P");function $t(e,c){1&e&&(u.dc(0,"span",29),u.Pc(1,"\xa0\xa0\xa0Active"),u.cc())}function _t(e,c){if(1&e&&(u.dc(0,"option",27),u.Pc(1),u.sc(2,"uppercase"),u.Nc(3,$t,2,0,"span",28),u.cc()),2&e){const e=c.$implicit;u.xc("value",e._id),u.Kb(1),u.Rc("",u.tc(2,3,e.year)," "),u.Kb(2),u.xc("ngIf",e.active)}}function zt(e,c){if(1&e&&(u.dc(0,"option",27),u.Pc(1),u.cc()),2&e){const e=c.$implicit;u.xc("value",e._id),u.Kb(1),u.Qc(e.name)}}function Gt(e,c){1&e&&u.Zb(0)}function Zt(e,c){1&e&&(u.dc(0,"thead"),u.dc(1,"tr"),u.dc(2,"td"),u.dc(3,"app-loader"),u.Pc(4,"Fetching data..."),u.cc(),u.cc(),u.cc(),u.cc())}function Bt(e,c){1&e&&u.Zb(0)}function Qt(e,c){if(1&e&&u.Nc(0,Bt,1,0,"ng-container",20),2&e){const e=u.rc(),c=u.Fc(38),t=u.Fc(36);u.xc("ngIf",e.pilgrims.length>0)("ngIfThen",c)("ngIfElse",t)}}function Vt(e,c){1&e&&(u.dc(0,"span"),u.Pc(1,"Select a year and zone."),u.cc())}function Xt(e,c){1&e&&u.Yb(0,"span")}function Ut(e,c){if(1&e&&(u.dc(0,"thead"),u.dc(1,"tr"),u.dc(2,"td"),u.Pc(3," No record(s) to display. "),u.Nc(4,Vt,2,0,"span",30),u.Nc(5,Xt,1,0,"span",30),u.cc(),u.cc(),u.cc()),2&e){u.rc();const e=u.Fc(14),c=u.Fc(19);u.Kb(4),u.xc("ngIf",!e.touched||!c.touched)}}function Wt(e,c){if(1&e){const e=u.ec();u.dc(0,"tbody"),u.dc(1,"tr"),u.dc(2,"td"),u.Pc(3),u.cc(),u.dc(4,"td"),u.dc(5,"b"),u.Pc(6),u.cc(),u.cc(),u.dc(7,"td"),u.Pc(8),u.sc(9,"uppercase"),u.cc(),u.dc(10,"td"),u.Pc(11),u.sc(12,"uppercase"),u.cc(),u.dc(13,"td"),u.Pc(14),u.cc(),u.dc(15,"td"),u.Pc(16),u.sc(17,"date"),u.cc(),u.dc(18,"td"),u.dc(19,"button",38),u.nc("click",function(){u.Hc(e);const t=c.$implicit;return u.rc(2).viewPilgrim(t)}),u.Pc(20," View "),u.cc(),u.cc(),u.cc(),u.cc()}if(2&e){const e=c.index,t=c.$implicit;u.Kb(3),u.Qc(e+1),u.Kb(3),u.Qc(t.enrollmentDetails.code),u.Kb(2),u.Qc(u.tc(9,6,t.personalDetails.surname+", "+t.personalDetails.otherNames)),u.Kb(3),u.Qc(u.tc(12,8,t.personalDetails.sex)),u.Kb(3),u.Qc(t.enrollmentDetails.enrollmentZone.name),u.Kb(2),u.Qc(u.uc(17,10,t.dateCreated,"medium"))}}const Jt=function(e){return{itemsPerPage:10,currentPage:e}};function er(e,c){if(1&e&&(u.dc(0,"thead"),u.dc(1,"tr"),u.dc(2,"th",31),u.Pc(3,"S/N"),u.cc(),u.dc(4,"th",32),u.Pc(5,"Registration Code"),u.cc(),u.dc(6,"th",33),u.Pc(7,"Full Name"),u.cc(),u.dc(8,"th",34),u.Pc(9,"Gender"),u.cc(),u.dc(10,"th",35),u.Pc(11,"Registration Zone"),u.cc(),u.dc(12,"th",36),u.Pc(13,"Registration Date"),u.cc(),u.dc(14,"th"),u.Pc(15,"Actions"),u.cc(),u.cc(),u.cc(),u.Nc(16,Wt,21,13,"tbody",37),u.sc(17,"paginate"),u.sc(18,"filter")),2&e){const e=u.rc();u.Kb(2),u.xc("appSort",e.pilgrims),u.Kb(2),u.xc("appSort",e.pilgrims),u.Kb(2),u.xc("appSort",e.pilgrims),u.Kb(2),u.xc("appSort",e.pilgrims),u.Kb(2),u.xc("appSort",e.pilgrims),u.Kb(2),u.xc("appSort",e.pilgrims),u.Kb(4),u.xc("ngForOf",u.uc(17,7,u.uc(18,10,e.pilgrims,e.searchText),u.Bc(13,Jt,e.p)))}}let cr=(()=>{class e{constructor(e,c,t){this.loader=e,this.dataService=c,this.dialog=t,this.searchText="",this.years=[],this.zones=[],this.pilgrims=[],this.p=1,this.subscription=new s.a,this.token=sessionStorage.getItem("token")}ngOnInit(){this.fetchData()}ngOnDestroy(){this.loader.hideLoader(),this.subscription.unsubscribe()}fetchData(){this.loader.showLoader();const e=l.a.years,c=l.a.zones;this.subscription=Object(Et.a)([this.dataService.get(e,this.token),this.dataService.get(c,this.token)]).subscribe(e=>{this.years=[...e[0]];const c=["00","01"];this.zones=e[1].filter(e=>!c.includes(e.code)),this.loader.hideLoader()})}fetchPilgrims(e,c){this.loader.showLoader(),this.subscription=this.dataService.get(`${l.a.pilgrims}/reviewer/by-year-and-lga/${c}/${e}`,this.token).subscribe(e=>{this.pilgrims=[...e],this.loader.hideLoader()})}viewPilgrim(e){window.scroll(0,0),this.dialog.open(y,{width:"35rem",disableClose:!0,data:e})}}return e.\u0275fac=function(c){return new(c||e)(u.Xb(K.a),u.Xb(p.a),u.Xb(d.b))},e.\u0275cmp=u.Rb({type:e,selectors:[["app-pilgrim-reviewer-list"]],decls:39,vars:7,consts:[[1,"page-breadcrumb"],[1,"breadcrumb",2,"font-size","150%"],[1,"breadcrumb-item"],[1,"text-primary"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body",2,"overflow-x","auto"],[1,"card-title"],["id","yearId","name","yearId","ngModel","","required","",1,"form-control","col-sm-12","col-md-3","col-lg-2","float-left","mr-2","mb-4",2,"border-radius","2px"],["yearId","ngModel"],["value","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["id","zoneId","name","zoneId","ngModel","","required","",1,"form-control","col-sm-12","col-md-3","col-lg-2","float-left","mb-4",2,"border-radius","2px"],["zoneId","ngModel"],[1,"btn","btn","btn-success","ml-3",2,"height","calc(1.5em + 0.75rem + 2px)",3,"disabled","click"],["type","search","name","search","placeholder","Search",1,"form-control","col-sm-12","col-md-3","float-right","mb-4",3,"ngModel","ngModelChange"],[1,"table-responsive",2,"overflow-y","hidden!important"],[1,"table"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"col-12","mx-auto","mt-3"],["maxSize","9","directionLinks","true","autoHide","true","responsive","true","previousLabel","Previous","nextLabel","Next","screenReaderPaginationLabel","Pagination","screenReaderPageLabel","page","screenReaderCurrentLabel","You're on page",1,"float-right",3,"pageChange"],["load",""],["show",""],["noData",""],["tableData",""],[3,"value"],["class","text-success",4,"ngIf"],[1,"text-success"],[4,"ngIf"],["scope","col","data-order","desc","data-name","sn",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","code",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","name",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","gender",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","enrollmentZone",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","dateCreated",1,"sort",3,"appSort"],[4,"ngFor","ngForOf"],["type","button",1,"btn","magnifyText","btn-primary","btn","btn-sm",3,"click"]],template:function(e,c){if(1&e){const e=u.ec();u.dc(0,"nav",0),u.dc(1,"ol",1),u.dc(2,"li",2),u.dc(3,"a",3),u.Pc(4,"Pilgrims"),u.cc(),u.cc(),u.dc(5,"li",4),u.Pc(6,"All Active Pilgrims"),u.cc(),u.cc(),u.cc(),u.dc(7,"div",5),u.dc(8,"div",6),u.dc(9,"div",7),u.dc(10,"div",8),u.dc(11,"h6",9),u.Pc(12,"PILGRIMS MASTER LIST"),u.cc(),u.dc(13,"select",10,11),u.dc(15,"option",12),u.Pc(16,"Select Year"),u.cc(),u.Nc(17,_t,4,5,"option",13),u.cc(),u.dc(18,"select",14,15),u.dc(20,"option",12),u.Pc(21,"Select Zone"),u.cc(),u.Nc(22,zt,2,2,"option",13),u.cc(),u.dc(23,"button",16),u.nc("click",function(){u.Hc(e);const t=u.Fc(14),r=u.Fc(19);return c.fetchPilgrims(t.value,r.value)}),u.Pc(24," Query "),u.cc(),u.dc(25,"input",17),u.nc("ngModelChange",function(e){return c.searchText=e}),u.cc(),u.dc(26,"div",18),u.dc(27,"table",19),u.Nc(28,Gt,1,0,"ng-container",20),u.cc(),u.dc(29,"div",21),u.dc(30,"pagination-controls",22),u.nc("pageChange",function(e){return c.p=e}),u.cc(),u.cc(),u.cc(),u.cc(),u.cc(),u.cc(),u.cc(),u.Nc(31,Zt,5,0,"ng-template",null,23,u.Oc),u.Nc(33,Qt,1,3,"ng-template",null,24,u.Oc),u.Nc(35,Ut,6,1,"ng-template",null,25,u.Oc),u.Nc(37,er,19,15,"ng-template",null,26,u.Oc)}if(2&e){const e=u.Fc(14),t=u.Fc(19),r=u.Fc(32),n=u.Fc(34);u.Kb(17),u.xc("ngForOf",c.years),u.Kb(5),u.xc("ngForOf",c.zones),u.Kb(1),u.xc("disabled",""===t.value||""===e.value),u.Kb(2),u.xc("ngModel",c.searchText),u.Kb(3),u.xc("ngIf",c.loader.loaderVisible)("ngIfThen",r)("ngIfElse",n)}},directives:[r.w,r.o,r.r,r.v,r.s,r.y,n.m,r.c,n.n,i.c,f.a,O.a],pipes:[n.x,i.b,I.a,n.e],styles:[""]}),e})();function tr(e,c){1&e&&(u.dc(0,"span",29),u.Pc(1,"\xa0\xa0\xa0Active"),u.cc())}function rr(e,c){if(1&e&&(u.dc(0,"option",27),u.Pc(1),u.sc(2,"uppercase"),u.Nc(3,tr,2,0,"span",28),u.cc()),2&e){const e=c.$implicit;u.xc("value",e._id),u.Kb(1),u.Rc("",u.tc(2,3,e.year)," "),u.Kb(2),u.xc("ngIf",e.active)}}function nr(e,c){if(1&e&&(u.dc(0,"option",27),u.Pc(1),u.cc()),2&e){const e=c.$implicit;u.xc("value",e._id),u.Kb(1),u.Qc(e.name)}}function ir(e,c){1&e&&u.Zb(0)}function or(e,c){1&e&&(u.dc(0,"thead"),u.dc(1,"tr"),u.dc(2,"td"),u.dc(3,"app-loader"),u.Pc(4,"Fetching data..."),u.cc(),u.cc(),u.cc(),u.cc())}function ar(e,c){1&e&&u.Zb(0)}function sr(e,c){if(1&e&&u.Nc(0,ar,1,0,"ng-container",20),2&e){const e=u.rc(),c=u.Fc(38),t=u.Fc(36);u.xc("ngIf",e.pilgrims.length>0)("ngIfThen",c)("ngIfElse",t)}}function lr(e,c){1&e&&(u.dc(0,"span"),u.Pc(1,"Select a year and zone."),u.cc())}function dr(e,c){1&e&&u.Yb(0,"span")}function ur(e,c){if(1&e&&(u.dc(0,"thead"),u.dc(1,"tr"),u.dc(2,"td"),u.Pc(3," No record(s) to display. "),u.Nc(4,lr,2,0,"span",30),u.Nc(5,dr,1,0,"span",30),u.cc(),u.cc(),u.cc()),2&e){u.rc();const e=u.Fc(14),c=u.Fc(19);u.Kb(4),u.xc("ngIf",!e.touched||!c.touched)}}function pr(e,c){if(1&e){const e=u.ec();u.dc(0,"tbody"),u.dc(1,"tr"),u.dc(2,"td"),u.Pc(3),u.cc(),u.dc(4,"td"),u.dc(5,"b"),u.Pc(6),u.cc(),u.cc(),u.dc(7,"td"),u.Pc(8),u.sc(9,"uppercase"),u.cc(),u.dc(10,"td"),u.Pc(11),u.sc(12,"uppercase"),u.cc(),u.dc(13,"td"),u.Pc(14),u.cc(),u.dc(15,"td"),u.Pc(16),u.sc(17,"date"),u.cc(),u.dc(18,"td"),u.dc(19,"button",38),u.nc("click",function(){u.Hc(e);const t=c.$implicit;return u.rc(2).viewPilgrim(t)}),u.Pc(20," View "),u.cc(),u.cc(),u.cc(),u.cc()}if(2&e){const e=c.index,t=c.$implicit;u.Kb(3),u.Qc(e+1),u.Kb(3),u.Qc(t.enrollmentDetails.code),u.Kb(2),u.Qc(u.tc(9,6,t.personalDetails.surname+", "+t.personalDetails.otherNames)),u.Kb(3),u.Qc(u.tc(12,8,t.personalDetails.sex)),u.Kb(3),u.Qc(t.enrollmentDetails.enrollmentZone.name),u.Kb(2),u.Qc(u.uc(17,10,t.dateCreated,"medium"))}}const mr=function(e){return{itemsPerPage:10,currentPage:e}};function fr(e,c){if(1&e&&(u.dc(0,"thead"),u.dc(1,"tr"),u.dc(2,"th",31),u.Pc(3,"S/N"),u.cc(),u.dc(4,"th",32),u.Pc(5,"Registration Code"),u.cc(),u.dc(6,"th",33),u.Pc(7,"Full Name"),u.cc(),u.dc(8,"th",34),u.Pc(9,"Gender"),u.cc(),u.dc(10,"th",35),u.Pc(11,"Registration Zone"),u.cc(),u.dc(12,"th",36),u.Pc(13,"Registration Date"),u.cc(),u.dc(14,"th"),u.Pc(15,"Actions"),u.cc(),u.cc(),u.cc(),u.Nc(16,pr,21,13,"tbody",37),u.sc(17,"paginate"),u.sc(18,"filter")),2&e){const e=u.rc();u.Kb(2),u.xc("appSort",e.pilgrims),u.Kb(2),u.xc("appSort",e.pilgrims),u.Kb(2),u.xc("appSort",e.pilgrims),u.Kb(2),u.xc("appSort",e.pilgrims),u.Kb(2),u.xc("appSort",e.pilgrims),u.Kb(2),u.xc("appSort",e.pilgrims),u.Kb(4),u.xc("ngForOf",u.uc(17,7,u.uc(18,10,e.pilgrims,e.searchText),u.Bc(13,mr,e.p)))}}let gr=(()=>{class e{constructor(e,c,t){this.loader=e,this.dataService=c,this.dialog=t,this.searchText="",this.years=[],this.zones=[],this.pilgrims=[],this.p=1,this.subscription=new s.a,this.token=sessionStorage.getItem("token")}ngOnInit(){this.fetchData()}ngOnDestroy(){this.loader.hideLoader(),this.subscription.unsubscribe()}fetchData(){this.loader.showLoader();const e=l.a.years,c=l.a.zones;this.subscription=Object(Et.a)([this.dataService.get(e,this.token),this.dataService.get(c,this.token)]).subscribe(e=>{this.years=[...e[0]];const c=["00","01"];this.zones=e[1].filter(e=>!c.includes(e.code)),this.loader.hideLoader()})}fetchPilgrims(e,c){this.loader.showLoader(),this.subscription=this.dataService.get(`${l.a.pilgrims}/reviewer/deleted-by-year-and-lga/${c}/${e}`,this.token).subscribe(e=>{this.pilgrims=[...e],this.loader.hideLoader()})}viewPilgrim(e){window.scroll(0,0),this.dialog.open(y,{width:"35rem",disableClose:!0,data:e})}}return e.\u0275fac=function(c){return new(c||e)(u.Xb(K.a),u.Xb(p.a),u.Xb(d.b))},e.\u0275cmp=u.Rb({type:e,selectors:[["app-pilgrim-deleted-reviewer-list"]],decls:39,vars:7,consts:[[1,"page-breadcrumb"],[1,"breadcrumb",2,"font-size","150%"],[1,"breadcrumb-item"],[1,"text-primary"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body",2,"overflow-x","auto"],[1,"card-title"],["id","yearId","name","yearId","ngModel","","required","",1,"form-control","col-sm-12","col-md-3","col-lg-2","float-left","mr-2","mb-4",2,"border-radius","2px"],["yearId","ngModel"],["value","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["id","zoneId","name","zoneId","ngModel","","required","",1,"form-control","col-sm-12","col-md-3","col-lg-2","float-left","mb-4",2,"border-radius","2px"],["zoneId","ngModel"],[1,"btn","btn","btn-success","ml-3",2,"height","calc(1.5em + 0.75rem + 2px)",3,"disabled","click"],["type","search","name","search","placeholder","Search",1,"form-control","col-sm-12","col-md-3","float-right","mb-4",3,"ngModel","ngModelChange"],[1,"table-responsive",2,"overflow-y","hidden!important"],[1,"table"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"col-12","mx-auto","mt-3"],["maxSize","9","directionLinks","true","autoHide","true","responsive","true","previousLabel","Previous","nextLabel","Next","screenReaderPaginationLabel","Pagination","screenReaderPageLabel","page","screenReaderCurrentLabel","You're on page",1,"float-right",3,"pageChange"],["load",""],["show",""],["noData",""],["tableData",""],[3,"value"],["class","text-success",4,"ngIf"],[1,"text-success"],[4,"ngIf"],["scope","col","data-order","desc","data-name","sn",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","code",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","name",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","gender",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","enrollmentZone",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","dateCreated",1,"sort",3,"appSort"],[4,"ngFor","ngForOf"],["type","button",1,"btn","magnifyText","btn-primary","btn","btn-sm",3,"click"]],template:function(e,c){if(1&e){const e=u.ec();u.dc(0,"nav",0),u.dc(1,"ol",1),u.dc(2,"li",2),u.dc(3,"a",3),u.Pc(4,"Pilgrims"),u.cc(),u.cc(),u.dc(5,"li",4),u.Pc(6,"All Active Pilgrims"),u.cc(),u.cc(),u.cc(),u.dc(7,"div",5),u.dc(8,"div",6),u.dc(9,"div",7),u.dc(10,"div",8),u.dc(11,"h6",9),u.Pc(12,"PILGRIMS MASTER LIST"),u.cc(),u.dc(13,"select",10,11),u.dc(15,"option",12),u.Pc(16,"Select Year"),u.cc(),u.Nc(17,rr,4,5,"option",13),u.cc(),u.dc(18,"select",14,15),u.dc(20,"option",12),u.Pc(21,"Select Zone"),u.cc(),u.Nc(22,nr,2,2,"option",13),u.cc(),u.dc(23,"button",16),u.nc("click",function(){u.Hc(e);const t=u.Fc(14),r=u.Fc(19);return c.fetchPilgrims(t.value,r.value)}),u.Pc(24," Query "),u.cc(),u.dc(25,"input",17),u.nc("ngModelChange",function(e){return c.searchText=e}),u.cc(),u.dc(26,"div",18),u.dc(27,"table",19),u.Nc(28,ir,1,0,"ng-container",20),u.cc(),u.dc(29,"div",21),u.dc(30,"pagination-controls",22),u.nc("pageChange",function(e){return c.p=e}),u.cc(),u.cc(),u.cc(),u.cc(),u.cc(),u.cc(),u.cc(),u.Nc(31,or,5,0,"ng-template",null,23,u.Oc),u.Nc(33,sr,1,3,"ng-template",null,24,u.Oc),u.Nc(35,ur,6,1,"ng-template",null,25,u.Oc),u.Nc(37,fr,19,15,"ng-template",null,26,u.Oc)}if(2&e){const e=u.Fc(14),t=u.Fc(19),r=u.Fc(32),n=u.Fc(34);u.Kb(17),u.xc("ngForOf",c.years),u.Kb(5),u.xc("ngForOf",c.zones),u.Kb(1),u.xc("disabled",""===t.value||""===e.value),u.Kb(2),u.xc("ngModel",c.searchText),u.Kb(3),u.xc("ngIf",c.loader.loaderVisible)("ngIfThen",r)("ngIfElse",n)}},directives:[r.w,r.o,r.r,r.v,r.s,r.y,n.m,r.c,n.n,i.c,f.a,O.a],pipes:[n.x,i.b,I.a,n.e],styles:[""]}),e})(),hr=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(c){return new(c||e)},e.\u0275cmp=u.Rb({type:e,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(e,c){1&e&&(u.dc(0,"p"),u.Pc(1,"To be implemented soon."),u.cc())},styles:[""]}),e})();var br=t("CH0T");let vr=(()=>{class e{constructor(e,c){this.guardsService=e,this.router=c}canActivate(e,c){return!!this.guardsService.isInitiator||(this.router.navigate(["/"]),!1)}}return e.\u0275fac=function(c){return new(c||e)(u.kc(br.a),u.kc(a.a))},e.\u0275prov=u.Tb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var xr=t("T2Cl");let Pr=(()=>{class e{constructor(e,c){this.guardsService=e,this.router=c}canActivate(e,c){return!!this.guardsService.isUserAdmin||(this.router.navigate(["/"]),!1)}}return e.\u0275fac=function(c){return new(c||e)(u.kc(br.a),u.kc(a.a))},e.\u0275prov=u.Tb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),yr=(()=>{class e{constructor(e,c){this.guardsService=e,this.router=c}canActivate(e,c){return!!this.guardsService.isReviewer||(this.router.navigate(["/"]),!1)}}return e.\u0275fac=function(c){return new(c||e)(u.kc(br.a),u.kc(a.a))},e.\u0275prov=u.Tb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Kr=[{path:"dashboard",canActivate:[xr.a],component:hr},{path:"pilgrims",canActivate:[xr.a,vr],component:R},{path:"register-pilgrim",canActivate:[xr.a,vr],component:Ot},{path:"pilgrims-admin",canActivate:[xr.a,Pr],component:qt},{path:"pilgrims-reviewer",canActivate:[xr.a,yr],component:cr},{path:"pilgrims-deleted-reviewer",canActivate:[xr.a,yr],component:gr},{path:"",redirectTo:"pilgrims",pathMatch:"full"}];let Nr=(()=>{class e{}return e.\u0275mod=u.Vb({type:e}),e.\u0275inj=u.Ub({factory:function(c){return new(c||e)},imports:[[n.c,a.d.forChild(Kr)]]}),e})();var Or=t("hctd"),Ir=t("q4JE");let Sr=(()=>{class e{}return e.\u0275mod=u.Vb({type:e}),e.\u0275inj=u.Ub({factory:function(c){return new(c||e)},imports:[[n.c,Nr,i.a,o.e,r.i,r.u,Or.a,Ir.a]]}),e})()}}]);